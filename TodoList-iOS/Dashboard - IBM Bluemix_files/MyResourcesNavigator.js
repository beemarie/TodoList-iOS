//>>built
require({cache:{"cloudOE/panes/AppDetails":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/dom-construct dojo/dom-class dojo/dom-geometry dojo/topic dojo/on dojo/Deferred dojo/promise/all dojox/html/entities dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/layout/ContentPane dijit/registry ../ServerConnection ../RuntimeManager ../Utils ../utils/dom ../utils/cf-utils ../utils/apps ../utils/services ../utils/ScriptUtils ../utils/_AppNotificationGenerator ../utils/_ServiceHelper ./_Details ./ServiceDetailsPane ../widgets/MessageArea ../widgets/_StackedPaneContainer ./_ActionBarHandler ../actions/ChangeAppStateAction dojo/i18n!../nls/resources dojo/text!./templates/AppDetails.html ./AppDetailsOverview ./AppDetailsGettingStarted ./AppDetailsRuntime ../widgets/DockedActionBarSelector".split(" "),
function(k,n,h,p,c,g,v,y,u,z,w,x,s,r,f,B,m,t,e,b,C,d,l,q,A,a,H,M,I,N,O,E,L){var G={OVERVIEW:"overview",GETTINGSTARTED:"gettingstarted",RUNTIME:"runtime",SERVICE:"service"};k=k([r,x,s,a,I,N,q,A],{templateString:L,baseClass:"cloudOEAppDetails",_blankImage:t._blankImage,appNameRegEx:t.APP_NAME_REGEX,_itemCreated:!1,constructor:function(a){this.title=a.appName;this._itemCreated=a._itemCreated||!1;this.isEditInProgress=this.isDeveloper=!1;this.detailType=this._getDetailTypeFromContext(a);this.subpaneId=
a.paneId;this.templateId=a.templateId},postCreate:function(){this.inherited(arguments);this.own(y(this.dockedNavArea,"openedChanged",function(a){c.toggle(this.paneStack,"cloudOEDockedOpenNav",a);this._resizeChildPane()}.bind(this)));this.own(y(this.dockedNavArea,"backClick",function(a){this._onSpaceClick()}.bind(this)));this._resizeHandler=e.windowResizeThrottle(function(){this._resizeChildPane()}.bind(this));B._doCachedGet("/dashboard/mode").then(function(a){l.addUrlToHeader("//"+window.location.hostname+
":"+window.location.port+"/dashboard"+(a&&a.development?"/js/cfLogView.js":"/build/js/cfLogView.min.js"))},function(a){})},handleLogin:function(){this._loginDeferred=new u;this._loginDeferred.then(function(a){delete this._loginDeferred;this._subscribeCloudOETopic("cloudOE/createMultiple");this._subscribeCloudOETopic("cloudOE/deleteMultiple");this._subscribeCloudOETopic("cloudOE/updateMultiple");this._subscribeCloudOETopic("cloudOE/deleteApp");this._subscribeCloudOETopic("cloudOE/starAppOrService");
this._subscribeCloudOETopic("cloudOE/createServiceBinding");this._subscribeCloudOETopic("cloudOE/updateServiceInstance");this._subscribeCloudOETopic("cloudOE/deleteServiceBinding");this._subscribeCloudOETopic("cloudOE/updateAppSettings");this._subscribeCloudOETopic("cloudOE/updateAppRoutes");this._subscribeCloudOETopic("cloudOE/updateDevSpaces");this._subscribeCloudOETopic("cloudOE/changeOrg");this._subscribeCloudOETopic("cloudOE/createDomain");this._subscribeCloudOETopic("cloudOE/deleteDomain")}.bind(this),
function(a){delete this._loginDeferred}.bind(this));this.navigator=this.getParentNavigator();this._swapCurrentPane();this._refreshApp(!0)},_setContextAttr:function(a){this.inherited(arguments);if(a.appGuid){this.appData=a.appData||this.appData;this.subpaneId=a.paneId;this.orgGuid=a.orgGuid;this.spaceGuid=a.spaceGuid;var b=this.service;this.serviceGuid=a.serviceGuid;var d=this.detailType;this.detailType=this._getDetailTypeFromContext(a);(this.detailType!==d||b!=a.serviceGuid)&&this._swapCurrentPane();
this._setContextForCurrentPane(a);this._updateNavTreeSelection()}},_resizeChildPane:function(){var b=g.getContentBox(this.overviewContentPane.domNode).w;if(b)this.overviewContentPane.onResize(b);if(this.runtimeContentPane.paneId===a.PANE_USAGE&&(b=g.getContentBox(this.runtimeContentPane.domNode).w))this.runtimeContentPane.detailsUsage.onResize(b)},_getDetailTypeFromContext:function(a){var b;if(a.serviceGuid)b=G.SERVICE;else if(a.detailType)switch(a.detailType){case G.RUNTIME:b=G.RUNTIME;break;case G.GETTINGSTARTED:b=
G.GETTINGSTARTED;break;default:b=G.OVERVIEW}else this._itemCreated&&(b=G.GETTINGSTARTED);return b||G.OVERVIEW},_isRuntime:function(){var a=this.detailType;a===G.RUNTIME&&(this.runtime&&this.runtime.isNullRuntime)&&(a=this.detailType=G.OVERVIEW);return a&&a===G.RUNTIME},_isService:function(){return this.serviceGuid&&this.detailType===G.SERVICE},_updateNavTreeSelection:function(){var b=!1;if(this._isRuntime())switch(this.subpaneId||a.PANE_USAGE){case "0":this.navSelection=a.NAV_RUNTIME;break;case "1":this.navSelection=
a.NAV_FILELOGS;break;case "2":this.navSelection=a.NAV_OVERVIEW;break;case "3":this.navSelection=a.NAV_ENV_VARS;break;case "5":this.navSelection=a.NAV_LOGS;break;case "6":this.navSelection=a.NAV_DEPLOYMENT}else{var d=this.get("context").serviceGuid||this.serviceGuid||null,e=this.navSelection;this.navSelection=d||(this.detailType===G.GETTINGSTARTED?a.NAV_GETTINGSTARTED:a.NAV_OVERVIEW);this.navSelection===a.NAV_OVERVIEW&&this.navSelection===e&&(b=m.isDirty(this.overviewContentPane))}this.navigationTree&&
!b&&this.navigationTree.select(this.navSelection)},_cloudOETopicHandler:function(a,b){switch(a){case "cloudOE/deleteApp":b.appGuid===this.appGuid&&this._goBackToMyApps(!0,b);break;case "cloudOE/updateAppSettings":case "cloudOE/updateAppRoutes":if(!0!==b.appDetailsLoad&&b.appGuid===this.appGuid){var d=b.appData,e=b.refresh,A=b.save;if(d){this.appData||(this.appData=d);var F=this.navigator;F&&1===F.getCount()&&(F=this._createUserNotifications(this.appData,b))&&F.forEach(function(a){m.showNotification(a)}.bind(this));
this._isImportantDataChange(d).then(function(a){var F=this._isStateChange(d,b.stateChanged),l=!1;"STAGING"===this.appData.entity.state&&"STARTED"===d.entity.state&&0>=d.entity.running_instances&&(l=!0);this.appData=t.updateAppData(this.appData,d);if(F&&this.runtime&&!a)this.overviewContentPane.refreshStateInfo({appData:this.appData,isNew:b.isNew,state:b.state,runtime:this.runtime,isDeveloper:this.isDeveloper,orgGuid:this.orgGuid,isChangeDone:b.isChangeDone,bypassHealthInfo:l},this.overviewContentPane);
else if(e||A||a)!A||!b.settings||!(b.settings.name||void 0!==b.settings.ace_description)?this._refreshApp(!0,!1,{leaveEditors:!e&&!A,isNew:b.isNew,state:b.state,isChangeDone:b.isChangeDone}):b.settings.name&&this._updateNavTreeNode(b.settings.name)}.bind(this))}else this._refreshApp(!1,!0)}break;case "cloudOE/starAppOrService":b.isApp&&b.itemGuid===this.appGuid&&this.appData&&(this.appData.entity.ace_starred=b.starred);break;case "cloudOE/createServiceBinding":case "cloudOE/updateServiceInstance":b.appGuid===
this.appGuid&&(F=b.source?{source:b.source}:{},this._refreshApp(!0,!0,F));break;case "cloudOE/deleteServiceBinding":b.appGuid===this.appGuid&&(F=b.source?{source:b.source}:{},this._refreshApp(!0,!1,F,{handleInLocal:!0,handleType:"cloudOE/deleteServiceBinding",handleArgs:b}));break;case "cloudOE/changeOrg":this._onOrgChange();break;case "cloudOE/createDomain":if(b.orgGuid===this.orgGuid||b.spaceGuid===this.spaceGuid)F=b.domainData,this.appData.entity.space.entity.domains.push({entity:{name:F.entity.name,
owning_organization_guid:F.entity.owning_organization_guid},metadata:{guid:F.metadata.guid}});break;case "cloudOE/deleteDomain":if(b.orgGuid===this.orgGuid||b.spaceGuid===this.spaceGuid){var l=b.domainData.metadata.guid,F=this.appData.entity.space.entity.domains,q=-1;F.some(function(a,F){if(a.metadata.guid===l)return q=F,!0}.bind(this));0<=q&&F.splice(q,1)}break;default:this.inherited(arguments)}},_transformCloudOETopic:function(a,b){var d;switch(a){case "cloudOE/deleteMultiple":b["cloudOE/deleteApp"]?
d=this._transformSubTopic("cloudOE/deleteApp",b):b["cloudOE/deleteServiceBinding"]&&(d=this._transformSubTopic("cloudOE/deleteServiceBinding",b));break;case "cloudOE/createMultiple":d=this._transformSubTopic("cloudOE/createServiceBinding",b);break;case "cloudOE/updateMultiple":d=b.lastEvent;break;default:d=this.inherited(arguments)}return d},_isImportantDataChange:function(a){var d=new u,e=!1,A=this.appData,l=A.entity||A,F=a.entity||a,q=[];q.push(b.getListData(l,"routes"));q.push(b.getListData(F,
"routes"));z(q).then(function(b){var q=b[0];b=b[1];e=l.instances!==F.instances||t.getBuildpackInfo(A).label!==t.getBuildpackInfo(a).label||(A.ace_currentTemplateId||l.ace_currentTemplateId)!==a.ace_currentTemplateId||l.ace_description!=("string"===typeof F.ace_description?F.ace_description:l.ace_description)||!t.arraysEqual(q,b,function(a,F){return a.metadata.guid===F.metadata.guid});d.resolve(e)},function(a){d.reject(a)});return d},_isStateChange:function(a,b){var d=this.appData.entity,e=a.entity;
return b||d.state!==e.state||d.running_instances!==e.running_instances},_handleAppDataInLocal:function(a){var b=a.handleArgs.serviceInstanceGuid;switch(a.handleType){case "cloudOE/deleteServiceBinding":if(this.appServices)for(a=0;a<this.appServices.length;a++)if(this.appServices[a].guid===b){this.appServices.splice(a,1);break}this.appData=C.handleLocalAppDataAfterDeletingServiceBinding(this.appData,b)}},_refreshApp:function(a,b,d,e){b?this.appServices=this.appData=void 0:e&&e.handleInLocal&&this._handleAppDataInLocal(e);
b=this.appName;!this.appGuid&&(!b&&this._loginDeferred)&&this._loginDeferred.reject("There is no appGuid or appName");var A=m.createStandby(this.currentPane.domNode,null,!1,!0),F=m.createStandby(this.navigationTreeNode,{color:m.standbyColors.overlay_dark});this._startRefresh(A);b=[this.appData?this.appData:B.getAppSummary(this.appGuid),m.isOrgSelectorReady()];b=z(b);this.setServerRequestInProgress(b);b.then(function(b){var e=this.appData=b[0];this.appServices=this.appServices||(e?e.services:[]);this.organizations=
b[1]?b[1].organizations:[];if(e){this.appGuid=e.metadata.guid;this.appName=e.entity.name;this.isDeveloper=m.isDeveloper(e.entity.space_guid);this.appData.services||(this.appData.services=this.appServices);var l=e.entity.ace_initialTemplateId;b=[m.getSelectedSpaceInfo(),C.getRuntimeInfo(this.appData)];!this.templateData&&l&&b.push(B.getTemplate(l));b=z(b);this.setServerRequestInProgress(b);b.then(function(b){var l=b[0]?b[0].name:"";this.runtime=b[1];2<b.length&&(this.templateData=b[2]);n.mixin(this.appData.entity.space.entity,
{name:l});v.publish("cloudOE/updateAppSettings",{appGuid:this.appGuid,appName:this.appName,appData:e,appDetailsLoad:!0});this.detailType===G.RUNTIME&&this.runtime.isNullRuntime&&this._swapCurrentPane();this._setContextForCurrentPane(d);a&&this._setupNavTree(this.appData);this._endRefresh(A);m.destroyStandby(F);this._loginDeferred&&this._loginDeferred.resolve()}.bind(this),function(b){"cancel"===b.dojoType&&"CancelError"===b.name||((b=B.extractErrorMessage(b,!0))||(b=n.replace(E.cannotRetrieveTemplateForApp,
[l,this.appName])),console.error("AppDetails::_refreshApp -- "+b),this._setContextForCurrentPane(d),a&&this._setupNavTree(this.appData),this._endRefresh(A),m.destroyStandby(F),this._loginDeferred&&this._loginDeferred.resolve())}.bind(this))}else this._handleAppLoadError(),m.destroyStandby(A),m.destroyStandby(F)}.bind(this),function(a){"cancel"===a.dojoType&&"CancelError"===a.name||(this._handleAppLoadError(a),this._loginDeferred&&this._loginDeferred.resolve(a));m.destroyStandby(A);m.destroyStandby(F)}.bind(this))},
_handleAppLoadError:function(a){h.set(this.actionBar,"display","none");h.set(this.paneStack,"display","none");var b;a&&(b=B.extractErrorMessage(a,!0),console.error("AppDetails::_handleAppLoadError: "+b));b||(b=n.replace(E.appDoesNotExist,[w.encode(this.appName||this.appGuid)]));a=new M;c.add(a.domNode,this.baseClass+"MessageArea");a.startup();p.place(a.domNode,this.focusNode,0);a.show(b,M.types.ERROR)},_getContextForPane:function(b){var d=this._getOrgGuidAttr(),d={appGuid:this.appGuid,appName:this.appName,
appData:this.appData,spaceGuid:this.spaceGuid,orgGuid:d,runtime:this.runtime,templateData:this.templateData,isDeveloper:this.isDeveloper,detailType:this.detailType};this.currentPane!==this.runtimeContentPane&&(this.templateId=void 0);this._isRuntime()&&n.mixin(d,{paneId:this.subpaneId||a.PANE_USAGE,templateId:this.templateId});this._isService()&&n.mixin(d,{serviceGuid:this.serviceGuid});b&&n.mixin(d,b);return d},_setContextForCurrentPane:function(a){this.currentPane.set&&(a=this._getContextForPane(a),
this.currentPane.set("context",a))},_getServiceDetailsPane:function(a){a=this.swapPane(a,"servicePane_"+this.serviceGuid,H,{serviceGuid:this.serviceGuid,orgGuid:this.orgGuid,spaceGuid:this.spaceGuid,appGuid:this.appGuid,appData:this.appData});this._placeActionBar(a);this._handleFullWidthService(a);return a},_handleFullWidthService:function(a){if(a=a.firstElementChild){var b=f.byNode(a);b&&b._loginDeferred&&b._loginDeferred.then(function(){var a=b.serviceData;a&&(a=d.isEmbeddableFullWidth(a))&&this.dockedNavArea.set("opened",
!a)}.bind(this))}},_swapCurrentPane:function(){var a=this._isRuntime(),b=this.detailType,d=b+"Section_"+this.get("id"),d=this.swapPane(this.paneStack,d);this._placeActionBar(d);d=this.currentPane=a?this.runtimeContentPane:b===G.SERVICE||this.serviceGuid?this._getServiceDetailsPane(d):b===G.OVERVIEW?this.overviewContentPane:this.gettingStartedContentPane;a?c.add(this.domNode,"cloudOERuntimeDetails"):c.remove(this.domNode,"cloudOERuntimeDetails");for(var e in G)c.remove(this.domNode,G[e]);c.add(this.domNode,
b);return d},_onAppNameClick:function(b){this.navSelection!=a.NAV_OVERVIEW&&(this.navSelection=a.NAV_OVERVIEW,this._onNavOverviewClick(),this.navigationTree.select(this.navSelection))},_handleNavClick:function(a,b){this.navSelection=b;this.detailType=a.detailType;this.subpaneId=a.paneId;this.serviceGuid=a.serviceGuid;var e=function(b,e){if(b&&e){var F=d.calculateDashboardUrl(e.entity,e.entity.service_bindings);a.orgGuid=this.orgGuid;a.spaceGuid=this.spaceGuid;a.appGuid=this.appGuid;"launch"===b?this.launchService(F,
a):this.drilldownService(F,a)}else this._swapCurrentPane(),this._setContextForCurrentPane(a),this.navigator.addRoute(n.mixin({orgGuid:this.orgGuid,spaceGuid:this.spaceGuid,appGuid:this.appGuid,appData:this.appData},a))}.bind(this);G.SERVICE===this.detailType?this.openServiceFromInstance(this.focusNode,this.serviceGuid,e):e()},_onNavOverviewClick:function(b){this._handleNavClick({detailType:G.OVERVIEW,paneId:a.PANE_OVERVIEW},a.NAV_OVERVIEW)},_onNavRuntimeClick:function(b){this._handleNavClick({detailType:G.RUNTIME,
paneId:a.PANE_USAGE},a.NAV_RUNTIME)},_onNavFilesLogsClick:function(b){this._handleNavClick({detailType:G.RUNTIME,paneId:a.PANE_FILELOGS},a.NAV_FILELOGS)},_onNavLogsClick:function(b){this._handleNavClick({detailType:G.RUNTIME,paneId:a.PANE_LOGS},a.NAV_LOGS)},_onNavEnvVarsClick:function(b){this._handleNavClick({detailType:G.RUNTIME,paneId:a.PANE_ENV_VARS},a.NAV_ENV_VARS)},_onNavGettingStartedClick:function(b){this._handleNavClick({detailType:G.GETTINGSTARTED,paneId:a.PANE_GETTINGSTARTED},a.NAV_GETTINGSTARTED)},
_onNavDeploymentClick:function(b){this._handleNavClick({detailType:G.RUNTIME,paneId:a.PANE_DEPLOYMENT},a.NAV_DEPLOYMENT)},_onNavServiceClick:function(a){this._handleNavClick({detailType:G.SERVICE,serviceGuid:a.id},a.id)},_getOrganizationDataFromSpace:function(a){var d=new u,e=a.entity?a.entity.name:a.name,A=a.metadata?a.metadata.guid:a.guid;this.orgData?d.resolve(this.orgData):(a=[this.organizations||m.isOrgSelectorReady()],a=z(a),this.setServerRequestInProgress(a),a.then(function(a){var F=a[0]?a[0].organizations||
a[0]:[],l=function(a){if(a<F.length&&!this.orgData){var q=F[a];b.getRegionListData(q,"spaces").then(function(b){b.some(function(a){if(a.metadata.guid===A||a.entity.name===e)this.orgData=q;return this.orgData}.bind(this));l(a+1)}.bind(this),function(a){d.reject(a)}.bind(this))}else d.resolve(this.orgData)}.bind(this);l(0)}.bind(this),function(a){d.reject(a)}));return d},_goBackToMyApps:function(a,b){var d=this.getParentNavigator();d&&a&&d.goHome(b)},_changeAppState:function(a,b){(new O).run({appData:a,
state:b,standbyDomNode:this.focusNode})},_placeNavTree:function(a){this._updateNavTreeSelection();void 0!==this.navigationTreeNode&&a.placeAt(this.navigationTreeNode,"only")},_updateNavTreeNode:function(b){this.navigationTree&&this.navigationTree.updateNodeName(a.NAV_APPNAME,b)},_getOrgGuidAttr:function(){var a=this.orgGuid;if(!a){var b=this.appData&&this.appData.entity?this.appData.entity:{},d=b.space&&b.space.entity?b.space.entity:null;d&&d.organization_guid?a=this.orgGuid=d.organization_guid:this._getOrganizationDataFromSpace(b.space).then(function(b){return a=
this.orgGuid=b.metadata?b.metadata.guid:null}.bind(this))}return a},destroy:function(){this.inherited(arguments);this._resizeHandler&&this._resizeHandler.cancel()}});k.types=G;return k})},"cloudOE/panes/_Details":function(){define("dojo/_base/declare dojo/_base/lang dojox/html/entities dojo/dom-class dojo/Deferred dojo/promise/all ./_NavigatorPane ../ServerConnection ../Utils ../utils/apps ../utils/services ../widgets/NavigationTree ../RuntimeManager dojo/i18n!../nls/resources".split(" "),function(k,
n,h,p,c,g,v,y,u,z,w,x,s,r){var f=k([v],{resources:r,postCreate:function(){y.getPublicInfo().then(function(f){this.logsEnabled=f.showLoggingUI;this.useGitFlow=f.useDeploymentPane;this._nodeRedTemplateId=f.nodeRedTemplateId;this._iotTemplateId=f.iotTemplateId}.bind(this),function(f){console.error("_Details::postCreate -- error getting public info")})},navigationTree:null,_navTreeLoaded:null,constructor:function(){this._navTreeLoaded=new c},_setupNavTree:function(c){z.getRuntimeInfo(c).then(function(m){var t=
[];t.push({id:f.NAV_APPNAME,name:c.entity.name,rowClass:"cloudOENavigationCategoryMain",hide:!1,parent:x.ROOT_ID});t.push({id:f.NAV_OVERVIEW,name:r.navOverview,rowClass:"selectable",parent:f.NAV_APPNAME});var e=z.getTemplateId(c),e=this.useGitFlow&&e!==this._nodeRedTemplateId&&e!==this._iotTemplateId;m.isNullRuntime||(t.push({id:f.NAV_RUNTIME,name:m.name,rowClass:"selectable",parent:f.NAV_APPNAME}),m="",m=this.logsEnabled?r.files:r.filesAndLogs,t.push({id:f.NAV_FILELOGS,name:m,rowClass:"selectable",
parent:f.NAV_APPNAME}),this.logsEnabled&&t.push({id:f.NAV_LOGS,name:r.logs,rowClass:"selectable",parent:f.NAV_APPNAME}),t.push({id:f.NAV_ENV_VARS,name:r.environmentVariables,rowClass:"selectable",parent:f.NAV_APPNAME}),e&&t.push({id:f.NAV_DEPLOYMENT,name:r.appDeployment,rowClass:"selectable",parent:f.NAV_APPNAME}));e||t.push({id:f.NAV_GETTINGSTARTED,name:r.appGettingStarted,rowClass:"selectable",parent:f.NAV_APPNAME});m={id:f.NAV_SERVICES,parent:x.ROOT_ID,rowClass:"cloudOENavigationCategoryMain servicesCategory",
subMenuContainerClass:"servicesSubMenu",hide:!1};t.push(m);if(c.services){var b=y.getServiceOfferings(this.orgGuid,this.spaceGuid),e=c.services.map(function(e){return this._getServiceModel(e,b)},this).sort(function(b,d){return u.strCompareIgnoreCase(b.name,d.name)}),t=t.concat(e);b.isFulfilled()||c.services.forEach(function(b){var d=w.getServiceOfferingMetadata(b);(d=d&&d.guid)&&g([y.getServiceOffering(d),this._navTreeLoaded]).then(function(d){var e=d[0];d=d[1];e&&(e=w.getDisplayName(e))&&d.updateNodeName(b.guid,
e)})},this);m.name=r.label_services}this._createTree(t);!this.spaceName&&c&&(t=this.spaceName=c.entity.space.entity.name,this.dockedNavArea&&this.dockedNavArea.set("backLabel",n.replace(r.backToDashboardSpace,[h.encode(t)])))}.bind(this))},_getServiceModel:function(c,m){var t=w.getServiceOfferingMetadata(c);if(m.isResolved()){var e=t&&t.guid;e&&y.getServiceOffering(e).then(function(b){t=b})}e=t&&w.getDisplayName(t)||w.getDisplayName(c)||c.name;return{id:c.guid,name:e,title:c.name,type:"service",parent:f.NAV_SERVICES,
rowClass:"selectable",disable:!s.isDeveloper(s.selectedSpace)}},_createTree:function(f){this.navigationTree&&this.navigationTree.destroyRecursive();this.navigationTree=new x({data:f,collapseOnSelect:!1,onClick:this._onNavTreeClick.bind(this)});this._placeNavTree(this.navigationTree);this._navTreeLoaded.resolve(this.navigationTree)},_placeNavTree:function(f){console.error("Must be implemented by subclass")},_onNavTreeClick:function(c){switch(c.id){case f.NAV_OVERVIEW:this._onNavOverviewClick(c);break;
case f.NAV_RUNTIME:this._onNavRuntimeClick(c);break;case f.NAV_FILELOGS:this._onNavFilesLogsClick(c);break;case f.NAV_LOGS:this._onNavLogsClick(c);break;case f.NAV_ENV_VARS:this._onNavEnvVarsClick(c);break;case f.NAV_GETTINGSTARTED:this._onNavGettingStartedClick(c);break;case f.NAV_DEPLOYMENT:this._onNavDeploymentClick(c);break;default:"service"===c.type&&this._onNavServiceClick(c)}},_onNavOverviewClick:function(c){this.getParentNavigator().set("context",{appGuid:this.appGuid,appData:this.appData,
orgGuid:this.orgGuid,spaceGuid:this.spaceGuid,detailType:"overview",paneId:f.PANE_OVERVIEW})},_onNavRuntimeClick:function(c){this.getParentNavigator().set("context",{appGuid:this.appGuid,appData:this.appData,spaceGuid:this.spaceGuid,detailType:"runtime",paneId:f.PANE_USAGE})},_onNavFilesLogsClick:function(c){this.getParentNavigator().set("context",{appGuid:this.appGuid,appData:this.appData,spaceGuid:this.spaceGuid,detailType:"runtime",paneId:f.PANE_FILELOGS})},_onNavLogsClick:function(c){this.getParentNavigator().set("context",
{appGuid:this.appGuid,appData:this.appData,spaceGuid:this.spaceGuid,detailType:"runtime",paneId:f.PANE_LOGS})},_onNavEnvVarsClick:function(c){this.getParentNavigator().set("context",{appGuid:this.appGuid,appData:this.appData,spaceGuid:this.spaceGuid,detailType:"runtime",paneId:f.PANE_ENV_VARS})},_onNavGettingStartedClick:function(){this.getParentNavigator().set("context",{appGuid:this.appGuid,appData:this.appData,orgGuid:this.orgGuid,spaceGuid:this.spaceGuid,detailType:"gettingstarted",paneId:f.PANE_GETTINGSTARTED})},
_onNavDeploymentClick:function(){this.getParentNavigator().set("context",{appGuid:this.appGuid,appData:this.appData,orgGuid:this.orgGuid,spaceGuid:this.spaceGuid,detailType:"runtime",paneId:f.PANE_DEPLOYMENT})},_onNavServiceClick:function(f){this.getParentNavigator().set("context",{appGuid:this.appGuid,serviceGuid:f.id,spaceGuid:this.appData.space_guid})},_updateNavTree:function(f){this.navigationTree.updateNodeName(f.appGuid,f.appData.name)},_onOrgChange:function(f){this.getParentNavigator().isVisible()&&
s.showMainPane(s.mainPanes.DASHBOARD,{clearContext:!0})},_onSpaceClick:function(f){if(!s.handlePanelDirty(this)){var m=this.appData||this.serviceData;m.entity&&m.entity.space&&(this.orgGuid=this.orgGuid||m.entity.space.entity.organization_guid);this.orgGuid?s.showMainPane(s.mainPanes.DASHBOARD,{orgGuid:this.orgGuid,spaceGuid:m.entity.space_guid}):this._getOrganizationDataFromSpace(m.entity.space).then(function(f){f=this.orgGuid=f.metadata.guid;s.showMainPane(s.mainPanes.DASHBOARD,{orgGuid:f,spaceGuid:m.entity.space_guid})}.bind(this))}}});
f.NAV_APPNAME="nav_appname";f.NAV_OVERVIEW="nav_overview";f.NAV_RUNTIME="nav_runtime";f.NAV_FILELOGS="nav_fileslogs";f.NAV_LOGS="nav_logs";f.NAV_ENV_VARS="nav_env_vars";f.NAV_GETTINGSTARTED="nav_gettingstarted";f.NAV_DEPLOYMENT="nav_deployment";f.NAV_SERVICES="nav_services";f.PANE_USAGE="0";f.PANE_FILELOGS="1";f.PANE_OVERVIEW="2";f.PANE_ENV_VARS="3";f.PANE_GETTINGSTARTED="4";f.PANE_LOGS="5";f.PANE_DEPLOYMENT="6";return f})},"cloudOE/panes/AppDetailsOverview":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/dom-construct dojo/dom-class dojo/topic dojo/on dojo/Deferred dojo/promise/all dojo/query dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/layout/ContentPane ../ServerConnection ../RuntimeManager ./accountManagement/AccountManager ../Utils ../utils/apps ../utils/_AppStateHelper ./_NavigatorPane ../widgets/_FavoriteMixin ./AppDetailsOverviewBar ../widgets/MessageDialog ../actions/ChangeAppStateAction ../actions/LaunchBuildpackLinkAction ../actions/LaunchResourceDocumentationAction dojox/html/entities dojo/i18n!../nls/resources dojo/i18n!./accountManagement/nls/resources dojo/text!./templates/AppDetailsOverview.html dijit/TooltipDialog dijit/popup ../widgets/Menu ../widgets/TileListArea ../widgets/RuntimeCardBar ./AppDetailsHeader ./AppActivity ./AppDetailsServices".split(" "),
function(k,n,h,p,c,g,v,y,u,z,w,x,s,r,f,B,m,t,e,b,C,d,l,q,A,a,H,M,I,N,O,E){k=k([s,w,x,b,C,e],{templateString:N,baseClass:"cloudOEAppDetailsOverview",_blankImage:m._blankImage,appNameRegEx:m.APP_NAME_REGEX,isApp:!0,constructor:function(a){this.title=a.appName;this._itemCreated=a._itemCreated;this.dirty=this.isEditInProgress=this.isDeveloper=!1},postCreate:function(){this.inherited(arguments);r.getPublicInfo().then(function(a){c.toggle(this.estimateCost,"dijitHidden",!0!==a.enablePricingFeatures)}.bind(this),
function(a){console.error("AppDetailsOverview::postCreate -- error getting public info")})},onResize:function(a){a=window.matchMedia("(max-width: 768px)").matches?400>a?"isSmall":640>a?"isMedium":"isLarge":700>a?"isSmall":900>a?"isXMedium":"isXLarge";c.remove(this.domNode,"isSmall isMedium isLarge isXLarge isXMedium");c.add(this.domNode,a)},handleLogin:function(){this.navigator=this.getParentNavigator()},_setContextAttr:function(a){this.inherited(arguments);if(a&&a.appData&&a.runtime){var b=a.leaveEditors;
this.guid=this.appGuid=a.appGuid;this.title=this.appName=a.appName;this.appData=a.appData;this.orgGuid=a.orgGuid;this.runtime=a.runtime;this.templateData=a.templateData;this.isDeveloper=a.isDeveloper;this._populateGeneralInfo(b);this.runtimeCardBar.set("navigator",this.navigator);this.runtimeCardBar.set("context",a);this.appDetailsHeader.set("context",{appData:this.appData,appGuid:this.appData.metadata.guid,appName:this.appData.entity.name,isDeveloper:this.isDeveloper,runtime:this.runtime,orgGuid:this.orgGuid,
_itemCreated:this._itemCreated,parent:this});this.servicesContent.set("context",{clearData:!1,appData:this.appData,source:a.source});this.activityLog.set("context",{clearData:!1,appData:this.appData})}},refreshStateInfo:function(a){this.appData=a.appData;this.runtime=a.runtime;this.appData&&this._setAppHealth(a.bypassHealthInfo);this.runtimeCardBar.set("context",a);var b=this.appData.entity||this.appData;a=b.state;var b=m.getAppHealth(b.running_instances?b.running_instances:0,b.instances),d="STARTED"===
a&&0<b;(a=z(".appRouteLink",this.appDetailsHeader.domNode))&&a.forEach(function(a){if(a){var b=H.encode(a.textContent);c.toggle(a,"disabledRoute",!d);d?p.create("a",{href:"http://"+b,target:"cloudOEApp_"+this.appName,innerHTML:b},a,"only"):p.create("span",{innerHTML:b},a,"only")}}.bind(this))},getActionBarContent:function(){this.actionBarContent||(this.actionBarContent=p.create("div"));return this.actionBarContent},_populateGeneralInfo:function(a){if(!this._destroyed)if(this.appData&&this._setAppHealth(),
a={appData:this.appData,appGuid:this.appData.metadata.guid,appName:this.appData.entity.name,isDeveloper:this.isDeveloper,runtime:this.runtime,orgGuid:this.orgGuid,parent:this},this.overviewBar)this.overviewBar._setContextAttr(a);else{var b=this.getActionBarContent();this.overviewBar=new d(a);b.appendChild(this.overviewBar.domNode);this.overviewBar.startup()}},setAppSummaryRuntime:function(a){c.toggle(this.runtimeSection,"dijitHidden",this.runtime.isNullRuntime)},_setLinkContainerDisabled:function(a,
b){b?c.add(a,"cloudOEDisabledLinkContainer"):c.remove(a,"cloudOEDisabledLinkContainer")},_onBuildpackClick:function(a){!c.contains(this.buildpackLink,"cloudOEDisabledLinkContainer")&&!f.handlePanelDirty(this)&&((new A).run({appData:this.appData}),f.stopEvent(a))},_onStateChange:function(){this._setAppHealth()},_onRestartAppClick:function(a){this.restartApp(this.appData,null,this)},_onStartStopAppClick:function(a){f.handlePanelDirty(this)||this.startStopApp(this.appData,this.focusNode,this)},_onLaunchTemplateDocsClicked:function(b){if(this.templateData){var d=
m.getDocumentationURL(this.templateData);if(d){var e=this.appData.entity.ace_initialTemplateId;(new a).run({resourceGuid:e,docURL:d})}}f.stopEvent(b)},_goBackToMyApps:function(){var a=this.getParentNavigator();a&&a.goHome()},_setAppHealth:function(a){a||this._setHealthIndicator();this._setStatusAction()},_setHealthIndicator:function(){var a=t.getAppState(this.appData);m.setHealthIndicatorBasedOnItem(this.healthStatus,{state:a,instances:this.appData.entity.instances,running_instances:this.appData.entity.running_instances},
!0,this.runtime.isNullRuntime,"full")},_setStatusAction:function(){var a=this.isDeveloper,b=!this.runtime.isNullRuntime;c.toggle(this.healthStatusAction,"ace-is-not-developer",!a);c.toggle(this.healthStatusAction,"app-no-runtime",!b);a&&(a=t.getAppState(this.appData),b="STOPPED"===a,c.toggle(this.healthStatusAction,"app-is-started","STARTED"===a),c.toggle(this.healthStatusAction,"app-is-stopped",b))},_hoverOnHealth:function(){if(this.runtime&&!this.runtime.isNullRuntime){var a=p.create("div",null,
null,"last");p.create("div",{"class":"healthTooltipStatus",innerHTML:m.getAppSummaryHealthTooltipContent(this.appData)},a,"last");var b=p.create("div",{"class":"viewInstanceDetails",innerHTML:M.viewInstanceDetails},a,"last"),d=new O({baseClass:"dijitTooltipDialog healthTooltipDialog",content:a,onMouseLeave:function(){E.close(d);d.destroyRecursive()}});v(b,"click",function(){E.close(d);d.destroyRecursive();f.handlePanelDirty(this)||this.getParentNavigator().set("context",{appGuid:this.appGuid,appData:this.appData,
spaceGuid:this.spaceGuid,detailType:"runtime",paneId:"0"})}.bind(this));E.open({popup:d,around:this.healthCircleStatus});var e;this.healthCircleStatus.addEventListener("mouseout",function(a){e=window.setTimeout(function(){E.close(d);d.destroyRecursive()}.bind(this),1E3)}.bind(this),!0);v(a,"mouseover",function(){clearTimeout(e)}.bind(this))}},_onEstimateCostClick:function(a){f.handlePanelDirty(this)||(a={orgGuid:this.orgGuid,appGuid:this.appData.metadata.guid,cloudOEPaneId:f.mainPanes.PRICING},this.runtime.isNullRuntime||
n.mixin(a,{instances:this.runtimeCardBar.appData.entity.instances,memory:this.runtimeCardBar.appData.entity.memory}),f.showMainPane(f.mainPanes.PRICING,a))}});k.panes={SERVICES:"appDetailsServices",ENV_VARS:"appDetailsEnvVars",USAGE:"appDetailsUsage",FILES_LOGS:"appDetailsFiles",SERVICE_OFFERING:"appServiceOffering"};return k})},"cloudOE/panes/AppDetailsOverviewBar":function(){define("dojo/_base/declare dojo/dom-class dojo/topic dijit/_TemplatedMixin dijit/layout/ContentPane ./_NavigatorPane dojo/i18n!../nls/resources dojo/text!./templates/AppDetailsOverviewBar.html".split(" "),
function(k,n,h,p,c,g,v,y){return k([c,p,g],{templateString:y,baseClass:"cloudOEAppDetailsOverviewBar",constructor:function(c){this.context=c},postCreate:function(){this.inherited(arguments);this.own(h.subscribe("cloudOE/updateAppSettings",function(c){c.appGuid===this.guid&&c.settings&&(c.settings.name&&(this.appName=c.settings.name),void 0!==c.settings.ace_description&&this.set("description",c.settings.ace_description))}.bind(this)));this._setContextAttr(this.context)},_setContextAttr:function(c){this.inherited(arguments);
if(c&&c.appData){this.appGuid=this.guid=c.appGuid;if((this.appData=c.appData)&&c.appData.entity)this.description=c.appData.entity.ace_description;this._populateGeneralInfo()}},_setDescriptionAttr:function(c){this.mainAppDescription.textContent=c||"";n.toggle(this.mainAppDescription,"cloudOEMissingAppDescription",!c);this._set("description",c)},_populateGeneralInfo:function(){this._setDescriptionAttr(this.description)}})})},"cloudOE/actions/LaunchBuildpackLinkAction":function(){define(["dojo/_base/declare",
"../RuntimeManager","../Utils","./_Action"],function(k,n,h,p){return k([p],{run:function(c){if(!c||!c.appData)console.error("Invalid context for action.");else{var g=c.appData;c=g.entity.name;g=h.getBuildpackInfo(g);g.link?n.launchURL(g.link,"cloudOEAppBuildPack_"+g.link):console.error("There is no build pack link for the app \x3d "+c)}}})})},"cloudOE/widgets/RuntimeCardBar":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/dom-class dojo/on ../panes/_BasePane dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/ValidationTextBox dijit/form/Textarea dojo/i18n!../nls/resources dojo/i18n!../panes/accountManagement/nls/resources dojo/text!./templates/RuntimeCardBar.html ../Utils ../utils/apps ./MessageDialog ./MemorySpinner ../RuntimeManager ../panes/accountManagement/AccountManager ../ServerConnection dojo/promise/all dojox/html/entities ../utils/_AppStateHelper dojo/topic ./TileListArea ./StyledNumberSpinner dijit/form/Form dijit/form/Button".split(" "),
function(k,n,h,p,c,g,v,y,u,z,w,x,s,r,f,B,m,t,e,b,C,d,l,q){return k([g,v,y,l],{templateString:s,baseClass:"cloudOEAppDetailsOverview",resources:w,MAX_MEM_PER_INSTANCE:8192,postCreate:function(){this.inherited(arguments);this.own(c(this.runtimeCard,"click",function(b){!t.handlePanelDirty(this)&&this.navigator&&(b={appGuid:this.appGuid,appData:this.appData,orgGuid:this.orgGuid,spaceGuid:this.appData.space_guid,detailType:"runtime"},this.navigator.set("context",b),this.navigator.addRoute(b))}.bind(this)));
this.memorySpinner.onUnitChange(function(b){this.memoryUnit.textContent=n.replace(w.memoryUnitPreInstance,[b])}.bind(this))},_setContextAttr:function(b){this.inherited(arguments);if(b&&(b.appData&&b.runtime)&&!this.dirty){var a=this._ifItIsNecessaryToRePopulateRuntimeCard(b.appData.entity||b.appData,this.appData&&(this.appData.entity||this.appData));this.guid=this.appGuid=b.appData.metadata.guid;this.title=this.appName=b.appData.entity.name;this.appData=b.appData;this.runtime=b.runtime;this.isDeveloper=
b.isDeveloper;this.orgGuid=b.orgGuid;a&&this._populateRuntimeCard()}},_ifItIsNecessaryToRePopulateRuntimeCard:function(b,a){function d(a,b){var e=!0;if(void 0===a&&void 0===b)return!0;if(("string"===typeof a||"number"===typeof a||"function"===typeof a)&&("string"===typeof b||"number"===typeof b||"function"===typeof b))return a.toString()===b.toString();for(var l in a)if(b&&b.hasOwnProperty(l)){if(!d(a[l],b[l])){e=!1;break}}else{e=!1;break}return e}if(!b||!a)return!0;var e=!1,l=[],q=["name","ace_description"],
f;for(f in b)a.hasOwnProperty(f)?(!d(b[f],a[f])||!d(a[f],b[f]))&&l.push(f):l.push(f);l.forEach(function(a){if(0>q.indexOf(a))return e=!0});return e},_setupInstancesSpinner:function(){var b=this.appData.entity.instances,a=this.instancesSpinner;this._instancesSpinnerSetup||(a.set("constraints",{min:1,max:this.MAX_INSTANCES,places:0}),a.set("smallDelta",1),a.set("largeDelta",1),this.own(c(a,"change",function(a){this._handleSpinnerUpdates()}.bind(this))),this._instancesSpinnerSetup=!0);a.set("value",
b)},_setupMemorySpinner:function(){var b=this.appData.entity.memory,a=this.quotaDefinitionData.entity.memory_limit;a>this.maxMemoryPerAppInstance&&(a=this.maxMemoryPerAppInstance);var d=this.memorySpinner;this._memorySpinnerSetup||(d.set("constraints",{min:m.MIN_MEM_PER_INSTANCE,max:a}),this.own(c(d,"change",function(a){this._handleSpinnerUpdates()}.bind(this))),this._memorySpinnerSetup=!0);d.set("value",b)},_handleSpinnerUpdates:function(){var b=this.appData,a=b.entity.memory,b=b.entity.instances,
d=this.quotaDefinitionData.entity.memory_limit,e=this.summaryOfSpaces.mem_total,l=this.memorySpinner.get("value"),f=this.instancesSpinner.get("value"),q=a!=l||b!=f;this.set("dirty",q);this.saveButton.disabled=!q;this.resetButton.disabled=!q;h.set(this.unsavedChangesMessageArea,"visibility",q?"":"hidden");this.memorySpinner.isValid()&&this.instancesSpinner.isValid()&&(a=this.proposedTotalMemoryAvailable=d-(e-a*b)-l*f,b=r.getSizeStringFromMB(Math.abs(a)),this.proposedTotalMemoryAvailableCell.textContent=
0<=a?b:"-"+b,0<a?(p.add(this.proposedTotalMemoryAvailableCell,"cloudOEPositiveNumber"),p.remove(this.proposedTotalMemoryAvailableCell,"cloudOENegativeNumber")):(p.remove(this.proposedTotalMemoryAvailableCell,"cloudOEPositiveNumber"),p.add(this.proposedTotalMemoryAvailableCell,"cloudOENegativeNumber")))},_memoryQuestionClick:function(b){r.showMessage({type:B.types.CONFIRM,message:w.memoryLimitDialogMessage,childWidget:null,addedClass:null,showTitle:!0,dialogTitle:w.memoryLimitDialogTitle,okText:x.upgradeButtonText,
cancelText:w.close,isSpecialQuestion:!0}).then(function(a){a&&t.showMainPane(t.mainPanes.UPGRADEACCOUNT,{account:this.account,showExpirationPane:!0})}.bind(this))},_setDirty:function(b){this.dirty=b;this.set("dirty",this.dirty);h.set(this.unsavedChangesMessageArea,"visibility",this.dirty?"":"hidden")},_onSaveClick:function(){var e=this.memorySpinner,a=this.instancesSpinner;if(e.isValid()&&a.isValid())if(0>this.proposedTotalMemoryAvailable)e=r.getSizeStringFromMB(Math.abs(this.proposedTotalMemoryAvailable)),
e=n.replace(w.configExceedsMemoryQuota,[e]),t.showErrorMessage(e,null,w.exceedMemoryQuotaDialogTitle);else{var m=this.appGuid,c=this.appName,C=e.get("value"),s=a.get("value"),e={memory:C,instances:s},g=this.appData.entity.memory,h=t.createStandby(this.domNode,null,!1,!0),k={source:this,appGuid:m,appName:c,settings:e};this._setDirty(!1);b.updateAppSettings(m,e).then(function(a){var e=g!=this.memorySpinner.get("value")?!0:!1,A=a.entity.state;e&&"STARTED"===A?(f.setAceState(a.guid,{state:l.STOPPING,
toState:l.STOPPED}),b.changeAppState(m,"STOPPED").then(function(b){t.destroyStandby(h);this._updateInternalData(k,a);this.appData.entity.state="STOPPED";this.startStopApp(this.appData,this.focusNode,this)}.bind(this),function(a){f.setAceState(this.appData.guid,!1);var b=n.replace(w.cannotStopApp,[d.encode(c)]);t.handleError(a,b,h,w.stopAppDialogTitle)})):(t.destroyStandby(h),this._updateInternalData(k,a),q.publish("cloudOE/updateAppSettings",k),this.appData.entity.state="STOPPED",this.startStopApp(this.appData,
this.focusNode,this))}.bind(this),function(a){if(f.isAppCreating(m)&&a.response&&a.response.data&&150002===a.response.data.code)t.destroyStandby(h),a=n.clone(this.appData),a.entity.memory=C,a.entity.instances=s,this._updateInternalData(k,a);else{var b=n.replace(w.cannotUpdateAppSettings,[d.encode(c)]);t.handleError(a,b,h,w.updateAppDialogTitle)}}.bind(this))}},_updateInternalData:function(b,a){b.appData=a;b.orgGuid=t.getSelectedOrgGuid();this.appData=r.updateAppData(this.appData,a);this._handleSpinnerUpdates()},
_populateRuntimeCard:function(){var d=this.runtime;d.isNullRuntime||(this.runtimeTileArea.reset(),this.runtimeTileArea.load({data:[d],tileWidth:48,iconType:"large"}),this.runtimeName.textContent=d.name);p.toggle(this.runtimeSection,"dijitHidden",d.isNullRuntime);if(e.isTrialFeatureEnabled()&&this.orgGuid){if(d=t.getOrgData(this.orgGuid))var a=d.entity.region;e.getOwningAccount(this.orgGuid,a).then(function(a){a&&(e.isAccountOwner(a)&&e.isTrialAccount(a))&&(this.account=a,p.remove(this.memoryLimitQuestion,
"dijitHidden"))}.bind(this))}var a=this.appData,l=this.appGuid,d=t.getSelectedOrg(),q=this.quotaDefinitionData,f;if(!q||!d)f=d.entity.quota_definition_guid;f=[a?a:b.getAppSummary(l),q?q:b.getQuotaDefinition(f),b.getAggregatedSummaryOfSpaces(d),b.getPublicInfo()];this.instancesSpinner.set("disabled",!this.isDeveloper);this.memorySpinner.set("disabled",!this.isDeveloper);f=C(f);this.setServerRequestInProgress(f);f.then(function(a){this.appData=a[0];this.quotaDefinitionData=a[1];this.summaryOfSpaces=
a[2];this.maxMemoryPerAppInstance=a[3].maxMemoryPerAppInstance||this.MAX_MEM_PER_INSTANCE;this._setupInstancesSpinner();this._setupMemorySpinner();this._handleSpinnerUpdates()}.bind(this),function(a){t.handleError(a,w.cannotRetrieveInfo)})},_onResetClick:function(){var b=this.appData,a=b.entity.instances;this.memorySpinner.set("value",b.entity.memory);this.instancesSpinner.set("value",a)}})})},"cloudOE/panes/AppDetailsHeader":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/window dojo/dom dojo/dom-class dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/string dojo/topic dojo/on dojo/Deferred dojo/aspect dojo/promise/all dojox/html/entities dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/layout/ContentPane dijit/Tooltip ../ServerConnection ../RuntimeManager ../Utils ../utils/storage ../utils/cf-utils ../utils/apps ../utils/dom ../utils/_AppStateHelper ../utils/coremetrics ./_NavigatorPane ../widgets/EditRouteDialog ../widgets/EditArtifactDialog ../widgets/_FavoriteMixin ../widgets/AddRepositoryDialog ../widgets/AddToolchainDialog ../actions/DeleteAppAction ../actions/ChangeAppStateAction dojo/i18n!../nls/resources dojo/text!./templates/AppDetailsHeader.html ./AppDetailsMobileSdk ../widgets/Menu".split(" "),
function(k,n,h,p,c,g,v,y,u,z,w,x,s,r,f,B,m,t,e,b,C,d,l,q,A,a,H,M,I,N,O,E,L,G,J,T,K,S){return k([t,B,m,I,E,H],{templateString:S,baseClass:"cloudOEAppDetailsHeader",gitRepositoryDeploymentStatus:!1,_blankImage:d._blankImage,jazzEnabled:!1,routesToDisplay:1,constructor:function(a){this.title=K.navOverview;this._itemCreated=a._itemCreated;this.dirty=this.isEditInProgress=this.isDeveloper=!1;this.isApp=!0;this.context=a},postCreate:function(){this.inherited(arguments);this._resizeHandler=a.windowResizeThrottle(function(){this._resizeAppDetailsHeader()}.bind(this));
this.own(z.subscribe("cloudOE/navOpen",function(a){this._resizeAppDetailsHeader()}.bind(this)));this.own(w(this.extraRoutesDropdown,"click",function(a){this._onExtraRoutesDropdownClick(a)}.bind(this)));this.own(w(this.routeEditIcon,"click",function(a){this.editRouteTooltip&&this.editRouteTooltip.close();this._onEditRouteClick(a)}.bind(this)));this.own(w(this.mobileOption,"click",function(a){c.toggle(this.mobileSection,"open");c.toggle(this.mobileOption,"selected");this.userMobilePreference=c.contains(this.mobileSection,
"open")}.bind(this)));this.own(z.subscribe("cloudOE/starAppOrService",function(a){a.itemGuid===this.guid&&a.starred!==this.starred&&(this._setFavorite(a.starred),this.starred=a.starred)}.bind(this)));this.own(z.subscribe("cloudOE/updateAppSettings",function(a){var b=a.settings&&a.settings.name||a.appData&&a.appData.name||a.appName;a.appData&&(this.appData&&this.appData.guid===a.appData.guid)&&(this.appData=a.appData,this._populateGearIcon());if(a.appGuid===this.guid&&(a.settings||b!==this.appName))a.settings&&
void 0!==a.settings.ace_description&&(this.description=a.settings.ace_description),b!==this.appName&&(this.appName=b),this._populateAppInfo()}.bind(this)));this.own(z.subscribe("cloudOE/updateMultiple",function(a){a=a.lastEvent.context;a.appData&&(this.appData=a.appData,this._populateGearIcon());a.appGuid===this.guid&&a.settings&&(a.settings.name&&(this.appName=a.settings.name),void 0!==a.settings.ace_description&&(this.description=a.settings.ace_description),this._populateAppInfo())}.bind(this)));
this.own(z.subscribe("cloudOE/gitRepoUpdate",function(a){this.appGuid&&(a.appGuid===this.appGuid&&a.gitURL&&a.codeURL)&&this.updateGitRepositoryStatus(a.gitURL,a.codeURL)}.bind(this)));this.own(z.subscribe("cloudOE/toolchainUpdate",function(a){this.appGuid&&(a.appGuid===this.appGuid&&a.toolchainURL)&&this.updateToolchainStatus(a.toolchainURL)}.bind(this)));this.own(z.subscribe("cloudOE/closeMobileOptions",function(a){c.toggle(this.mobileSection,"open");c.toggle(this.mobileOption,"selected");this.userMobilePreference=
c.contains(this.mobileSection,"open")}.bind(this)));b.getPublicInfo().then(function(a){this.jazzEnabled=a.JAZZ_ENABLED}.bind(this),function(a){console.error("AppDetailsHeader::postCreate -- error getting public info")});this.gearTooltip=new e({connectId:[this.appGearIcon],position:["below-centered","above-centered"],label:K.gearMenu});this.editRouteTooltip=new e({connectId:[this.routeEditIcon],position:["below-centered","above-centered"],label:K.editRoutes});this._setContextAttr(this.context);this.own(w(this.appGearMenu,
"show",function(a){a&&this.gearTooltip&&this.gearTooltip.close()}.bind(this)))},_setContextAttr:function(a){this.inherited(arguments);a&&a.appData&&(this.appGuid=this.guid=a.appGuid,this.title=this.appName=a.appName,this.appData=a.appData,this.description=a.appData.entity.ace_description,this.orgGuid=a.orgGuid,this.runtime=a.runtime,this.isDeveloper=a.isDeveloper,this._populateGeneralInfo(),A.isMobileApp(this.appData).then(function(a){this.mobileContent.set("context",{appData:this.appData,appGuid:this.appGuid,
runtime:this.runtime,orgGuid:this.orgGuid,parent:this})}.bind(this)))},_populateGeneralInfo:function(){this._destroyed||(this._populateAppInfo(),this._populateGearIcon(),this._populateAppOption(),this._resizeAppDetailsHeader())},_populateAppInfo:function(){var a=this.appData,b=this.appName;a&&(a=A.getIcon(a,"featured"),this.mainAppIcon.src=a?a:d.getPlaceHolderImage("application","featured"),this.mainAppName.textContent=b)},_populateGearIcon:function(){var a=this.appData,b=this.isDeveloper;c.toggle(this.appControlGear,
"is-developer",b);a&&(b&&(b=a.entity.state,"STARTED"===b?(this.startStopAppLinkCell.textContent=K.stopAppLink,this._setLinkContainerDisabled(this.startStopAppLinkCell,!1),this.setRestartAppLinkCellVisible(!this.runtime.isNullRuntime)):(this.startStopAppLinkCell.textContent=K.startAppLink,this._setLinkContainerDisabled(this.startStopAppLinkCell,!b),this.setRestartAppLinkCellVisible(!1)),this.setStartStopAppLinkCellVisible(!this.runtime.isNullRuntime),this._setEditRoutesVisible(!this.runtime.isNullRuntime)),
this.starred=a.entity.ace_starred,this._setFavorite(this.starred))},_populateAppOption:function(){this._populateMobileOption();this._populateRouteOption();dojo.config.otcV1Enabled?dojo.config.toolchainEnabled?this._populateToolchainOption():!0===this.jazzEnabled&&this._populateGitOption():this._populateV1V2Option()},_populateMobileOption:function(){A.isMobileApp(this.appData).then(function(a){c.toggle(this.appOptionContainer,"is-mobile",a);var b=a&&this._itemCreated;a||(c.toggle(this.mobileSection,
"open",!1),c.toggle(this.mobileOption,"selected",!1));"undefined"===typeof this.userMobilePreference&&(c.toggle(this.mobileSection,"open",b),c.toggle(this.mobileOption,"selected",b))}.bind(this));A.isMobileAMAApp(this.appData).then(function(a){c.toggle(this.appOptionContainer,"is-mobile-first",a)}.bind(this))},_populateRouteOption:function(){this.addRoutes()},addRoutes:function(){var a=[],b=this.appData;b&&b.entity&&(a.push(q.getListData(this.appData.entity.space.entity,"domains")),a.push(q.getListData(b.entity,
"routes")));r(a).then(function(a){this.spaceDomains=a[0];a=a[1];c.toggle(this.appInfoContainer,"has-route",!(!(a&&0<a.length)||this.runtime.isNullRuntime));if(a){v.empty(this.routesInfo);a=n.clone(a);for(var b=0;b<this.routesToDisplay;){var d=a.shift();if(d)this._addRouteItem(d,this.routesInfo),b++;else break}b=a.length;if(d=0<b)this.extraRoutes.textContent=n.replace(K.extraRoutes,[b]),v.empty(this.extraRoutesInfo),a.forEach(function(a){this._addRouteItem(a,this.extraRoutesInfo)}.bind(this));c.toggle(this.appInfoContainer,
"has-extraRoute",d)}}.bind(this))},_addRouteItem:function(a,b){var e,l;if(a){e=a.entity.host;l=a.entity.domain.entity.name;var f=v.create("div",{},b);c.add(f,"appRouteLink linkUrl");var q=this.appData.entity||this.appData,m=q.state,q=d.getAppHealth(q.running_instances?q.running_instances:0,q.instances);"STARTED"===m&&0<q?(""===e?v.create("a",{href:"http://"+l,target:"cloudOEApp_"+this.appName,innerHTML:l},f):v.create("a",{href:"http://"+e+"."+l,target:"cloudOEApp_"+this.appName,innerHTML:e+"."+l},
f),c.remove(f,"disabledRoute")):(v.create("span",{innerHTML:e?e+"."+l:l},f),c.add(f,"disabledRoute"))}},_populateGitOption:function(){var a=this.appData;this.gitRepositoryDeploymentStatus?(c.add(this.appOptionContainer,"has-git"),c.add(this.gitOption,"has-git-repo")):b.getGitRepositoryDeploymentStatus(this.appGuid,a.entity.space.metadata.guid,this.orgGuid).then(function(a){a.JAZZ_ENABLED&&(a.CodeLocation&&a.RepositoryLocation?this.updateGitRepositoryStatus(a.RepositoryLocation,a.CodeLocation):(console.warn("AppDetailsHeader::_populateGitOption --  Repository deployment status response is missing expected data, data \x3d "+
JSON.stringify(a)),this.updateGitRepositoryStatus()))}.bind(this),function(a){404===a.response.status?this.updateGitRepositoryStatus():console.error("AppDetailsHeader::_populateGitOption --  Cannot retrieve repository deployment status, err \x3d "+JSON.stringify(a))}.bind(this))},_populateToolchainOption:function(){var a=this.appData;this.toolchainDeploymentStatus?(c.add(this.appOptionContainer,"toolchain-enabled"),c.add(this.toolchainOption,"has-toolchain")):b.getToolchainStatusV1(this.appGuid,a.entity.space.metadata.guid,
this.orgGuid,a.entity.name).then(function(a){a.toolchains&&a.toolchains.length&&a.toolchains[0].uuid?this.updateToolchainStatus(dojo.config.otcSetupUIHost+"/develop/toolchains/"+a.toolchains[0].uuid):this.updateToolchainStatus()}.bind(this),function(a){console.error("AppDetailsHeader::_populateToolchainOption --  Cannot retrieve toolchain status, err \x3d "+JSON.stringify(a))}.bind(this))},_populateV1V2Option:function(){if(this.gitRepositoryDeploymentStatus)c.add(this.appOptionContainer,"has-git"),
c.add(this.gitOption,"has-git-repo");else if(this.toolchainDeploymentStatus)c.add(this.appOptionContainer,"toolchain-enabled"),c.add(this.toolchainOption,"has-toolchain");else if(dojo.config.toolchainEnabled){var a=[this._getGitStatus(),this._getToolchainStatus(),this._getToolchainBetaStatus(),this._getToolchainSetupUrl()];r(a).then(function(a){var b=a[0],d=a[1];b.repo?this.updateGitRepositoryStatus(b.repo.RepositoryLocation,b.repo.CodeLocation):d.toolchain?d.toolchain.toolchain_guid&&this.updateToolchainStatus(dojo.config.otcSetupHost+
"/develop/toolchains/"+d.toolchain.toolchain_guid):"toolchain"===a[2].option?(g.set(this.addToolchainButton,"toolchainSetupUrl",a[3]),this.updateToolchainStatus()):this.updateGitRepositoryStatus()}.bind(this))}else this._getGitStatus().then(function(a){a.repo?this.updateGitRepositoryStatus(a.repo.RepositoryLocation,a.repo.CodeLocation):this.updateGitRepositoryStatus()}.bind(this))},_getToolchainSetupUrl:function(){return b.getRepoGORPIFrame(this.appGuid).then(function(a){this.toolchainSetupSrc=dojo.config.otcSetupHost+
"/devops/setup/deploy/?application_guid\x3d"+this.appGuid+"\x26region_id\x3d"+a.params.regionId;if(a.params.templateUrl){var b=document.createElement("a");b.setAttribute("href",a.params.templateUrl);b.protocol=window.location.protocol;b.host=window.location.host;this.toolchainSetupSrc+="\x26zip_location\x3d"+encodeURIComponent(b.href)}return this.toolchainSetupSrc}.bind(this),function(a){C.showErrorMessage(b.extractErrorMessage(a,!0),null,K.createToolchain)}.bind(this))},_getGitStatus:function(){return b.getGitRepositoryDeploymentStatus(this.appGuid,
this.appData.entity.space.metadata.guid,this.orgGuid).then(function(a){if(a.JAZZ_ENABLED){if(a.CodeLocation&&a.RepositoryLocation)return{repo:a};throw Error("Repository deployment status response is missing expected data, data \x3d "+JSON.stringify(a));}}.bind(this),function(a){if(404===a.response.status)return{};throw Error("Cannot retrieve repository deployment status, err \x3d "+JSON.stringify(a));})},_getToolchainBetaStatus:function(){return b.getToolchainBetaStatus(this.orgGuid).then(function(a){return a.beta_access&&
!0===a.beta_access?{option:"toolchain"}:{option:"git"}}.bind(this),function(a){throw Error("Cannot retrieve Org Beta status, err \x3d "+JSON.stringify(a));}.bind(this))},_getToolchainStatus:function(){return b.getToolchainStatus(this.appGuid).then(function(a){return a.toolchain?{toolchain:a.toolchain}:{}}.bind(this),function(a){throw Error("Cannot retrieve toolchain status, err \x3d "+JSON.stringify(a));}.bind(this))},updateGitRepositoryStatus:function(a,b){var d=a&&0<a.length&&b&&0<b.length;this.gitRepositoryDeploymentStatus=
d;c.add(this.appOptionContainer,"has-git");c.toggle(this.gitOption,"has-git-repo",!!d);d&&(this.repositoryUrlText.href=this.repositoryUrlText.textContent=a,g.set(this.repositoryLinkButton,"href",b))},updateToolchainStatus:function(a){var b=!!a;this.toolchainDeploymentStatus=b;c.add(this.appOptionContainer,"toolchain-enabled");c.toggle(this.toolchainOption,"has-toolchain",b);b&&g.set(this.toolchainLinkButton,"href",a)},_allowRoutesViewAndEdit:function(a){return!a.entity.ace_doesNotSupportURL},_setLinkContainerDisabled:function(a,
b){c.toggle(a,"cloudOEDisabledLinkContainer",b)},_onStartStopAppClick:function(a){C.handlePanelDirty(this)||(this.startStopApp(this.appData,this.focusNode,this.getParent()),C.stopEvent(a))},_onRestartAppClick:function(a){this.restartApp(this.appData,null,this.getParent());C.stopEvent(a)},_onDeleteAppClick:function(a){var b=new J;this.orgGuid?b.run({appData:this.appData,orgGuid:this.orgGuid}):console.error("AppDetailsOverview::_onDeleteAppClick - orgGuid is not defined!");C.stopEvent(a)},_onFavoriteClick:function(a){C.stopEvent(a);
this.appGearMenu.show(!1);this.inherited(arguments)},_onAddRepoButtonClick:function(a){if(!C.handlePanelDirty(this)){a={appData:this.appData,appGuid:this.appData.metadata.guid,appName:this.appData.entity.name,parent:this.parent};try{var d=b.getCurrentUser();M.onAddRepoAction(a,d)}catch(e){console.error("Error coremetrics.onAddRepoAction: "+e.message)}this.addRepositoryDialog=new L(a);c.add(this.addRepositoryDialog.domNode,"cloudOESimpleDialog bluemixDialog dijitDialog");this.addRepositoryDialog.show()}},
_onAddToolchainButtonClick:function(a){if(!C.handlePanelDirty(this)){var d={appData:this.appData,appGuid:this.appData.metadata.guid,appName:this.appData.entity.name,parent:this.parent};try{var e=b.getCurrentUser();M.onAddToolchainAction(d,e)}catch(l){console.error("Error coremetrics.onAddToolchainAction: "+l.message)}dojo.config.otcV1Enabled?(this.addToolchainDialog=new G(d),c.add(this.addToolchainDialog.domNode,"cloudOESimpleDialog bluemixDialog dijitDialog"),this.addToolchainDialog.show()):(window.open(a.target.getAttribute("toolchainsetupurl"),
K.addToolchainTitle),window.addEventListener("message",function(a){var b={},b="string"===typeof a.data?JSON.parse(a.data):a.data;(!b.Data||!b.Data.error)&&"OK"===b.Status&&b.Data.ToolchainLocation&&z.publish("cloudOE/toolchainUpdate",{appGuid:d.appGuid,toolchainURL:b.Data.ToolchainLocation})},!1))}},_saveAppDetails:function(a){this._saveAppDetailsDeferredEvents={};var b;b={};void 0!==a.desc&&(b.ace_description=a.desc,this.appData.entity.ace_description=a.desc);a.name&&(b.name=a.name,this.appData.entity.name=
a.name,this.appData.name=a.name);a=this.appData.metadata.guid+":stale-app-summary-data";l.setItem(a,!0,{local:!1});a=this.appData.space_guid+":stale-space-summary-data";l.setItem(a,!0,{local:!1});z.publish("cloudOE/updateAppSettings",{appGuid:this.appGuid,appName:this.appName,appData:this.appData,settings:b,save:!0});b=this._updateAppSettings(b);r(b).otherwise(function(a){this._publishDeferredEvents()}.bind(this))},_publishDeferredEvents:function(){var a=new x,d=this._saveAppDetailsDeferredEvents;
if(d&&d.lastEvent){var e=d.lastEvent;b.getAppSummary(this.appGuid).then(function(b){e.context.appData=b;z.publish("cloudOE/updateMultiple",d);a.resolve(!0)}.bind(this),function(b){console.error(b);z.publish("cloudOE/updateMultiple",d);a.resolve(!1)});this._saveAppDetailsDeferredEvents=void 0}else a.resolve(!1);return a},_updateAppSettings:function(a){var d=new x,e=this.appGuid,l=this.appName,q=this.appData;b.updateAppSettings(e,a).then(function(){d.resolve()},function(a){q.entity.name=this.context.appName;
this._addDeferredEvent("cloudOE/updateAppSettings",{appGuid:e,appName:l,appData:q,settings:{name:this.context.appName,description:this.context.appData.entity.ace_description},save:!0});var b=n.replace(K.cannotUpdateAppSettings,[f.encode(l)]);C.handleError(a,b,null,K.updateAppDialogTitle);d.reject(a)}.bind(this));return d},_addDeferredEvent:function(a,b){var d=this._saveAppDetailsDeferredEvents;d||(d=this._saveAppDetailsDeferredEvents={});d?(d[a]||(d[a]=[]),d[a].push(b),d.lastEvent={topic:a,context:b}):
z.publish(z,b)},setStartStopAppLinkCellVisible:function(a){this.appGearMenu.enableItem(this.startStopAppLinkCell.textContent,a)},setRestartAppLinkCellVisible:function(a){this.appGearMenu.enableItem(this.restartAppLinkCell.textContent,a)},_setFavorite:function(a){this.appGearMenu.enableItem(K.favoriteApp,!a);this.appGearMenu.enableItem(K.unfavoriteApp,a)},_setEditRoutesVisible:function(a){this.appGearMenu.enableItem(this.appRouteEdit.textContent,a)},_onEditAppNameClick:function(a){this.editArtifactNameDialog=
new O({title:K.editAppName,label:K.appNameLabel,editType:"name",inputValue:this.appName,regExp:d.APP_NAME_REGEX,invalidMessage:K.badAppName});c.add(this.editArtifactNameDialog.domNode,"cloudOESimpleDialog bluemixDialog hasTitle titleAutoWidth");this.editArtifactNameDialog.show();this.own(s.after(this.editArtifactNameDialog,"submit",function(){this._saveAppDetails({name:this.editArtifactNameDialog.getInputValue()})}.bind(this)))},_onEditAppDescriptionClick:function(a){this.editArtifactNameDialog=new O({title:K.editDescription,
editType:"desc",label:K.editAppDescriptionLabel,inputValue:this.description});c.add(this.editArtifactNameDialog.domNode,"cloudOESimpleDialog bluemixDialog hasTitle");this.editArtifactNameDialog.show();this.own(s.after(this.editArtifactNameDialog,"submit",function(){this._saveAppDetails({desc:this.editArtifactNameDialog.getInputValue()})}.bind(this)))},_onEditRouteClick:function(a){this.editRouteDialog=new N({title:K.editRoutes,appData:this.context.appData,appGuid:this.context.appData.metadata.guid,
appName:this.context.appData.entity.name,orgGuid:this.context.orgGuid,parent:this.parent});c.add(this.editRouteDialog.domNode,"cloudOESimpleDialog bluemixDialog hasTitle");this.editRouteDialog.show();this.editRouteDialog.enableRouteEdit()},_onExtraRoutesDropdownClick:function(a){c.contains(this.extraRoutesInfo,"menu-open")?(c.remove(this.extraRoutesInfo,"menu-open"),this.bodyClickHandle&&(this.bodyClickHandle.remove(),this.bodyClickHandle=null)):(c.add(this.extraRoutesInfo,"menu-open"),setTimeout(function(){this.bodyClickHandle=
w(h.body(),"click",function(a){c.contains(this.extraRoutesInfo,"menu-open")&&!p.isDescendant(a.target,this.extraRoutesInfo)&&(c.remove(this.extraRoutesInfo,"menu-open"),this.bodyClickHandle&&(this.bodyClickHandle.remove(),this.bodyClickHandle=null))}.bind(this));this.own(this.bodyClickHandle)}.bind(this),0))},_resizeAppDetailsHeader:function(a){var b=this.routesToDisplay;a=y.getMarginBox(this.appInfoContainer);var d=y.getMarginBox(this.appOptionContainer);20>d.l-a.l-a.w?this.routesToDisplay=1:300<
d.l-a.l-a.w&&!window.matchMedia("(max-width: 768px)").matches&&(this.routesToDisplay=2);b!=this.routesToDisplay&&this._populateRouteOption();var b=y.getMarginBox(this.appIconContainer),e=y.getMarginBox(this.appDetailsContainer),l=y.getMarginBox(this.appHeaderContainer);b.w+e.w>l.w&&c.add(this.appHeaderContainer,"appHeader-wrapped");e=0;e=a.l==d.l;c.toggle(this.appHeaderContainer,"appInfo-wrapped",e);c.toggle(this.appControlGear,"gear-wrapped",e);e=e?a.w>d.w?a.w:d.w:a.w+d.w;b.w+e<=l.w&&c.remove(this.appHeaderContainer,
"appHeader-wrapped")},destroy:function(){this.inherited(arguments);this.gearTooltip&&(this.gearTooltip.destroyRecursive(),this.gearTooltip=null);this.editRouteTooltip&&(this.editRouteTooltip.destroyRecursive(),this.editRouteTooltip=null);this._resizeHandler&&this._resizeHandler.cancel()}})})},"cloudOE/widgets/AddRepositoryDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/topic dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/Dialog ../RuntimeManager ../ServerConnection dojo/i18n!../nls/resources dojo/text!./templates/AddRepositoryDialogContent.html".split(" "),
function(k,n,h,p,c,g,v,y,u,z,w,x){return k([y],{contentTemplateString:x,resources:w,constructor:function(s){n.mixin(this,s);this.showCancel=!0;this.title=this.resources.createGitRepository;var r=this,f=this.appGuid;s=this.contentWidget=new (k([c,g,v],{templateString:this.contentTemplateString,resources:this.resources,constructor:function(c){var m=r.appData.entity.space.metadata.guid,t=u.getSelectedOrg(),e=r.appName;this.jazzHubIframeSrc="";z.getRepoGORPIFrame(f).then(function(b){var c=b.params.apiUrl,
d=b.params.regionId,l=b.params.userName;this.jazzHubIframeSrc=b.url+"#"+f+",ApplicationName\x3d"+encodeURIComponent(e)+",Url\x3d"+c+",Org\x3d"+t.metadata.guid+",Space\x3d"+m+",Region\x3d"+d+",Login\x3d"+encodeURIComponent(l);b.params.templateUrl&&(c=document.createElement("a"),c.setAttribute("href",b.params.templateUrl),c.protocol=window.location.protocol,c.host=window.location.host,this.jazzHubIframeSrc+=",TemplateUrl\x3d"+encodeURIComponent(c.href));this.jazzHubIframe.src=this.jazzHubIframeSrc;
u.destroyStandby(r.standby)}.bind(this),function(b){u.destroyStandby(r.standby);r.onCancel();u.showErrorMessage(z.extractErrorMessage(b,!0),null,w.createGitRepository)}.bind(this))}}));s.startup();this.content=s;window.addEventListener("message",function(c){var m={},m="string"===typeof c.data?JSON.parse(c.data):c.data;if(!m.Data||!m.Data.error)if("OK"===m.Status&&m.Data.CodeLocation&&m.Data.RepositoryLocation)p.publish("cloudOE/gitRepoUpdate",{appGuid:f,gitURL:m.Data.RepositoryLocation,codeURL:m.Data.CodeLocation});
else if("Cancel"===m.Status)r.onCancel()},!1)},postMixInProperties:function(){this.inherited(arguments);this.buttonCancel=w.close},show:function(){var c=this.inherited(arguments);this.jazzHubIframe=this.contentWidget.jazzHubIframe;this.standby=u.createStandby(this.contentWidget.domNode);return c},destroy:function(){this.destroyRecursive()}})})},"cloudOE/widgets/AddToolchainDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/topic dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/Dialog ../RuntimeManager ../ServerConnection dojo/i18n!../nls/resources dojo/text!./templates/AddToolchainDialogContent.html".split(" "),
function(k,n,h,p,c,g,v,y,u,z,w,x){return k([y],{contentTemplateString:x,resources:w,constructor:function(s){n.mixin(this,s);this.showCancel=!0;this.title=this.resources.createToolchain;var r=this,f=this.appGuid;s=this.contentWidget=new (k([c,g,v],{templateString:this.contentTemplateString,resources:this.resources,constructor:function(c){var m=r.appData.entity.space.metadata.guid,t=u.getSelectedOrg(),e=r.appName;this.toolchainSetupSrc="";z.getRepoGORPIFrame(f).then(function(b){var c=b.params.regionId,
d=b.params.userName;this.toolchainSetupSrc=dojo.config.otcSetupUIHost+"/develop/setup/?ApplicationId\x3d"+f+"\x26ApplicationName\x3d"+encodeURIComponent(e)+"\x26Org\x3d"+t.metadata.guid+"\x26Space\x3d"+m+"\x26Region\x3d"+c+"\x26Login\x3d"+encodeURIComponent(d);b.params.templateUrl&&(c=document.createElement("a"),c.setAttribute("href",b.params.templateUrl),c.protocol=window.location.protocol,c.host=window.location.host,this.toolchainSetupSrc+="\x26TemplateUrl\x3d"+encodeURIComponent(c.href));this.toolchainSetupIframe.src=
this.toolchainSetupSrc;u.destroyStandby(r.standby)}.bind(this),function(b){u.destroyStandby(r.standby);r.onCancel();u.showErrorMessage(z.extractErrorMessage(b,!0),null,w.createToolchain)}.bind(this))}}));s.startup();this.content=s;window.addEventListener("message",function(c){var m={},m="string"===typeof c.data?JSON.parse(c.data):c.data;if(!m.Data||!m.Data.error)if("OK"===m.Status&&m.Data.ToolchainLocation)p.publish("cloudOE/toolchainUpdate",{appGuid:f,toolchainURL:m.Data.ToolchainLocation});else if("Cancel"===
m.Status)r.onCancel()},!1)},postMixInProperties:function(){this.inherited(arguments);this.buttonCancel=w.close},show:function(){var c=this.inherited(arguments);this.toolchainSetupIframe=this.contentWidget.toolchainSetupIframe;this.standby=u.createStandby(this.contentWidget.domNode);return c},destroy:function(){this.destroyRecursive()}})})},"cloudOE/panes/AppDetailsMobileSdk":function(){define("dojo/_base/declare dojo/_base/lang dojo/query dojo/topic dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/promise/all dojox/html/entities dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/layout/ContentPane dijit/Tooltip ../ServerConnection ../RuntimeManager ../Utils ../utils/cf-utils ../utils/apps ../utils/clipBoard ./_NavigatorPane ../utils/_ServiceHelper ../widgets/EditRouteDialog ../actions/LaunchResourceDocumentationAction dojo/i18n!../nls/resources dojo/text!./templates/AppDetailsMobileSdk.html".split(" "),
function(k,n,h,p,c,g,v,y,u,z,w,x,s,r,f,B,m,t,e,b,C,d,l,q,A){return k([x,z,w,b,C],{templateString:A,baseClass:"cloudOEMobileSdk",_blankImage:B._blankImage,resources:q,postCreate:function(){this.inherited(arguments);r.getPublicInfo().then(function(a){a.docURL&&a.enableNodeJsMobileURL&&(this.gettingStarted.href=a.docURL+a.mobileStarterUrl)}.bind(this),function(a){console.error("AppDetailsMobileSdk::postCreate -- error getting public info for enableNodeJsMobileURL")});this.clipObj=e.copyToClipboard(h(".i-copy",
this.sdkArea),function(a){a.clipboardData.setData("text/plain",a.target.previousElementSibling.textContent)});this.copyTooltip=new s({connectId:this.sdkArea,selector:".i-copy",label:q.copyTooltip,position:["after-centered","below-centered","above-centered","before-centered"]})},handleLogin:function(){this._subscribeCloudOETopic("cloudOE/updateAppSettings")},_setContextAttr:function(a){this.inherited(arguments);a&&a.appGuid&&(this.appGuid=a.appGuid,this.appData=a.appData,this.runtime=a.runtime,this.orgGuid=
a.orgGuid,this.parent=a.parent);this._refresh()},_cloudOETopicHandler:function(a,b){switch(a){case "cloudOE/updateAppSettings":if(!this.appGuid||b.appGuid===this.appGuid){var d=b.appData;this.appGuid=b.appGuid;this.appData=d&&this.appData?B.updateAppData(this.appData,d):b.appData;this._refresh()}break;default:this.inherited(arguments)}},_refresh:function(){this.appData&&t.isMobileApp(this.appData).then(function(a){a&&(this._setApiGuid(),this._populateRouteOption())}.bind(this))},_populateRouteOption:function(){this.addRoutes()},
addRoutes:function(){var a=[],b=this.appData;a.push(m.getListData(this.appData.entity.space.entity,"domains"));a.push(m.getListData(b.entity,"routes"));y(a).then(function(a){this.spaceDomains=a[0];a=a[1];g.toggle(this.routeDiv,"dijitHidden",!(a&&0<a.length)||this.runtime&&this.runtime.isNullRuntime);a&&this._addRouteItem(a[0])}.bind(this))},_addRouteItem:function(a){var b;a&&(b=a.entity.host,a=a.entity.domain.entity.name,this.appRoute.textContent=b?"http://"+b+"."+a:"http://"+a)},_setApiGuid:function(){this.apiAppGuid.textContent=
this.appGuid},_onCloseMobileOptions:function(a){p.publish("cloudOE/closeMobileOptions",a)},destroy:function(){this.inherited(arguments);e.destroy(this.clipObj);this.copyTooltip&&(this.copyTooltip.destroyRecursive(),this.copyTooltip=null)}})})},"cloudOE/utils/clipBoard":function(){define(["ZeroClipboard/ZeroClipboard"],function(k){k.config({swfPath:"../lib/ZeroClipboard/ZeroClipboard.swf",forceHandCursor:!0});return{copyToClipboard:function(n,h){var p=new k;p.clip(n);p.on("ready",function(c){p.on("copy",
h)});p.on("error",function(c){console.log('clipboard error of type "'+c.name+'": '+c.message);p.destroy()});return p},destroy:function(n){if(n&&n instanceof k)try{n.destroy()}catch(h){console.log(h)}}}})},"ZeroClipboard/ZeroClipboard":function(){(function(k,n){var h=k.document,p=k.navigator,c=k.setTimeout,g=k.encodeURIComponent,v=k.ActiveXObject,y=k.Error,u=k.Number.parseInt||k.parseInt,z=k.Number.parseFloat||k.parseFloat,w=k.Number.isNaN||k.isNaN,x=k.Math.round,s=k.Date.now,r=k.Object.keys,f=k.Object.defineProperty,
B=k.Object.prototype.hasOwnProperty,m=k.Array.prototype.slice,t=function(){var a=function(a){return a};if("function"===typeof k.wrap&&"function"===typeof k.unwrap)try{var b=h.createElement("div"),d=k.unwrap(b);1===b.nodeType&&(d&&1===d.nodeType)&&(a=k.unwrap)}catch(e){}return a}(),e=function(a){return m.call(a,0)},b=function(){var a,b,d,l,c,f=e(arguments),q=f[0]||{};a=1;for(b=f.length;a<b;a++)if(null!=(d=f[a]))for(l in d)B.call(d,l)&&(c=d[l],q!==c&&c!==n&&(q[l]=c));return q},C=function(a){var b,d,
e;if("object"!==typeof a||null==a)b=a;else if("number"===typeof a.length){b=[];d=0;for(e=a.length;d<e;d++)B.call(a,d)&&(b[d]=C(a[d]))}else for(d in b={},a)B.call(a,d)&&(b[d]=C(a[d]));return b},d=function(a,b){if(a&&1===a.nodeType&&a.ownerDocument&&b&&(1===b.nodeType&&b.ownerDocument&&b.ownerDocument===a.ownerDocument||9===b.nodeType&&!b.ownerDocument&&b===a.ownerDocument)){do{if(a===b)return!0;a=a.parentNode}while(a)}return!1},l=function(a){var b;"string"===typeof a&&a&&(a.split("#")[0].split("?"),
b=a.slice(0,a.lastIndexOf("/")+1));return b},q=function(){var a,b,d;if(h.currentScript&&(a=h.currentScript.src))return a;b=h.getElementsByTagName("script");if(1===b.length)return b[0].src||n;if("readyState"in b[0])for(d=b.length;d--;)if("interactive"===b[d].readyState&&(a=b[d].src))return a;if("loading"===h.readyState&&(a=b[b.length-1].src))return a;var e;try{throw new y;}catch(l){b=l}if(b&&!(e=b.sourceURL))if(!(e=b.fileName)){e=b.stack;var c;"string"===typeof e&&e&&((b=e.match(/^(?:|[^:@]*@|.+\)@(?=http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/))&&
b[1]?c=b[1]:(b=e.match(/\)@((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/))&&b[1]&&(c=b[1]));e=c}return(a=e)?a:n},A={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,unavailable:null,deactivated:null,overdue:null,ready:null},a={},H,M,I={},N=null,O={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript",
"flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate","flash-overdue":"Flash communication was established but NOT within the acceptable time limit"}},E={swfPath:function(){var a;if(!(a=l(q()))){var b,d,e=h.getElementsByTagName("script");for(a=e.length;a--;){if(!(d=e[a].src)){b=null;break}d=l(d);if(null==b)b=d;else if(b!==d){b=null;break}}a=b||n||""}return a+"ZeroClipboard.swf"}(),trustedDomains:k.location.host?[k.location.host]:[],cacheBust:!0,forceEnhancedClipboard:!1,
flashLoadTimeout:3E4,autoActivate:!0,bubbleEvents:!0,containerId:"global-zeroclipboard-html-bridge",containerClass:"global-zeroclipboard-container",swfObjectId:"global-zeroclipboard-flash-bridge",hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",forceHandCursor:!1,title:null,zIndex:999999999},L=function(a){if("object"===typeof a&&null!==a)for(var b in a)if(B.call(a,b))if(/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(b))E[b]=a[b];else if(null==A.bridge)if("containerId"===
b||"swfObjectId"===b)if("string"===typeof a[b]&&a[b]&&/^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(a[b]))E[b]=a[b];else throw Error("The specified `"+b+"` value is not valid as an HTML4 Element ID");else E[b]=a[b];if("string"===typeof a&&a){if(B.call(E,a))return E[a]}else return C(E)},G=function(){for(var a=["userAgent","platform","appName"],b={},d=0,e=a.length;d<e;d++)a[d]in p&&(b[a[d]]=p[a[d]]);var a=["bridge"],d={},l;for(l in A)-1===a.indexOf(l)&&(d[l]=A[l]);return{browser:b,flash:d,zeroclipboard:{version:D.version,
config:D.config()}}},J=function(){return!(!A.disabled&&!A.outdated&&!A.unavailable&&!A.deactivated)},T=function(b,d){var e,l,c,f={};if("string"===typeof b&&b)c=b.toLowerCase().split(/\s+/);else if("object"===typeof b&&b&&"undefined"===typeof d)for(e in b)if(B.call(b,e)&&"string"===typeof e&&e&&"function"===typeof b[e])D.on(e,b[e]);if(c&&c.length){e=0;for(l=c.length;e<l;e++)b=c[e].replace(/^on/,""),f[b]=!0,a[b]||(a[b]=[]),a[b].push(d);f.ready&&A.ready&&D.emit({type:"ready"});if(f.error){c=["disabled",
"outdated","unavailable","deactivated","overdue"];e=0;for(l=c.length;e<l;e++)if(!0===A[c[e]]){D.emit({type:"error",name:"flash-"+c[e]});break}}}return D},K=function(b,d){var e,l,c,f,q;if(0===arguments.length)f=r(a);else if("string"===typeof b&&b)f=b.split(/\s+/);else if("object"===typeof b&&b&&"undefined"===typeof d)for(e in b)B.call(b,e)&&("string"===typeof e&&e&&"function"===typeof b[e])&&D.off(e,b[e]);if(f&&f.length){e=0;for(l=f.length;e<l;e++)if(b=f[e].toLowerCase().replace(/^on/,""),(q=a[b])&&
q.length)if(d)for(c=q.indexOf(d);-1!==c;)q.splice(c,1),c=q.indexOf(d,c);else q.length=0}return D},S=function(b){return"string"===typeof b&&b?C(a[b])||null:C(a)},Q=function(e){var l,c,f;if(e=$(e)){l=e;var q=l.target||H||null,m="swf"===l._source;delete l._source;var F=["flash-disabled","flash-outdated","flash-unavailable","flash-deactivated","flash-overdue"];switch(l.type){case "error":-1!==F.indexOf(l.name)&&b(A,{disabled:"flash-disabled"===l.name,outdated:"flash-outdated"===l.name,unavailable:"flash-unavailable"===
l.name,deactivated:"flash-deactivated"===l.name,overdue:"flash-overdue"===l.name,ready:!1});break;case "ready":q=!0===A.deactivated;b(A,{disabled:!1,outdated:!1,unavailable:!1,deactivated:!1,overdue:q,ready:!q});break;case "beforecopy":M=q;break;case "copy":var t,C,q=l.relatedTarget;if(!I["text/html"]&&!I["text/plain"]&&q&&(C=q.value||q.outerHTML||q.innerHTML)&&(t=q.value||q.textContent||q.innerText))l.clipboardData.clearData(),l.clipboardData.setData("text/plain",t),C!==t&&l.clipboardData.setData("text/html",
C);else if(!I["text/plain"]&&l.target&&(t=l.target.getAttribute("data-clipboard-text")))l.clipboardData.clearData(),l.clipboardData.setData("text/plain",t);break;case "aftercopy":D.clearData();if(t=q){var r;try{r=h.activeElement}catch(s){r=null}t=q!==r&&q.focus}t&&q.focus();break;case "_mouseover":D.focus(q);!0===E.bubbleEvents&&m&&(q&&(q!==l.relatedTarget&&!d(l.relatedTarget,q))&&R(b({},l,{type:"mouseenter",bubbles:!1,cancelable:!1})),R(b({},l,{type:"mouseover"})));break;case "_mouseout":D.blur();
!0===E.bubbleEvents&&m&&(q&&(q!==l.relatedTarget&&!d(l.relatedTarget,q))&&R(b({},l,{type:"mouseleave",bubbles:!1,cancelable:!1})),R(b({},l,{type:"mouseout"})));break;case "_mousedown":aa(q,E.activeClass);!0===E.bubbleEvents&&m&&R(b({},l,{type:l.type.slice(1)}));break;case "_mouseup":U(q,E.activeClass);!0===E.bubbleEvents&&m&&R(b({},l,{type:l.type.slice(1)}));break;case "_click":M=null;!0===E.bubbleEvents&&m&&R(b({},l,{type:l.type.slice(1)}));break;case "_mousemove":!0===E.bubbleEvents&&m&&R(b({},
l,{type:l.type.slice(1)}))}l=/^_(?:click|mouse(?:over|out|down|up|move))$/.test(l.type)?!0:void 0;if(!l){if("ready"===e.type&&!0===A.overdue)return D.emit({type:"error",name:"flash-overdue"});l=b({},e);if("object"===typeof l&&(l&&l.type)&&(q=ba(l),(t=(a["*"]||[]).concat(a[l.type]||[]))&&t.length)){var g;C=0;for(r=t.length;C<r;C++)m=t[C],F=this,"string"===typeof m&&"function"===typeof k[m]&&(m=k[m]),"object"===typeof m&&(m&&"function"===typeof m.handleEvent)&&(F=m,m=m.handleEvent),"function"===typeof m&&
(g=b({},l),ca(m,F,[g],q))}if("copy"===e.type){c={};e={};if("object"===typeof I&&I){for(f in I)if(f&&B.call(I,f)&&"string"===typeof I[f]&&I[f])switch(f.toLowerCase()){case "text/plain":case "text":case "air:text":case "flash:text":c.text=I[f];e.text=f;break;case "text/html":case "html":case "air:html":case "flash:html":c.html=I[f];e.html=f;break;case "application/rtf":case "text/rtf":case "rtf":case "richtext":case "air:rtf":case "flash:rtf":c.rtf=I[f],e.rtf=f}f={data:c,formatMap:e}}else f=void 0;
c=f.data;N=f.formatMap}return c}}},F=function(){"boolean"!==typeof A.ready&&(A.ready=!1);if(!D.isFlashUnusable()&&null===A.bridge){var a=E.flashLoadTimeout;"number"===typeof a&&0<=a&&c(function(){"boolean"!==typeof A.deactivated&&(A.deactivated=!0);!0===A.deactivated&&D.emit({type:"error",name:"flash-deactivated"})},a);A.overdue=!1;la()}},ia=function(){D.clearData();D.blur();D.emit("destroy");ma();D.off()},ja=function(a,b){var d;if("object"===typeof a&&a&&"undefined"===typeof b)d=a,D.clearData();
else if("string"===typeof a&&a)d={},d[a]=b;else return;for(var e in d)"string"===typeof e&&(e&&B.call(d,e)&&"string"===typeof d[e]&&d[e])&&(I[e]=d[e])},fa=function(a){if("undefined"===typeof a){if(I)for(var b in I)B.call(I,b)&&delete I[b];N=null}else"string"===typeof a&&B.call(I,a)&&delete I[a]},ga=function(a){if("undefined"===typeof a)return C(I);if("string"===typeof a&&B.call(I,a))return I[a]},ha=function(a){if(a&&1===a.nodeType){H&&(U(H,E.activeClass),H!==a&&U(H,E.hoverClass));H=a;aa(a,E.hoverClass);
var d=a.getAttribute("title")||E.title;if("string"===typeof d&&d){var e=V(A.bridge);e&&e.setAttribute("title",d)}if(!(d=!0===E.forceHandCursor))d=k.getComputedStyle(a,null).getPropertyValue("cursor"),a=(!d||"auto"===d)&&"A"===a.nodeName?"pointer":d,d="pointer"===a;a=d;!0===A.ready&&(A.bridge&&"function"===typeof A.bridge.setHandCursor?A.bridge.setHandCursor(a):A.ready=!1);var l;if(H&&(l=V(A.bridge)))a=da(H),b(l.style,{width:a.width+"px",height:a.height+"px",top:a.top+"px",left:a.left+"px",zIndex:""+
X(E.zIndex)})}},na=function(){var a=V(A.bridge);a&&(a.removeAttribute("title"),a.style.left="0px",a.style.top="-9999px",a.style.width="1px",a.style.top="1px");H&&(U(H,E.hoverClass),U(H,E.activeClass),H=null)},oa=function(){return H||null},$=function(a){var d;"string"===typeof a&&a?(d=a,a={}):"object"===typeof a&&(a&&"string"===typeof a.type&&a.type)&&(d=a.type);if(d){!a.target&&/^(copy|aftercopy|_click)$/.test(d.toLowerCase())&&(a.target=M);b(a,{type:d.toLowerCase(),target:a.target||H||null,relatedTarget:a.relatedTarget||
null,currentTarget:A&&A.bridge||null,timeStamp:a.timeStamp||s()||null});d=O[a.type];"error"===a.type&&(a.name&&d)&&(d=d[a.name]);d&&(a.message=d);"ready"===a.type&&b(a,{target:null,version:A.version});"error"===a.type&&(/^flash-(disabled|outdated|unavailable|deactivated|overdue)$/.test(a.name)&&b(a,{target:null,minimumVersion:"11.0.0"}),/^flash-(outdated|unavailable|deactivated|overdue)$/.test(a.name)&&b(a,{version:A.version}));"copy"===a.type&&(a.clipboardData={setData:D.setData,clearData:D.clearData});
if("aftercopy"===a.type&&(d=N,"object"===typeof a&&a&&"object"===typeof d&&d)){var e={},l;for(l in a)if(B.call(a,l))if("success"!==l&&"data"!==l)e[l]=a[l];else{e[l]={};var q=a[l],c;for(c in q)c&&(B.call(q,c)&&B.call(d,c))&&(e[l][d[c]]=q[c])}a=e}a.target&&!a.relatedTarget&&(l=a,c=(c=(c=a.target)&&c.getAttribute&&c.getAttribute("data-clipboard-target"))?h.getElementById(c):null,l.relatedTarget=c);if(a&&/^_(?:click|mouse(?:over|out|down|up|move))$/.test(a.type)){l=a.target;c="_mouseover"===a.type&&a.relatedTarget?
a.relatedTarget:n;d="_mouseout"===a.type&&a.relatedTarget?a.relatedTarget:n;var q=da(l),e=q.left+("number"===typeof a._stageX?a._stageX:0),q=q.top+("number"===typeof a._stageY?a._stageY:0),f=e-(h.body.scrollLeft+h.documentElement.scrollLeft),m=q-(h.body.scrollTop+h.documentElement.scrollTop),F=(k.screenLeft||k.screenX||0)+f,t=(k.screenTop||k.screenY||0)+m,C="number"===typeof a.movementX?a.movementX:0,r="number"===typeof a.movementY?a.movementY:0;delete a._stageX;delete a._stageY;b(a,{srcElement:l,
fromElement:c,toElement:d,screenX:F,screenY:t,pageX:e,pageY:q,clientX:f,clientY:m,x:f,y:m,movementX:C,movementY:r,offsetX:0,offsetY:0,layerX:0,layerY:0})}return a}},ba=function(a){return!/^(?:(?:before)?copy|destroy)$/.test(a&&"string"===typeof a.type&&a.type||"")},ca=function(a,b,d,e){e?c(function(){a.apply(b,d)},0):a.apply(b,d)},R=function(a){if(a&&"string"===typeof a.type&&a){var d,e=a.target||null;d=e&&e.ownerDocument||h;a=b({view:d.defaultView||k,canBubble:!0,cancelable:!0,detail:"click"===a.type?
1:0,button:"number"===typeof a.which?a.which-1:"number"===typeof a.button?a.button:d.createEvent?0:1},a);e&&(d.createEvent&&e.dispatchEvent)&&(a=[a.type,a.canBubble,a.cancelable,a.view,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,a.relatedTarget],d=d.createEvent("MouseEvents"),d.initMouseEvent&&(d.initMouseEvent.apply(d,a),d._source="js",e.dispatchEvent(d)))}},V=function(a){for(a=a&&a.parentNode;a&&"OBJECT"===a.nodeName&&a.parentNode;)a=a.parentNode;
return a||null},la=function(){var a,b=A.bridge,d=V(b);if(!b){var b=pa(k.location.host,E),e="never"===b?"none":"all",l,c,q,f="",m=[];E.trustedDomains&&("string"===typeof E.trustedDomains?l=[E.trustedDomains]:"object"===typeof E.trustedDomains&&"length"in E.trustedDomains&&(l=E.trustedDomains));if(l&&l.length){d=0;for(c=l.length;d<c;d++)if(B.call(l,d)&&(l[d]&&"string"===typeof l[d])&&(q=Y(l[d]))){if("*"===q){m.length=0;m.push(q);break}m.push.apply(m,[q,"//"+q,k.location.protocol+"//"+q])}}m.length&&
(f+="trustedOrigins\x3d"+g(m.join(",")));!0===E.forceEnhancedClipboard&&(f+=(f?"\x26":"")+"forceEnhancedClipboard\x3dtrue");"string"===typeof E.swfObjectId&&E.swfObjectId&&(f+=(f?"\x26":"")+"swfObjectId\x3d"+g(E.swfObjectId));l=f;d=E.swfPath;c=null==E||E&&!0===E.cacheBust?(-1===E.swfPath.indexOf("?")?"?":"\x26")+"noCache\x3d"+s():"";c=d+c;d=h.createElement("div");d.id=E.containerId;d.className=E.containerClass;d.style.position="absolute";d.style.left="0px";d.style.top="-9999px";d.style.width="1px";
d.style.height="1px";d.style.zIndex=""+X(E.zIndex);q=h.createElement("div");d.appendChild(q);h.body.appendChild(d);f=h.createElement("div");m="activex"===A.pluginType;f.innerHTML='\x3cobject id\x3d"'+E.swfObjectId+'" name\x3d"'+E.swfObjectId+'" width\x3d"100%" height\x3d"100%" '+(m?'classid\x3d"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type\x3d"application/x-shockwave-flash" data\x3d"'+c+'"')+"\x3e"+(m?'\x3cparam name\x3d"movie" value\x3d"'+c+'"/\x3e':"")+'\x3cparam name\x3d"allowScriptAccess" value\x3d"'+
b+'"/\x3e\x3cparam name\x3d"allowNetworking" value\x3d"'+e+'"/\x3e\x3cparam name\x3d"menu" value\x3d"false"/\x3e\x3cparam name\x3d"wmode" value\x3d"transparent"/\x3e\x3cparam name\x3d"flashvars" value\x3d"'+l+'"/\x3e\x3c/object\x3e';b=f.firstChild;t(b).ZeroClipboard=D;d.replaceChild(b,q)}if(!b){if((b=h[E.swfObjectId])&&(a=b.length))b=b[a-1];!b&&d&&(b=d.firstChild)}A.bridge=b||null;return b},ma=function(){var a=A.bridge;if(a){var b=V(a);b&&("activex"===A.pluginType&&"readyState"in a?(a.style.display=
"none",function ka(){if(4===a.readyState){for(var d in a)"function"===typeof a[d]&&(a[d]=null);a.parentNode&&a.parentNode.removeChild(a);b.parentNode&&b.parentNode.removeChild(b)}else c(ka,10)}()):(a.parentNode&&a.parentNode.removeChild(a),b.parentNode&&b.parentNode.removeChild(b)));A.ready=null;A.bridge=null;A.deactivated=null}},Y=function(a){if(null==a||""===a)return null;a=a.replace(/^\s+|\s+$/g,"");if(""===a)return null;var b=a.indexOf("//");a=-1===b?a:a.slice(b+2);var d=a.indexOf("/");return(a=
-1===d?a:-1===b||0===d?null:a.slice(0,d))&&".swf"===a.slice(-4).toLowerCase()?null:a||null},pa=function(){return function(a,b){var d=Y(b.swfPath);null===d&&(d=a);var e=b.trustedDomains,l,q,c,f=[];"string"===typeof e&&(e=[e]);if("object"===typeof e&&e&&"number"===typeof e.length){l=0;for(q=e.length;l<q;l++)if(B.call(e,l)&&(c=Y(e[l]))){if("*"===c){f.length=0;f.push("*");break}-1===f.indexOf(c)&&f.push(c)}}e=f.length;if(0<e){if(1===e&&"*"===f[0])return"always";if(-1!==f.indexOf(a))return 1===e&&a===
d?"sameDomain":"always"}return"never"}}(),aa=function(a,b){if(!a||1!==a.nodeType)return a;if(a.classList)return a.classList.contains(b)||a.classList.add(b),a;if(b&&"string"===typeof b){var d=(b||"").split(/\s+/);if(1===a.nodeType)if(a.className){for(var e=" "+a.className+" ",l=a.className,c=0,q=d.length;c<q;c++)0>e.indexOf(" "+d[c]+" ")&&(l+=" "+d[c]);a.className=l.replace(/^\s+|\s+$/g,"")}else a.className=b}return a},U=function(a,b){if(!a||1!==a.nodeType)return a;if(a.classList)return a.classList.contains(b)&&
a.classList.remove(b),a;if("string"===typeof b&&b){var d=b.split(/\s+/);if(1===a.nodeType&&a.className){for(var e=(" "+a.className+" ").replace(/[\n\t]/g," "),l=0,c=d.length;l<c;l++)e=e.replace(" "+d[l]+" "," ");a.className=e.replace(/^\s+|\s+$/g,"")}}return a},da=function(a){var b={left:0,top:0,width:0,height:0};if(a.getBoundingClientRect){a=a.getBoundingClientRect();var d,e;"pageXOffset"in k&&"pageYOffset"in k?(d=k.pageXOffset,e=k.pageYOffset):(d=1,"function"===typeof h.body.getBoundingClientRect&&
(d=h.body.getBoundingClientRect(),d=d.right-d.left,e=h.body.offsetWidth,d=x(100*(d/e))/100),e=d,d=x(h.documentElement.scrollLeft/e),e=x(h.documentElement.scrollTop/e));var l=h.documentElement.clientTop||0;b.left=a.left+d-(h.documentElement.clientLeft||0);b.top=a.top+e-l;b.width="width"in a?a.width:a.right-a.left;b.height="height"in a?a.height:a.bottom-a.top}return b},X=function(a){if(/^(?:auto|inherit)$/.test(a))return a;var b;"number"===typeof a&&!w(a)?b=a:"string"===typeof a&&(b=X(u(a,10)));return"number"===
typeof b?b:"auto"};(function(a){function b(a){a=a.match(/[\d]+/g);a.length=3;return a.join(".")}function d(a){a&&(l=!0,a.version&&(f=b(a.version)),!f&&a.description&&(f=b(a.description)),a.filename&&(a=a.filename,q=!!a&&(a=a.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(a)||"chrome.plugin"===a.slice(-13))))}var e,l=!1,c=!1,q=!1,f="";if(p.plugins&&p.plugins.length)a=p.plugins["Shockwave Flash"],d(a),p.plugins["Shockwave Flash 2.0"]&&(l=!0,f="2.0.0.11");
else if(p.mimeTypes&&p.mimeTypes.length)a=(a=p.mimeTypes["application/x-shockwave-flash"])&&a.enabledPlugin,d(a);else if("undefined"!==typeof a){c=!0;try{e=new a("ShockwaveFlash.ShockwaveFlash.7"),l=!0,f=b(e.GetVariable("$version"))}catch(m){try{e=new a("ShockwaveFlash.ShockwaveFlash.6"),l=!0,f="6.0.21"}catch(F){try{e=new a("ShockwaveFlash.ShockwaveFlash"),l=!0,f=b(e.GetVariable("$version"))}catch(t){c=!1}}}}A.disabled=!0!==l;A.outdated=f&&z(f)<z("11.0.0");A.version=f||"0.0.0";A.pluginType=q?"pepper":
c?"activex":l?"netscape":"unknown"})(v);var D=function(){if(!(this instanceof D))return new D;"function"===typeof D._createClient&&D._createClient.apply(this,e(arguments))};f(D,"version",{value:"2.1.6",writable:!1,configurable:!0,enumerable:!0});D.config=function(){return L.apply(this,e(arguments))};D.state=function(){return G.apply(this,e(arguments))};D.isFlashUnusable=function(){return J.apply(this,e(arguments))};D.on=function(){return T.apply(this,e(arguments))};D.off=function(){return K.apply(this,
e(arguments))};D.handlers=function(){return S.apply(this,e(arguments))};D.emit=function(){return Q.apply(this,e(arguments))};D.create=function(){return F.apply(this,e(arguments))};D.destroy=function(){return ia.apply(this,e(arguments))};D.setData=function(){return ja.apply(this,e(arguments))};D.clearData=function(){return fa.apply(this,e(arguments))};D.getData=function(){return ga.apply(this,e(arguments))};D.focus=D.activate=function(){return ha.apply(this,e(arguments))};D.blur=D.deactivate=function(){return na.apply(this,
e(arguments))};D.activeElement=function(){return oa.apply(this,e(arguments))};var qa=0,P={},ra=0,W={},Z={};b(E,{autoActivate:!0});var sa=function(a){var b=this;b.id=""+qa++;P[b.id]={instance:b,elements:[],handlers:{}};a&&b.clip(a);D.on("*",function(a){return b.emit(a)});D.on("destroy",function(){b.destroy()});D.create()},ta=function(a,b){var d,e,l,c={},f=P[this.id]&&P[this.id].handlers;if("string"===typeof a&&a)l=a.toLowerCase().split(/\s+/);else if("object"===typeof a&&a&&"undefined"===typeof b)for(d in a)if(B.call(a,
d)&&"string"===typeof d&&d&&"function"===typeof a[d])this.on(d,a[d]);if(l&&l.length){d=0;for(e=l.length;d<e;d++)a=l[d].replace(/^on/,""),c[a]=!0,f[a]||(f[a]=[]),f[a].push(b);c.ready&&A.ready&&this.emit({type:"ready",client:this});if(c.error){l=["disabled","outdated","unavailable","deactivated","overdue"];d=0;for(e=l.length;d<e;d++)if(A[l[d]]){this.emit({type:"error",name:"flash-"+l[d],client:this});break}}}return this},ua=function(a,b){var d,e,l,c,f,q=P[this.id]&&P[this.id].handlers;if(0===arguments.length)c=
r(q);else if("string"===typeof a&&a)c=a.split(/\s+/);else if("object"===typeof a&&a&&"undefined"===typeof b)for(d in a)B.call(a,d)&&("string"===typeof d&&d&&"function"===typeof a[d])&&this.off(d,a[d]);if(c&&c.length){d=0;for(e=c.length;d<e;d++)if(a=c[d].toLowerCase().replace(/^on/,""),(f=q[a])&&f.length)if(b)for(l=f.indexOf(b);-1!==l;)f.splice(l,1),l=f.indexOf(b,l);else f.length=0}return this},va=function(a){var b=null,d=P[this.id]&&P[this.id].handlers;d&&(b="string"===typeof a&&a?d[a]?d[a].slice(0):
[]:C(d));return b},wa=function(a){var d;var e=a;if(!e||!e.type||e.client&&e.client!==this)d=!1;else{var l=P[this.id]&&P[this.id].elements,c=!!l&&0<l.length;d=!e.target||c&&-1!==l.indexOf(e.target);l=e.relatedTarget&&c&&-1!==l.indexOf(e.relatedTarget);e=e.client&&e.client===this;d=!d&&!l&&!e?!1:!0}if(d&&("object"===typeof a&&(a&&"string"===typeof a.type&&a.type)&&(a=b({},a)),a=b({},$(a),{client:this}),"object"===typeof a&&(a&&a.type)&&(d=ba(a),(e=(P[this.id]&&P[this.id].handlers["*"]||[]).concat(P[this.id]&&
P[this.id].handlers[a.type]||[]))&&e.length)))for(var f,q,m,l=0,c=e.length;l<c;l++)f=e[l],q=this,"string"===typeof f&&"function"===typeof k[f]&&(f=k[f]),"object"===typeof f&&(f&&"function"===typeof f.handleEvent)&&(q=f,f=f.handleEvent),"function"===typeof f&&(m=b({},a),ca(f,q,[m],d));return this},ya=function(a){a=ea(a);for(var b=0;b<a.length;b++)if(B.call(a,b)&&a[b]&&1===a[b].nodeType){a[b].zcClippingId?-1===W[a[b].zcClippingId].indexOf(this.id)&&W[a[b].zcClippingId].push(this.id):(a[b].zcClippingId=
"zcClippingId_"+ra++,W[a[b].zcClippingId]=[this.id],!0===E.autoActivate&&xa(a[b]));var d=P[this.id]&&P[this.id].elements;-1===d.indexOf(a[b])&&d.push(a[b])}return this},za=function(a){var b=P[this.id];if(!b)return this;var b=b.elements,d;a="undefined"===typeof a?b.slice(0):ea(a);for(var e=a.length;e--;)if(B.call(a,e)&&a[e]&&1===a[e].nodeType){for(d=0;-1!==(d=b.indexOf(a[e],d));)b.splice(d,1);var l=W[a[e].zcClippingId];if(l){for(d=0;-1!==(d=l.indexOf(this.id,d));)l.splice(d,1);if(0===l.length){if(!0===
E.autoActivate&&(d=a[e])&&1===d.nodeType)if(l=Z[d.zcClippingId],"object"===typeof l&&l){for(var f=void 0,c=void 0,q=["move","leave","enter","out","over"],m=0,F=q.length;m<F;m++)f="mouse"+q[m],c=l[f],"function"===typeof c&&d.removeEventListener(f,c,!1);delete Z[d.zcClippingId]}delete a[e].zcClippingId}}}return this},Aa=function(){var a=P[this.id];return a&&a.elements?a.elements.slice(0):[]},Ba=function(){this.unclip();this.off();delete P[this.id]},ea=function(a){"string"===typeof a&&(a=[]);return"number"!==
typeof a.length?[a]:a},xa=function(a){if(a&&1===a.nodeType){var b=function(a){if(a||(a=k.event))"js"!==a._source&&(a.stopImmediatePropagation(),a.preventDefault()),delete a._source},d=function(d){if(d||(d=k.event))b(d),D.focus(a)};a.addEventListener("mouseover",d,!1);a.addEventListener("mouseout",b,!1);a.addEventListener("mouseenter",b,!1);a.addEventListener("mouseleave",b,!1);a.addEventListener("mousemove",b,!1);Z[a.zcClippingId]={mouseover:d,mouseout:b,mouseenter:b,mouseleave:b,mousemove:b}}};D._createClient=
function(){sa.apply(this,e(arguments))};D.prototype.on=function(){return ta.apply(this,e(arguments))};D.prototype.off=function(){return ua.apply(this,e(arguments))};D.prototype.handlers=function(){return va.apply(this,e(arguments))};D.prototype.emit=function(){return wa.apply(this,e(arguments))};D.prototype.clip=function(){return ya.apply(this,e(arguments))};D.prototype.unclip=function(){return za.apply(this,e(arguments))};D.prototype.elements=function(){return Aa.apply(this,e(arguments))};D.prototype.destroy=
function(){return Ba.apply(this,e(arguments))};D.prototype.setText=function(a){D.setData("text/plain",a);return this};D.prototype.setHtml=function(a){D.setData("text/html",a);return this};D.prototype.setRichText=function(a){D.setData("application/rtf",a);return this};D.prototype.setData=function(){D.setData.apply(this,e(arguments));return this};D.prototype.clearData=function(){D.clearData.apply(this,e(arguments));return this};D.prototype.getData=function(){return D.getData.apply(this,e(arguments))};
"function"===typeof define&&define.amd?define(function(){return D}):"object"===typeof module&&module&&"object"===typeof module.exports&&module.exports?module.exports=D:k.ZeroClipboard=D})(function(){return this||window}())},"cloudOE/panes/AppActivity":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/topic dojo/on dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ../ServerConnection ./AppActivityEvent ../utils/array dojo/i18n!../nls/resources dojo/text!./templates/AppActivity.html".split(" "),
function(k,n,h,p,c,g,v,y,u,z,w,x,s,r){return k([v,y,u],{templateString:r,resources:s,baseClass:"cloudOEAppActivity",historyEnabled:!1,constructor:function(f){this.appData=f.appData;this.events=[];this.initialized=!1},postCreate:function(){this.own(c.subscribe("cloudOE/cfEvent",function(f){f&&(f.entity&&"app"===f.entity.actee_type&&f.entity.actee===this.appGuid)&&(f=new w({event:f}),f.displayEvent()&&this.isNewEvent(f)?(f.startup(),p.place(f.domNode,this.activityList,"first"),this.events.unshift(f),
h.add(this.activityEvents,"loadedActivity"),h.remove(this.activityEvents,"noActivity")):f.destroyRecursive())}.bind(this)));z.getPublicInfo().then(function(f){this.historyEnabled=f.enableAppActivity}.bind(this),function(f){console.error("AppActivity::postCreate -- error getting public info")})},_setContextAttr:function(f){this.inherited(arguments);var c=n.getObject("metadata.guid",!1,f.appData);if(c&&(f.clearData||!this.initialized))this.appGuid=c,this._refreshData(c,!0)},_refreshData:function(c){c&&
(this.cleanUpEvents(),p.empty(this.activityList),h.remove(this.activityEvents,"loadedActivity"),!0===this.historyEnabled?z.getAppEvents(c).then(function(c){this.initialized=!0;if(c&&c.resources&&0<c.resources.length)for(var f=c.resources.length,t=0;t<f;t++){var e=new w({event:c.resources[t]});e.displayEvent()&&this.isNewEvent(e)?(e.startup(),p.place(e.domNode,this.activityList),this.events.push(e)):e.destroyRecursive()}0<this.events.length?(h.add(this.activityEvents,"loadedActivity"),h.remove(this.activityEvents,
"noActivity")):h.add(this.activityEvents,"noActivity")}.bind(this),function(c){console.error("AppActivity:_refreshData -- error getting event data");h.toggle(this.activityEvents,"noActivity",!0)}.bind(this)):(this.initialized=!0,h.toggle(this.activityEvents,"noActivity",!0)))},isNewEvent:function(c){var r=c.event.metadata.guid;return x.find(this.events,function(c){return r===c.event.metadata.guid}.bind(this))?!1:!0},cleanUpEvents:function(){this.events&&this.events.forEach(function(c){c.destroyRecursive()});
this.events=[]},destroy:function(){this.cleanUpEvents();this.inherited(arguments)}})})},"cloudOE/panes/AppActivityEvent":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/date/locale dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ../utils/events dojo/i18n!../nls/resources dojo/text!./templates/AppActivityEvent.html".split(" "),function(k,n,h,p,c,g,v,y,u,z,w){return k([g,v,y],{templateString:w,resources:z,baseClass:"cloudOEAppActivityEvent",
_displayEvent:!1,constructor:function(c){this.event=c.event},postCreate:function(){this.event&&this.set("context",{event:this.event})},_setContextAttr:function(c){this.inherited(arguments);c&&c.event&&this._refreshData(c.event)},_refreshData:function(g){if(g&&g.entity){var s=g.entity;this.timestamp=s.timestamp;var r=new Date(s.timestamp);this.date.textContent=c.format(r,{selector:"date",formatLength:"short"});this.time.textContent=c.format(r,{selector:"time",formatLength:"short"});this.actor.textContent=
s.actor_name;g=u.getEventDescription(g);this._displayEvent=g.msgs[0]?!0:!1;this.details.innerHTML=g.msgs[0];if(1<g.msgs.length){s=p.create("ul",null,this.details);for(r=1;r<g.msgs.length;r++)p.place("\x3cli\x3e"+g.msgs[r]+"\x3c/li\x3e",s,"last")}g.severity===u.severity.CRITICAL&&h.add(this.activityEvent,"criticalEvent")}},displayEvent:function(){return this._displayEvent},_getTimestampAttr:function(){return this.timestamp}})})},"cloudOE/utils/events":function(){define(["dojo/_base/lang","dojox/html/entities",
"dojo/i18n!../nls/resources"],function(k,n,h){var p={APP_CRASH:"app.crash",APP_UPDATE:"audit.app.update",APP_CREATE:"audit.app.create",APP_DELETE:"audit.app.delete-request",APP_MAP_ROUTE:"audit.app.map-route",APP_UNMAP_ROUTE:"audit.app.unmap-route",SPACE_CREATE:"audit.space.create",SPACE_UPDATE:"audit.space.update",SPACE_DELETE:"audit.space.delete-request"},c={NORMAL:0,CRITICAL:1},g={getEventDescription:function(g){var y=[],u=c.NORMAL;if(!g||!g.entity)return y;g=g.entity;var z=n.encode(g.actee_name);
switch(g.type.toLowerCase()){case p.APP_CRASH:var u=k.getObject("metadata.exit_description",!1,g),w=k.getObject("metadata.exit_status",!1,g);g=k.getObject("metadata.reason",!1,g);u?y.push(k.replace(h.eventAppInstanceCrash,[n.encode(u)])):y.push(h.eventAppCrash);w&&g&&y.push(k.replace(h.eventAppCrashStatus,[w,n.encode(g)]));u=c.CRITICAL;break;case p.APP_UPDATE:var x=k.getObject("metadata.request.state",!1,g);if(x)switch(x.toLowerCase()){case "stopped":y.push(k.replace(h.eventAppStop,[z]));u=c.CRITICAL;
break;case "started":y.push(k.replace(h.eventAppStart,[z]))}else if(y.push(k.replace(h.eventAppUpdate,[z])),g=k.getObject("metadata.request",!1,g))for(w in g)if(g.hasOwnProperty(w))switch(w.toLowerCase()){case "memory":y.push(k.replace(h.eventAppModMemory,[g[w]]));break;case "instances":y.push(k.replace(h.eventAppModInstance,[g[w]]));break;case "disk_quota":y.push(k.replace(h.eventAppModDisk,[g[w]]));break;case "route":y.push(h.eventAppModRoute);break;case "environment_json":y.push(h.eventAppModEnv)}break;
case p.APP_CREATE:y.push(k.replace(h.eventAppCreate,[z]));break;case p.APP_DELETE:y.push(k.replace(h.eventAppDeleteRequest,[z])),u=c.CRITICAL}return{msgs:y,severity:u}}};g.types=p;g.severity=c;return g})},"cloudOE/panes/AppDetailsServices":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/dom-construct dojo/dom-class dojo/dom-geometry dojo/topic dojo/on dojo/Deferred dojo/promise/all dojo/query dojox/html/entities dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/layout/ContentPane dojo/store/Memory ../ServerConnection ../RuntimeManager ../Utils ../utils/apps ../utils/cf-utils ../utils/services ../utils/dom ../utils/iframe ../utils/_ServiceHelper ../utils/coremetrics ./_NavigatorPane ./_TileContainerMixin ../widgets/DashboardCard ../actions/CreateServiceBindingAction ../actions/ChangeAppStateAction ../actions/AddNewServiceAction dojo/i18n!../nls/resources dojo/text!./templates/AppDetailsServices.html".split(" "),
function(k,n,h,p,c,g,v,y,u,z,w,x,s,r,f,B,m,t,e,b,C,d,l,q,A,a,H,M,I,N,O,E,L,G){return k([f,s,r,H,M,A],{templateString:G,resources:L,_blankImage:e._blankImage,BOUND_SERVICES_GRID_AUTOHEIGHT_ROW_CAP:3,constructor:function(a){this.title=a.services;this.isDeveloper=!1;this.space_guid=a.appData?a.appData.entity.space_guid:void 0;this.cards=[]},postCreate:function(){this._subscribeCloudOETopic("cloudOE/createMultiple");this._subscribeCloudOETopic("cloudOE/deleteMultiple");this._subscribeCloudOETopic("cloudOE/createServiceBinding");
this._subscribeCloudOETopic("cloudOE/updateServiceInstance");this._subscribeCloudOETopic("cloudOE/deleteServiceBinding");this._subscribeCloudOETopic("cloudOE/updateAppSettings");this._subscribeCloudOETopic("cloudOE/updateDevSpaces");this._subscribeCloudOETopic("cloudOE/starAppOrService");m.getPublicInfo().then(function(a){this.mobileTypes=a.mobileTypes}.bind(this))},_getStoreAttr:function(){return this.flatStore},_getTileContainerAttr:function(){return[this.serviceContainer,this.actionsContainer]},
_getCreateTileButtonAttr:function(){return this.addExistingServiceButton},_cloudOETopicHandler:function(a,b){switch(a){case "cloudOE/createServiceBinding":case "cloudOE/deleteServiceBinding":case "cloudOE/updateServiceInstance":break;case "cloudOE/updateAppSettings":if(b.appGuid===this.appGuid||!0===b.appDetailsLoad){var d=b.appData,e=b.refresh;d?this.appData?this._isImportantDataChange(d,b.source).then(function(a){(e||a)&&this._refreshData(!0)}.bind(this)):this._refreshData(!1,d):this._refreshData(!0)}break;
case "cloudOE/updateDevSpaces":this._refreshIsDeveloper();break;case "cloudOE/starAppOrService":break;default:this.inherited(arguments)}},_transformCloudOETopic:function(a,b){var d;switch(a){case "cloudOE/createMultiple":d=this._transformSubTopic("cloudOE/createServiceBinding",b);break;case "cloudOE/deleteMultiple":d=this._transformSubTopic("cloudOE/deleteServiceBinding",b);break;default:d=this.inherited(arguments)}return d},_isImportantDataChange:function(a,b){var d=this.appData,l=new u;if(b instanceof
O)return l.resolve(!1),l;var c=[C.getListData(d.entity,"service_bindings"),C.getListData(a.entity,"service_bindings")];z(c).then(function(b){b=!e.arraysEqual(b[0]?b[0]:d.services||{},b[1]?b[1]:a.services||{},function(a,b){return(a.entity&&a.entity.service_instance_guid?a.entity.service_instance_guid:a.guid)===(b.entity&&b.entity.service_instance_guid?b.entity.service_instance_guid:b.guid)});l.resolve(b)},function(a){l.resolve(!0)});return l},_setContextAttr:function(a){this.inherited(arguments);a.appData&&
this._refreshData(a.clearData,a.appData,a.source)},_refreshData:function(a,b,d){a?this.appData=void 0:b&&(this.appData=b);this._refreshIsDeveloper();var e=t.createStandby(this.focusNode,null,!1,!0);a=this.appData?[this.appData,C.getListData(b,"service_bindings")]:[m.getAppSummary(this.appGuid)];a=z(a);this.setServerRequestInProgress(a);a.then(function(a){this.appData=a[0];this.appGuid=this.appData.metadata.guid;this._populateServices(a[1]||this.appData.entity.service_bindings);t.destroyStandby(e)}.bind(this),
function(a){if(!("cancel"===a.dojoType&&"CancelError"===a.name)){var b=n.replace(L.cannotRetrieveAppInfo,[x.encode(this.appName)]);t.showErrorMessage(b,a)}t.destroyStandby(e)}.bind(this))},_refreshCards:function(){this.inherited(arguments);this._setCreateServiceBtnVisible()},_createCard:function(a){var b=this.getParentNavigator(),e=this.selectedSpace=this.appData?this.appData.entity.space.metadata.guid:t.selectedSpace,l=new I({type:I.Types.SERVICE_BINDING,data:a,isDeveloper:this.isDeveloper||t.isDeveloper(e),
orgGuid:this.selectedOrg||t.getSelectedOrgGuid(),spaceGuid:this.appData.entity.space.metadata.guid,navigator:b,localAppData:this.appData});this.cards.push(l);l.isDeveloper&&this.own(y(l,"click",function(){var e=function(e){if(!0!==l.useALink&&b&&!t.handlePanelDirty(this)){var c={appGuid:this.appData.guid||a.appGuid,orgGuid:this.appData.entity.space.entity.organization_guid||l.orgGuid,spaceGuid:this.appData.entity.space.metadata.guid};if(e&&a.entity&&a.entity.service_instance){var f=t.createStandby(this.focusNode);
m.getServiceInstance(a.entity.service_instance.metadata.guid).then(function(a){t.destroyStandby(f);if(a){var b=d.calculateDashboardUrl(a.entity,a.entity.service_bindings);c.serviceGuid=a.metadata.guid;"launch"===e?this.launchService(b,c):this.drilldownService(b,c)}}.bind(this),function(d){t.handleError(d,L.cannotRetrieveInfo,f);c.serviceGuid=a.guid||a.entity.service_instance.metadata.guid;b.set("context",c);b.addRoute(c)}.bind(this))}else c.serviceGuid=a.guid||a.entity.service_instance.metadata.guid,
b.set("context",c),b.addRoute(c)}}.bind(this);a.service_plan?this.openServiceFromOffering(this.focusNode,a.service_plan.service.guid,e):this._openServiceFromInstance(this.focusNode,a.entity.service_instance.metadata.guid,e)}.bind(this)));c.toggle(this.serviceContainer,"cloudOENotDeveloper",!l.isDeveloper)},_setCreateServiceBtnVisible:function(){var a=this.isDeveloper;c.toggle(this.addNewServiceButton,"dijitHidden",!a);c.toggle(this.addExistingServiceButton,"dijitHidden",!a);c.toggle(this.registerMobileClientButton,
"dijitHidden",!0);a&&b.isMobileApp(this.appData).then(function(a){a||b.getMobileTypes(this.appData).then(function(a){for(var b=0==a.length,d=0;d<this.flatStore.data.length;d++){for(var e=this.flatStore.data[d].service_plan.service.label,l=0;l<a.length;l++)if(-1!==a[l].mainServices.indexOf(e)){b=!0;break}if(b)break;else if(-1!==this.mobileTypes.MobileFirst.pushServices.indexOf(e)){b=!0;break}}c.toggle(this.registerMobileClientButton,"dijitHidden",b)}.bind(this))}.bind(this))},_onAddNewServiceClick:function(){if(!t.handlePanelDirty(this)){a.cmCreatePageviewTag("Add a Service or API_VP",
"BLUEMIX ");var b=t.createStandby(this.focusNode,null,!1,!0),d=new E,e=this.appData.entity.space.metadata.guid,l=[this.orgData||t.isOrgSelectorReady()],l=z(l);this.setServerRequestInProgress(l);l.then(function(a){var l=new u;a[0].organizations?this._filterOrganizationBySpaceGuid(a[0].organizations,e).then(function(a){this.orgData=a;l.resolve(a)}.bind(this),function(a){l.reject(a)}.bind(this)):l.resolve();l.then(function(a){d.run({orgGuid:this.orgData.metadata.guid,spaceGuid:e,appGuid:this.appData.guid||
this.appData.metadata.guid,appData:this.appData});t.destroyStandby(b)}.bind(this),function(a){a=m.extractErrorMessage(a,!0)||"";console.error("AppDetailsServices::_onAddNewServiceClick -- "+a);t.destroyStandby(b)}.bind(this))}.bind(this),function(a){a=m.extractErrorMessage(a,!0)||"";console.error("AppDetailsServices::_onAddNewServiceClick -- "+a);t.destroyStandby(b)}.bind(this))}},_filterOrganizationBySpaceGuid:function(a,b){var d=new u;if(a){var l,c=function(f){if(f<a.length&&!this.orgData){var q=
a[f];C.getRegionListData(q,"spaces").then(function(a){e.getItemByGuid(a,b)&&(l=q);c(f+1)}.bind(this),function(a){d.reject(a)}.bind(this))}else d.resolve(l)}.bind(this);c(0)}else d.resolve();return d},_filterServiceBindingByAppGuid:function(a,b){var d=null;a&&a.some(function(a){a.entity&&a.entity.app_guid===b&&(d=a);return d});return d},_onAddExistingServiceClick:function(){if(!t.handlePanelDirty(this)){a.cmCreatePageviewTag("Bind a Service or API_VP","BLUEMIX ");var b=this._getFilterOutList(this.appData,
this.mobileTypes);(new N).run({appData:this.appData,filter:b})}},_populateServices:function(a){var b=this.appData,d=b.metadata.guid,e=b.entity.name,l=[];a&&a.forEach(function(a){this._isCorrectType(a)&&(a.appGuid=d,a.appName=e,l.push(a))}.bind(this));this.flatStore=new B({data:l});this._refreshCards()},_isCorrectType:function(a){switch(this.serviceType){case "all":case "service":a=!0;break;default:a=!1}return a},_refreshIsDeveloper:function(){this.space_guid||(this.space_guid=this.appData?this.appData.entity.space.metadata.guid:
t.selectedSpace);this.isDeveloper=t.isDeveloper(this.space_guid)},_onRegisterMobileClientClick:function(){if(!t.handlePanelDirty(this)){a.cmCreatePageviewTag("Enable App for Mobile_VP","BLUEMIX ");try{var l=this.appData.metadata.guid,c=t.getSelectedOrgGuid();a.onRegisterMobileClient(c,this.space_guid,l)}catch(f){}var q=t.createStandby(this.focusNode,null,!1,!0);z([m.getSpaceServiceInstances(this.space_guid),m.getServiceOfferings(t.getSelectedOrgGuid(),this.space_guid,null,!1),b.getMobileTypes(this.appData)]).then(function(a){var b=
{},l={},c=null,f=a[0].resources;f&&(c=f.map(function(a){return a.entity.name}));var m=a[2];a=a[1].resources||[];for(var A=null,C=0;C<m.length;C++){for(var g=m[C],r=0;r<g.mainServices.length;r++){for(var s=g.mainServices[r],h=0;h<a.length;h++){var k=a[h];if(s==k.entity.label){A=k;break}}if(A)break}if(A)break}if(A&&A.entity.service_plans&&0<A.entity.service_plans.length){var u=d.reformatServiceOffering(A),N=u.service_plans[0].metadata.guid,m=n.replace(L.registerMobileClientConfirm,[x.encode(d.getDisplayName(u))]);
t.showConfirmationDialog(m,null,null,L.registerMobileClient,L.addButton).then(function(a){if(a)return this.creatingServiceName=e.generateUniqueId(u.name,2,c||[]),this.createService(this.space_guid,{services:f},this.appGuid,this.appData,this.appData.name,u,N,this.creatingServiceName,b,l,!1,this.registerMobileClientButton,q);t.destroyStandby(q)}.bind(this),function(a){})}else t.destroyStandby(q)}.bind(this),function(a){t.handleError(a,L.cannotRetrieveInfo,q)}.bind(this))}}})})},"cloudOE/actions/CreateServiceBindingAction":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/dom-class dojo/dom-style dojo/on dojox/html/entities ../widgets/CloudOeDialog ../ServerConnection ../RuntimeManager ../utils/services ../utils/storage ./_Action ../utils/_AppStateHelper ../panes/AppDetailsBindService dojo/i18n!../nls/resources".split(" "),
function(k,n,h,p,c,g,v,y,u,z,w,x,s,r,f,B){return k([s,r],{run:function(m){if(!m||!m.appData)console.error("Invalid context for action.");else{var t=m.source?m.source:this,e=m.appData;m=m.filter;var b=e.entity.space.entity.organization_guid,C=e.entity.space_guid,d=e.metadata.guid,l=e.entity.name;if(!this.bindExistingServiceDialog){var q=n.replace(B.bindExistingDialogTitle,[v.encode(l)]),A=this.bindExistingServiceDialog=new y({title:q});c.set(A.domNode,"background","white");p.add(A.domNode,"bluemixDialog hasTitle");
p.add(A.titleNode,"cloudOEBindServiceUnboundServicesTitle");A.closeText.textContent=String.fromCharCode(215);m=new f({appData:e,okCallback:function(a){var c=a.serviceInstanceData,f=c.metadata.guid,q=c.entity.name;if(f&&d){var m=z.createStandby(A.domNode);u.createServiceBinding(b,C,d,f).then(function(a){var b=a.metadata.guid,g,r;"user_provided_service_instance"==c.entity.type?(r=c.entity.ace_fromService,g=c.entity.ace_fromServiceLabel):(g=c.entity.service_plan,r=g.entity.service_guid,g=w.getDisplayName(g.entity.service));
z.destroyStandby(m);A.destroyRecursive();this.bindExistingServiceDialog=null;h.publish("cloudOE/createServiceBinding",{source:t,appData:e,appGuid:d,appName:l,serviceOfferingGuid:r,serviceOfferingName:g,serviceInstanceData:c,serviceInstanceGuid:f,serviceInstanceName:q,serviceBindingGuid:b,serviceBindingData:a});a=d+":stale-app-summary-data";x.setItem(a,!0,{local:!1});a=C+":stale-space-summary-data";x.setItem(a,!0,{local:!1});this.restartAppOnBindService(e,q)}.bind(this),function(a){var b=n.replace(B.cannotBindServiceToApp,
[v.encode(q),v.encode(l)]);z.handleError(a,b,m,B.addBindingDialogTitle)})}}.bind(this),cancelCallback:function(){this.bindExistingServiceDialog.destroyRecursive();this.bindExistingServiceDialog=null}.bind(this),filter:m});A.own(g(A,"hide",function(){this.bindExistingServiceDialog.destroyRecursive();this.bindExistingServiceDialog=null}.bind(this)));A.set("content",m);A.show()}}}})})},"cloudOE/widgets/CloudOeDialog":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-style dojo/window dijit/Dialog dojo/_base/connect dojo/Deferred dojo/i18n!../nls/resources".split(" "),
function(k,n,h,p,c,g,v,y){return k([c],{baseClass:"CloudOeDialog",postMixInProperties:function(){this.inherited(arguments);this.buttonCancel=y.close},show:function(){g.publish("cloudOE/dialogVisible",[]);var c=new v;this.inherited(arguments).then(function(){this._adjustTopPositionOnShow();c.resolve()}.bind(this),function(g){c.reject(g)});return c},hide:function(){g.publish("cloudOE/dialogHidden",[]);this.inherited(arguments)},_adjustTopPositionOnShow:function(){this._topPos=h.get(this.domNode,"top");
this._topPos=0<this._topPos?this._topPos:50;var c=p.getBox(this.ownerDocument);this._topPos=this._topPos<c.t+20?c.t+20:this._topPos;this._position()},_size:function(){},_position:function(){this.inherited(arguments);!n.contains(this.ownerDocumentBody,"dojoMove")&&this._topPos&&h.set(this.domNode,{top:this._topPos+"px"})}})})},"cloudOE/panes/AppDetailsBindService":function(){define("dojo/_base/declare dojo/on dojo/aspect dojo/keys dojo/Deferred dojo/promise/all dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/store/Memory gridx/modules/RowHeader gridx/modules/select/Row gridx/modules/IndirectSelect ../ServerConnection ../RuntimeManager ../Utils ../utils/cf-utils ../utils/services dojo/i18n!../nls/resources dojo/text!./templates/AppDetailsBindService.html dijit/form/Button dijit/layout/ContentPane".split(" "),
function(k,n,h,p,c,g,v,y,u,z,w,x,s,r,f,B,m,t,e,b){return k([v,y,u],{templateString:b,baseClass:"cloudOEBindService",resources:e,_blankImage:B._blankImage,startup:function(){this.inherited(arguments);this.okButton.set("disabled",!0);this._setupUnboundServicesGrid();this._refreshData();var b=this.getParent();b&&this.own(n(b.containerNode,"keypress",function(b){b.keyCode==p.ENTER&&this._onOKClick()}.bind(this)))},_onOKClick:function(){var b=this._getSelectedService();b&&this.okCallback({serviceInstanceData:b,
serviceInstanceGuid:b.id,serviceInstanceName:b.name})},_onCancelClick:function(){this.cancelCallback?this.cancelCallback():console.error("AppDetailsBindService::_onCancelClick -- no cancel callback available")},_refreshData:function(){this._populateUnboundServicesGrid()},_populateUnboundServicesGrid:function(){var b=this.appData;if(b){var d=b.metadata.guid,b=b.entity.space_guid,l=f.createStandby(this.unboundServicesGridContainer.domNode,{color:f.standbyColors.overlay_light});r.getServiceInstances(b).then(function(b){if(this._destroyed)f.destroyStandby(l);
else{var A=[],a=b.resources;if(a&&0<a.length){var C=[];a.forEach(function(a){var b=!1;if(t.isUserProvidedService(a))b=!0;else{var d=t.getServiceOfferingMetadata(a),b=d&&d.entity.bindable;d&&(d.entity.label&&this.filter&&-1<this.filter.indexOf(d.entity.label))&&(b=!1)}if(b){var e=new c;m.getListData(a,"service_bindings").then(function(b){e.resolve({serviceInstanceGuid:a.metadata.guid,bindings:b})}.bind(this));C.push(e.promise)}}.bind(this));g(C).then(function(b){b.forEach(function(b){b.bindings.some(function(a){if(a.entity.app_guid===
d)return!0})||(b=B.getItemByGuid(a,b.serviceInstanceGuid),b=B.flattenServiceInstanceData(b),A.push(b))});this._populateUnboundServicesGridReady(A,l)}.bind(this),function(a){f.handleError(a,e.cannotRetrieveServiceBindings,l)})}else this._populateUnboundServicesGridReady(A,l)}}.bind(this),function(b){f.handleError(b,e.cannotRetrieveServiceBindings,l)})}},_populateUnboundServicesGridReady:function(b,d){if(this.unboundServicesGrid){var e=new z({data:b});this.unboundServicesGrid.store=null;this.unboundServicesGrid.setStore(e)}f.destroyStandby(d)},
_setupUnboundServicesGrid:function(){var b=this.unboundServicesGrid=B.createGrid({structure:this._getTableStructure(),sortInitialOrder:{colId:"name",descending:!1},styleClass:this.baseClass+"UnboundServicesGrid",gridContainer:this.unboundServicesGridContainer,extraModules:[{moduleClass:w,width:"30px"},x,s]});b.select.row.multiple=!1;this.own(h.after(b.select.row,"onSelected",function(){this._getSelectedService()?this.okButton.set("disabled",!1):this.okButton.set("disabled",!0)}.bind(this)))},_getSelectedService:function(){var b,
d=this.unboundServicesGrid.select.row.getSelected();1==d.length&&(b=this.unboundServicesGrid.model.byId(d[0]).item);return b},_getTableStructure:function(){return[B.getColumnDescriptor("name",{"class":"iconCell"}),B.getColumnDescriptor("label",{width:"200px"}),B.getColumnDescriptor("version",{width:"100px"})]}})})},"cloudOE/panes/AppDetailsGettingStarted":function(){define("dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/query dojo/dom-class dojo/dom-construct dojo/on dojox/html/entities dojo/promise/all dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ../widgets/CardTabContainer ../utils/coremetrics ../RuntimeManager ../ServerConnection ../utils/cf-utils ../utils/apps ../Utils ./_NavigatorPane ../actions/LaunchResourceDocumentationAction dojo/text!./templates/AppDetailsGettingStarted.html dojo/i18n!../nls/resources".split(" "),
function(k,n,h,p,c,g,v,y,u,z,w,x,s,r,f,B,m,t,e,b,C,d){return k([x,e],{templateString:C,resources:d,appGuid:null,appData:null,postCreate:function(){this.inherited(arguments);f.getPublicInfo().then(function(b){this._nodeRedTemplateId=b.nodeRedTemplateId;this._iotTemplateId=b.iotTemplateId;this._iotElectronicsTemplateId="IoT-for-Electronics-Starter";this._eclipseToolingSupported=b.eclipseToolingSupported;this._isJazzHubEnabled=b.JAZZ_ENABLED}.bind(this));f.getCFDomain().then(function(b){this._domainName=
b.domain}.bind(this));this.selectedCardType="commandLine"},handleLogin:function(b){this._subscribeCloudOETopic("cloudOE/updateAppSettings")},_cloudOETopicHandler:function(b,d){if(this.appGuid&&d.appGuid===this.appGuid){var e=d.appData,a=d.refresh;if(e){var c=this._isImportantDataChange(e);this.appData=t.updateAppData(this.appData,e);a||c?this._refreshAll():this._attachRouteTitle(this.appData)}else this._refreshAll(!0)}},_isImportantDataChange:function(b){var d=m.getAppState(b);if(d!==this.appState)return this.appState=
d,!0;b=this._getDocContext(b);d=this.docContext;return d.app_name!==b.app_name||d.host!==b.host||d.APPDomain!==b.APPDomain},_setContextAttr:function(b){this.inherited(arguments);b&&b.appData&&(this._init(b),this._refreshAll())},_init:function(b){this.orgGuid=b.orgGuid;this.appGuid=b.appGuid;this.templateData=b.templateData;this.appData=b.appData;this.appState=m.getAppState(b.appData)},_refreshAll:function(b){b&&(this.appData=void 0);b=[this.appData?this.appData:f.getAppSummary(this.appGuid)];u(b).then(function(b){var d=
this.appData=b[0];this._checkGettingStartedType().then(function(a){this.docContext=this._getDocContext(d);a?this._createGettingStarted():this._updateGettingStarted();this._attachRouteTitle(d)}.bind(this))}.bind(this))},_attachRouteTitle:function(b){m.getRuntimeInfo(b).then(function(d){var e=b.entity||b,a=m.getAppState(b),c=e.instances,e=e.running_instances?e.running_instances:0;d=d.isNullRuntime;t.setHealthIndicator(this.stateNode,a,c,e,!0,d,"full");var f=b.entity.routes;if(f=f?f[0]:null){var g=f.entity.host,
f=g?"http://"+g+"."+f.entity.domain.entity.name:"http://"+f.entity.domain.entity.name,a="green"===t.getHealthColorAndText(a,c,e,d,"full").color?"\x3ca href\x3d'"+f+"' target\x3d'_blank'\x3e"+f+"\x3c/a\x3e":f;this.routeNode.innerHTML=a}}.bind(this),function(b){this.routeNode.innerHTML=""}.bind(this))},_getDocContext:function(b){var d=b.entity.routes,d=d?d[0]:null;b={app_name:b.entity.name,host:d?d.entity.host:null,user_ID:f.getCurrentUser().email,space_name:b.entity.space.entity.name,DomainName:this._domainName,
APPDomain:d?d.entity.domain.entity.name:"\x3cyourdomain\x3e"};this.orgName&&(b.org_name=this.orgName);if("normal"==this.gettingStartedType||"normalWithElipse"==this.gettingStartedType)b.wrapContext=this._getWrapContext({app_name:b.app_name,org_name:b.org_name,space_name:b.space_name});return b},_checkGettingStartedType:function(){var b=this.gettingStartedType,d=null,e=new h;(this.templateId=this.templateData?this.templateData.id:m.getTemplateId(this.appData))&&(this.templateId===this._nodeRedTemplateId?
d="nodeRed":this.templateId===this._iotTemplateId?d="iot":this.templateId===this._iotElectronicsTemplateId&&(d="iotElectronics"));d?(this.gettingStartedType=d,e.resolve(d!==b)):this._checkSupportedRuntimes(this._eclipseToolingSupported).then(function(a){this.gettingStartedType=d=a?"normalWithElipse":"normal";e.resolve(d!==b)}.bind(this),function(a){e.reject(a)});return e},_createGettingStarted:function(){this._reset();switch(this.gettingStartedType){case "nodeRed":this._createNodeRedGettingStarted();
break;case "iot":this._createIOTGettingStarted();break;case "iotElectronics":this._createIOTElectronicsGettingStarted();break;case "normalWithElipse":this._createNormalGettingStarted(!0);break;case "normal":this._createNormalGettingStarted(!1);break;default:this._createNormalGettingStarted(!0)}},_createNodeRedGettingStarted:function(){var b=r.createStandby(this.containerNode);f.getContentResource("nodeRed",!0).then(function(e){this.render([{card:{imgClass:"i-nodered-50",coremetricsID:"nodeRed",title:n.replace(d.nodeRedGettingStartedTitle,
["class\x3d'cloudOEBoldFont'"]),desc:d.nodeRedGettingStartedDesc,selected:!0},doc:e,context:n.mixin({type:"nodeRed"},this.docContext)}]);r.destroyStandby(b)}.bind(this))},_createIOTGettingStarted:function(){var b=r.createStandby(this.containerNode);f.getContentResource("iot",!0).then(function(e){this.render([{card:{imgClass:"i-iot-50",coremetricsID:"iot",title:n.replace(d.iotGettingStartedTitle,["class\x3d'cloudOEBoldFont'"]),desc:d.iotGettingStartedDesc,selected:!0},doc:e,context:n.mixin({type:"iot"},
this.docContext)}]);r.destroyStandby(b)}.bind(this))},_createIOTElectronicsGettingStarted:function(){var b=r.createStandby(this.containerNode);f.getContentResource("{BASE}/starters/IotElectronics/index.html",!1).then(function(e){this.render([{card:{imgClass:"icon--i-iot-electronic",coremetricsID:"iotElectronics",title:n.replace(d.iotElectronicsGettingStartedTitle,["class\x3d'cloudOEBoldFont'"]),desc:d.iotElectronicsGettingStartedDesc,selected:!0},doc:e,context:n.mixin({type:"iotElectronics"},this.docContext)}]);
r.destroyStandby(b)}.bind(this),function(){r.destroyStandby(b)})},_getGitStatus:function(){return f.getGitRepositoryDeploymentStatus(this.appGuid,this.appData.entity.space.metadata.guid,this.orgGuid).then(function(b){if(b.JAZZ_ENABLED){if(b.CodeLocation&&b.RepositoryLocation)return{repo:b};throw Error("Repository deployment status response is missing expected data, data \x3d "+JSON.stringify(b));}}.bind(this),function(b){if(404===b.response.status)return{};throw Error("Cannot retrieve repository deployment status, err \x3d "+
JSON.stringify(b));})},_getToolchainBetaStatus:function(){return f.getToolchainBetaStatus(this.orgGuid).then(function(b){return b.beta_access&&!0===b.beta_access?{option:"toolchain"}:{option:"git"}}.bind(this),function(b){throw Error("Cannot retrieve Org Beta status, err \x3d "+JSON.stringify(b));}.bind(this))},_getToolchainStatus:function(){return f.getToolchainStatus(this.appGuid).then(function(b){return b.toolchain?{toolchain:b.toolchain}:{}}.bind(this),function(b){throw Error("Cannot retrieve toolchain status, err \x3d "+
JSON.stringify(b));}.bind(this))},_getV1V2DocOption:function(){if(dojo.config.toolchainEnabled){var b=[this._getGitStatus(),this._getToolchainStatus(),this._getToolchainBetaStatus()];return u(b).then(function(b){var d=b[1];return b[0].repo?"git":d.toolchain?"toolchain":"toolchain"===b[2].option?"toolchain":"git"}.bind(this))}b=new h;b.resolve("git");return b},_createNormalGettingStarted:function(b){if(dojo.config.otcV1Enabled)this._createNormalGettingStartedV1(b);else{var e=r.createStandby(this.containerNode),
c=[f.getContentResource("eclipse",!0),f.getContentResource("commandLine",!0),f.getContentResource("gitWithDevOps",!0),r.getSelectedOrg(),m.getRuntimeInfo(this.appData),f.getToolchainDocs(),this._getV1V2DocOption()],c=u(c);this.setServerRequestInProgress(c);c.then(function(a){this.orgName=a[3].entity.name;this.docContext.org_name=this.orgName;var c=[];b&&c.push({card:{imgClass:"i-eclipse-tool-bluemix",coremetricsID:"bluemixEclipse",title:n.replace(d.eclipseGettingStartedTitle,["class\x3d'cloudOEBoldFont'"]),
desc:d.eclipseGettingStartedDesc,selected:"eclipse"===this.selectedCardType},doc:a[0],context:n.mixin({type:"eclipse"})});c.push({card:{imgClass:"i-command-line",coremetricsID:"cfCommandLine",title:n.replace(d.cfGettingStartedTitle,["class\x3d'cloudOEBoldFont'"]),desc:d.cfGettingStartedDesc,selected:"commandLine"===this.selectedCardType},doc:a[1],context:n.mixin({type:"commandLine"},this.docContext)});"toolchain"===a[6]?c.push({card:{imgClass:"i-toolchain",coremetricsID:"toolchain",title:n.replace(d.toolchainGettingStartedTitle,
["class\x3d'cloudOEBoldFont'","class\x3d'toolchainGettingStartedBetaText'",d.developmentStageExperimental]),desc:d.toolchainGettingStartedDesc,selected:"toolchain"===this.selectedCardType},doc:a[5],context:n.mixin({type:"toolchain"})}):this._isJazzHubEnabled&&c.push({card:{imgClass:"i-git-50",coremetricsID:"git",title:n.replace(d.gitGettingStartedTitle,["class\x3d'cloudOEBoldFont'"]),desc:d.gitGettingStartedDesc,selected:"gitWithDevOps"===this.selectedCardType},doc:a[2],context:n.mixin({type:"gitWithDevOps"})});
this.render(c);r.destroyStandby(e)}.bind(this))}},_createNormalGettingStartedV1:function(b){var e=r.createStandby(this.containerNode),c=[f.getContentResource("eclipse",!0),f.getContentResource("commandLine",!0),f.getContentResource("gitWithDevOps",!0),r.getSelectedOrg(),m.getRuntimeInfo(this.appData),f.getContentResource("toolchain",!0)],c=u(c);this.setServerRequestInProgress(c);c.then(function(a){this.orgName=a[3].entity.name;this.docContext.org_name=this.orgName;var c=[];b&&c.push({card:{imgClass:"i-eclipse-tool-bluemix",
coremetricsID:"bluemixEclipse",title:n.replace(d.eclipseGettingStartedTitle,["class\x3d'cloudOEBoldFont'"]),desc:d.eclipseGettingStartedDesc,selected:"eclipse"===this.selectedCardType},doc:a[0],context:n.mixin({type:"eclipse"})});c.push({card:{imgClass:"i-command-line",coremetricsID:"cfCommandLine",title:n.replace(d.cfGettingStartedTitle,["class\x3d'cloudOEBoldFont'"]),desc:d.cfGettingStartedDesc,selected:"commandLine"===this.selectedCardType},doc:a[1],context:n.mixin({type:"commandLine"},this.docContext)});
dojo.config.toolchainEnabled?c.push({card:{imgClass:"i-octocat",coremetricsID:"toolchain",title:n.replace(d.toolchainGettingStartedTitle,["class\x3d'cloudOEBoldFont'","class\x3d'toolchainGettingStartedBetaText'",d.developmentStageExperimental]),desc:d.toolchainGettingStartedDesc,selected:"toolchain"===this.selectedCardType},doc:a[5],context:n.mixin({type:"toolchain"})}):this._isJazzHubEnabled&&c.push({card:{imgClass:"i-git-50",coremetricsID:"git",title:n.replace(d.gitGettingStartedTitle,["class\x3d'cloudOEBoldFont'"]),
desc:d.gitGettingStartedDesc,selected:"gitWithDevOps"===this.selectedCardType},doc:a[2],context:n.mixin({type:"gitWithDevOps"})});this.render(c);r.destroyStandby(e)}.bind(this))},_checkSupportedRuntimes:function(b){var d=new h;if(Array.isArray(b)){var e=[];this._eclipseToolingSupported.forEach(function(a){e.push(f.getTemplate(a))});e.push(m.getRuntimeInfo(this.appData));u(e).then(function(a){var b=a.slice(0,-1),e=a[a.length-1].name;a=b.some(function(a){return!a?!1:e===a.name});d.resolve(a)},function(a){d.reject(a)})}else d.resolve(!1);
return d},_adjustCardContent:function(b,d){b.doc&&("commandLine"===d.type&&(dojo.query(".pre",b.doc).addClass("codeblock"),this._addSetupExtraWord(b),this._formatAppLink(b)),("commandLine"===d.type||"eclipse"===d.type||"nodeRed"===d.type||"iot"===d.type)&&this._checkDownloadStarterCodeLink(b),"gitWithDevOps"===d.type&&this._checkBluemixSync(b),this._setHeaderTilte(d.type),this._addViewDocLink(b),this._initAppOverviewLink(b))},_checkBluemixSync:function(b){var d=p("article.topic",b.doc)[0];d&&this._checkSupportedRuntimes(["nodejsHelloWorld"]).then(function(b){b&&
g.place("\x3cdiv class\x3d'topicSeparator'\x3e\x3c/div\x3e",d,"before");c.toggle(d,"dijitHidden",!b)})},_setHeaderTilte:function(b){var e=null;if("eclipse"===b||"commandLine"===b||"gitWithDevOps"===b||"toolchain"===b)e=d.appGettingStartedHeader;else if("nodeRed"===b||"iot"===b||"iotElectronics"===b)e=d.gettingStartedWithHeader;this._setHeaderNode(e)},_initAppOverviewLink:function(b){var e=g.create("div",{"class":"cardContentLink",innerHTML:d.cfGettingStartedContentVisitAppOverview});this.own(v(e,
"click",function(){s.cmCreatePageviewTag("View App Overview_VP","BLUEMIX ");var b=this.getParentNavigator();this.context.detailType="overview";b.set("context",this.context);b.addRoute(this.context)}.bind(this)));b._addButton(e)},_addViewDocLink:function(e){m.getDocURL(this.appData).then(function(c){if(c){var f=g.create("div",{"class":"cardContentLink",innerHTML:d.viewFullDocumentation});this.own(v(f,"click",function(){var a=this.appData.entity.ace_initialTemplateId;(new b).run({resourceGuid:a,docURL:c})}.bind(this)));
e._addButton(f)}}.bind(this))},_addSetupExtraWord:function(b){b=p(".stepSection .info",b.contentNode).first()[0];g.create("span",{"class":"cloudOEBoldFont",innerHTML:d.cfGettingStartedContentSetupCF},b,"first")},_formatAppLink:function(b){var d=p(".stepSection.last \x3e .info",b.contentNode)[0];if(d){var e=p("\x3e.codeblock",d)[0];e?g.create("span",{"class":"appLink"},e,"replace"):g.create("span",{"class":"appLink"},d,"last")}this._updateAppLink(b)},_updateAppLink:function(b){var d="http://",d=this.docContext.host?
d+this.docContext.host+"."+this.docContext.APPDomain:d+this.docContext.APPDomain;if(b=p(".stepSection.last \x3e .info \x3e .appLink",b.contentNode)[0])"STARTED"===m.getAppState(this.appData)?g.place('\x3ca href\x3d"'+d+'" target\x3d"_blank"\x3e'+d+"\x3c/a\x3e",b,"only"):b.textContent=d},_checkDownloadStarterCodeLink:function(b){var d=p("li.download",b.contentNode)[0];b=p("li.download .xref",b.contentNode)[0];console.log(this);d&&(this.templateId?b&&(b.href="/rest/apps/"+this.appData.metadata.guid+
"/starter-download"):d.parentNode.removeChild(d))},_updateGettingStarted:function(){switch(this.gettingStartedType){case "normalWithElipse":case "normal":this.contentWidgets.forEach(function(b){"commandLine"===b.type&&this._updateAppLink(b);b._fillCommandParam(this.docContext)}.bind(this))}this._resizePane()},_getWrapContext:function(b){var d={},e;for(e in b){var a=b[e];a&&a.match(".*\\s+.*")&&(d[e]='"'+a+'"')}return d},destroy:function(){this.inherited(arguments)}})})},"cloudOE/widgets/CardTabContainer":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/dom-attr dojo/string dojo/on dojo/query dojo/topic dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/layout/ContentPane ./CardContent ../utils/coremetrics ../utils/dom dojo/i18n!../nls/resources dojo/text!./templates/CardTabContainer.html dojo/text!./templates/CardItem.html".split(" "),
function(k,n,h,p,c,g,v,y,u,z,w,x,s,r,f,B,m,t,e){return k([s,w,x],{templateString:t,baseClass:"CardTabContainer",resources:m,postCreate:function(){this.inherited(arguments);this.contentWidgets=[];this.cardWidgets=[];this.cards=[];this.own(z.subscribe("cloudOE/navOpen",function(b){this._resizePane()}.bind(this)));this._resizeHandler=B.windowResizeThrottle(function(){this._resizePane()}.bind(this))},render:function(b){this._reset();b.forEach(function(b){this._addChild(b.card,b.doc,b.context)}.bind(this));
this._resizePane()},_reset:function(){h.empty(this.headerNode);h.empty(this.cardBarNode);this.contentWidgets.forEach(function(b){b.destroy()});this.contentWidgets=[];n.add(this.needleNode,"dijitHidden",!0)},_addChild:function(b,e,d){var c=this._addCard(b),f=this._addContent(e,d);b.selected&&this._setSelectedChild(c,f);b.coremetricsID&&g.set(c,"data-coremetrics-id",b.coremetricsID);this.own(y(c,"click",function(b){this.selectedCardType=d.type;this._onCardClick(b.target,f)}.bind(this)))},_addCard:function(b){var c=
v.substitute(e,{imgClass:b.imgClass,title:b.title,description:b.desc});h.place(c,this.cardBarNode);c=this.cardBarNode.lastElementChild;this.cardWidgets.push(c);this.cards.push(b);return c},_addContent:function(b,e){var d=new r;d.render(b,e);this._adjustCardContent(d,e);this.contentWidgets.push(d);h.place(d.domNode,this.contentAreaNode);return d.domNode},_adjustCardContent:function(b,e){},_setSelectedIndex:function(b){this._setSelectedChild(this.cardWidgets[b],this.contentWidgets[b].domNode)},_setSelectedChild:function(b,
e){this._swapCard(b);this._swapContent(e)},_swapCard:function(b){var e=this.currentCard;e&&n.remove(e,"selected");n.add(b,"selected");this.currentCard=b},_swapContent:function(b){var e=this.currentContent;e&&n.add(e,"dijitHidden");n.remove(b,"dijitHidden");this.currentContent=b},_onCardClick:function(b,e){for(var d=b;d&&!n.contains(d,"cardItem");)d=d.parentNode;var c=g.get(d,"data-coremetrics-id");if(c)f.onSelectCodingMethod(this.context.orgGuid,this.context.appGuid,c);this._setSelectedChild(d,e);
this._centerSharkfin(d)},_centerSharkfin:function(b){b=p.position(b);var e=p.position(this.needleNode.parentNode);this.needleNode.style.left=b.x-e.x+(b.w-this.needleNode.offsetWidth)/2+"px"},_setContentAreaPadding:function(){if(2<u(".cardItem",this.cardBarNode).length){var b=u(".cardItem",this.cardBarNode).first()[0],b=p.getMarginBox(b).l,e=p.getMarginBox(this.contentAreaNode).l;c.set(this.contentAreaNode,"padding","0 "+(b-e)+"px")}},_setHeaderNode:function(b){b?this.headerNode.textContent=b:n.add(this.headerNode,
"dijitHidden")},_setLayout:function(b){n.toggle(this.containerNode,"column","768">=b);n.toggle(this.needleNode,"dijitHidden","768">=b)},_resizePane:function(){var b=p.getContentBox(this.containerNode).w;this.currentCard&&b&&(this._setLayout(b),this._centerSharkfin(this.currentCard),this._setContentAreaPadding())},destroy:function(){this.inherited(arguments);this._resizeHandler&&this._resizeHandler.cancel()}})})},"cloudOE/widgets/CardContent":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-attr dojo/dom-construct dojo/string dojo/query dojo/on dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/layout/ContentPane dijit/Tooltip ../Utils ../utils/clipBoard dojo/i18n!../nls/resources dojo/text!./templates/CardContent.html dojo/text!./templates/CardContentItem.html".split(" "),
function(k,n,h,p,c,g,v,y,u,z,w,x,s,r,f,B,m){return k([w,u,z],{templateString:B,baseClass:"CardContent",resources:f,postCreate:function(){this.inherited(arguments)},render:function(f,e){f?(this._getContent(f),this._formatContent(e),c.place(this.doc,this.contentNode),this.type=e.type):this._showNotFoundPage()},_getContent:function(f){if(f.src){var e=v("article[role]",c.toDom(f.src));e&&e[0]&&(this.doc=e[0])}this.docPrefixURL=f.prefixURL;this.docLinkPrefixURL=f.linkPrefixURL},_formatContent:function(c){this._formatTitle();
this._formatResource();this._formatStep();this._formatCopy();this._fillCommandParam(c)},_formatTitle:function(){v(".topictitle1",this.doc).addClass("cloudOELightFont")},_formatStep:function(){v(".taskbody",this.doc).forEach(function(f){v(".prereq",f).forEach(function(e){var b=g.substitute(m,{step:"s",stepClass:"",info:e.innerHTML});c.place(b,e,"replace")}.bind(this));v(".steps",f).forEach(function(e){var b=c.create("div",{"class":"steps"}),f=v(".step",e),d=1;f.forEach(function(e){var q={};q.step=
d;q.stepClass=d<f.length?"line":"last";q.info=e.innerHTML;q=g.substitute(m,q);q=c.place(q,b);(e=p.get(e,"data-hd-keyref"))&&p.set(q,"data-hd-keyref",e);d++}.bind(this));c.place(b,e,"replace")}.bind(this));v(".postreq",f).forEach(function(e){var b=g.substitute(m,{step:"GS",stepClass:"",info:e.innerHTML});c.place(b,e,"replace")});v("kbd",this.doc).forEach(function(e){var b=c.create("div",{innerHTML:e.innerHTML});c.place(b,e,"only");h.add(b,"code")})}.bind(this))},_formatResource:function(){v("img",
this.doc).forEach(function(c){var e=p.get(c,"src");e&&(c.src=this.docPrefixURL+"/"+e)}.bind(this));v("a",this.doc).forEach(function(c){var e=p.get(c,"href");if((e=e?e.trim():e)&&!s.startsWith(e,"http://")&&!s.startsWith(e,"https://"))c.href=this.docLinkPrefixURL+(s.startsWith(e,"/")?"":"/")+e;p.set(c,"target","_blank")}.bind(this))},_formatCopy:function(){var c=v("pre",this.doc);this._formatCopyFunc(c);c=v("kbd",this.doc);this._formatCopyFunc(c)},_formatCopyFunc:function(m){var e=[];m.forEach(function(b){b=
c.create("div",{"class":"copy i-copy"},b);e.push(b)}.bind(this));0<e.length&&(this.clipObj=r.copyToClipboard(e,function(b){b.clipboardData.setData("text/plain",b.target.parentElement.textContent)}),this.copyTooltip=new x({connectId:this.doc,selector:".i-copy",label:f.copyTooltip,position:["after-centered","below-centered","above-centered","before-centered"]}))},_fillCommandParam:function(c){var e=c.wrapContext;v("[data-hd-keyref]",this.doc).forEach(function(b){var f=p.get(b,"data-hd-keyref"),d=c[f];
d&&(e&&e[f]&&(d=e[f]),b.textContent=d)}.bind(this))},_addButton:function(f){c.place(f,this.buttonContainer)},_showNotFoundPage:function(){c.create("div",{"class":"contentHeader cloudOELightFont",innerHTML:f.error404_title},this.contentNode)},destroy:function(){this.inherited(arguments);r.destroy(this.clipObj);this.copyTooltip&&(this.copyTooltip.destroyRecursive(),this.copyTooltip=null)}})})},"cloudOE/panes/AppDetailsRuntime":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/Deferred dojox/html/entities dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/layout/ContentPane ../RuntimeManager ../Utils ../utils/apps ./_NavigatorPane ./_Details ./AppDetailsUsage ./AppDetailsEnvVars ./AppDetailsFiles ./AppDetailsLogs ./AppDetailsRuntimeBar ./AppDetailsDeploy dojo/i18n!../nls/resources dojo/text!./templates/AppDetailsRuntime.html".split(" "),
function(k,n,h,p,c,g,v,y,u,z,w,x,s,r,f,B,m,t,e,b,C){return k([y,g,v,x],{runtimeName:"Runtime",icon:"",paneId:s.PANE_USAGE,constructor:function(b){this.appData=b.appData||void 0},templateString:C,baseClass:"cloudOEAppDetailsRuntime",resources:b,dirty:!1,postCreate:function(){this.inherited(arguments)},handleLogin:function(){this._loginDeferred=new p;this._loginDeferred.then(function(b){delete this._loginDeferred;this._subscribeCloudOETopic("cloudOE/deleteMultiple");this._subscribeCloudOETopic("cloudOE/updateMultiple");
this._subscribeCloudOETopic("cloudOE/deleteApp");this._subscribeCloudOETopic("cloudOE/updateAppSettings");this._subscribeCloudOETopic("cloudOE/updateDevSpaces");this._subscribeCloudOETopic("cloudOE/changeOrg");this._setSections()}.bind(this),function(b){delete this._loginDeferred}.bind(this))},resize:function(b,e){this.isShown()&&this.inherited(arguments)},isShown:function(){return n.contains(this.domNode.parentNode,"visible")},_cloudOETopicHandler:function(b,e){switch(b){case "cloudOE/deleteApp":e.appGuid===
this.appGuid&&this._goBackToMyApps(!0);break;case "cloudOE/updateAppSettings":case "cloudOE/updateAppRoutes":e.appGuid===this.appGuid&&w.hasRuntime(e.appData).then(function(b){if(b){if(b=e.appData)this._isImportantDataChange(b),b=this.appData=z.updateAppData(this.appData,b),z.updateAppHealthTooltip(b)}else this._goBackToOverview()}.bind(this));break;case "cloudOE/updateDevSpaces":this._populateGeneralInfo(!0);break;case "cloudOE/changeOrg":this._onOrgChange();break;default:this.inherited(arguments)}},
_transformCloudOETopic:function(b,e){var c;switch(b){case "cloudOE/deleteMultiple":c=this._transformSubTopic("cloudOE/deleteApp",e);break;case "cloudOE/updateMultiple":c=e.lastEvent;break;default:c=this.inherited(arguments)}return c},_isImportantDataChange:function(b){var e=!1,e=this.appData,c=e.entity,f=b.entity;return e=c.name!==f.name||c.state!==f.state||c.instances!==f.instances||c.running_instances!==f.running_instances||z.getBuildpackInfo(e).label!==z.getBuildpackInfo(b).label||c.ace_description!=
("string"===typeof f.ace_description?f.ace_description:c.ace_description)||!z.arraysEqual(c.routes,f.routes,function(a,b){return a.metadata.guid===b.metadata.guid})},_setSections:function(){this.paneId!==s.PANE_DEPLOYMENT&&(this.templateId=void 0);var b={appData:this.appData,runtime:this.runtime,appGuid:this.appData.metadata.guid,spaceGuid:this.spaceGuid,isDeveloper:this.isDeveloper,orgGuid:this.orgGuid,templateId:this.templateId};this.paneId===s.PANE_USAGE?this.detailsUsage?this.detailsUsage.set("context",
b):(this.detailsUsage=new r(b),this.detailsUsage.placeAt(this.resourcesTile,"only")):this.paneId===s.PANE_ENV_VARS?this.detailsEnvVars?this.detailsEnvVars.set("context",b):(this.detailsEnvVars=new f(b),this.detailsEnvVars.placeAt(this.envVarTile,"only")):this.paneId===s.PANE_LOGS?this.detailsLogs?this.detailsLogs.set("context",b):(this.detailsLogs=new m(b),this.detailsLogs.placeAt(this.logsTile,"only")):this.paneId===s.PANE_DEPLOYMENT?(this.detailsDeployment=new e(b),this.detailsDeployment.placeAt(this.deploymentTile,
"only")):this.detailsFilesLogs?this.detailsFilesLogs.set("context",b):(this.detailsFilesLogs=new B(b),this.detailsFilesLogs.placeAt(this.filesLogsTile,"only"));n.toggle(this.domNode,"showfilesandlogs",this.paneId===s.PANE_FILELOGS);n.toggle(this.domNode,"showenvvars",this.paneId===s.PANE_ENV_VARS);n.toggle(this.domNode,"showdeployment",this.paneId===s.PANE_DEPLOYMENT);n.toggle(this.domNode,"showlogs",this.paneId===s.PANE_LOGS)},_setContextAttr:function(b){this.inherited(arguments);b&&b.appData&&w.hasRuntime(b.appData).then(function(e){e&&
(this.appGuid=b.appGuid,this.appName=b.appName,this.appData=b.appData,this.orgGuid=b.orgGuid,this.space=b.space,this.spaceGuid=b.spaceGuid,this.runtime=b.runtime,this.templateData=b.templateData,this.isDeveloper=b.isDeveloper,this.templateId=b.templateId,this.paneId=b.paneId||s.PANE_USAGE,this._populateGeneralInfo(),this._setSections())}.bind(this))},getActionBarContent:function(){this.actionBarContent||(this.actionBarContent=h.create("div"));return this.actionBarContent},_populateGeneralInfo:function(){if(!this._destroyed){var b=
this.appData;this.orgGuid=this.orgGuid||this.appData.entity.space.entity.organization_guid;this.isDeveloper=u.isDeveloper(b.entity.space_guid);w.getRuntimeInfo(this.appData).then(function(b){if(!this._destroyed){this.set("icon",{icon:z.getConsoleClassicPath(b.largeIcon),badgeTag:b.badgeTag});this.set("runtimeName",c.encode(b.name));var d=this.getActionBarContent();b={appData:this.appData,isDeveloper:this.isDeveloper,runtime:b,parent:this,paneId:this.paneId};this.runtimeBar?this.runtimeBar._setContextAttr(b):
(this.runtimeBar=new t(b),d.appendChild(this.runtimeBar.domNode),this.runtimeBar.startup())}}.bind(this))}},_goBackToOverview:function(){var b=this.getParentNavigator();b&&b.set("context",{appGuid:this.appGuid,appData:this.appData,orgGuid:this.orgGuid,spaceGuid:this.spaceGuid,isRuntimeNull:!0})},destroy:function(){this.inherited(arguments)}})})},"cloudOE/panes/AppDetailsUsage":function(){define("dojo/_base/declare dojo/_base/lang dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/aspect dojo/dom-class dojo/dom-style dojo/dom-construct dojo/dom-geometry dojo/on dojo/promise/all dojo/topic dojo/date dojo/date/locale dojo/number dojo/sniff dojo/query dojox/html/entities dijit/layout/ContentPane dijit/Dialog dijit/Tooltip dojo/store/Memory ../ServerConnection ../RuntimeManager ../Utils ../utils/apps ../utils/iframe ./_NavigatorPane ./_Details ../actions/ChangeAppStateAction cloudOE/widgets/MessageArea gridx/modules/IndirectSelect gridx/modules/extendedSelect/Row gridx/modules/RowHeader dojo/i18n!../nls/resources dojo/text!./templates/AppDetailsUsage.html ../widgets/Menu dijit/form/NumberSpinner cloudOE/widgets/MemorySpinner cloudOE/widgets/RuntimeCardBar".split(" "),
function(k,n,h,p,c,g,v,y,u,z,w,x,s,r,f,B,m,t,e,b,C,d,l,q,A,a,H,M,I,N,O,E,L,G,J,T){return k([e,h,p,M],{templateString:T,baseClass:"cloudOEAppDetailsUsage",resources:J,requiresLogin:!0,MAX_INSTANCES:200,constructor:function(a){this.title=J.appRuntimeHeader;this.isDeveloper=!1;this.space_guid=a.appData?a.appData.entity.space_guid:void 0;this.context=a},postCreate:function(){l.getPublicInfo().then(function(a){(this._runtimeActionsEnabled=!!a.rtmgmtUrl)&&g.add(this.instanceDetailsContentPane.domNode,"has-runtime-actions")}.bind(this));
this.runtimeCardBar.set("context",this.context)},preHandleLogin:function(){this.inherited(arguments);this._setupAppInstancesGrid()},handleLogin:function(){this._refreshAllData();this._subscribeCloudOETopic("cloudOE/updateAppSettings");this._subscribeCloudOETopic("cloudOE/updateDevSpaces")},_cloudOETopicHandler:function(a,b){switch(a){case "cloudOE/updateAppSettings":if(b.appGuid===this.appGuid){var d=b.appData,e=b.refresh;if(d){var c=this._isImportantDataChange(d),d=this.appData=A.updateAppData(this.appData,
d);e||c?this._refreshAllData():"STARTED"===d.entity.state&&this._refreshInstanceDetails(!0)}else this._refreshAllData(!0)}break;case "cloudOE/updateDevSpaces":this._refreshIsDeveloper();break;default:this.inherited(arguments)}},_isImportantDataChange:function(a){var b=!1,b=this.appData.entity;a=a.entity;return b=b.state!==a.state||b.instances!==a.instances||b.running_instances!==a.running_instances||b.memory!==a.memory},_setupAppInstancesGrid:function(){this.appInstancesGrid=A.createGrid({structure:this._getGridStructure(),
sortInitialOrder:{colId:"id",descending:!1},gridContainer:this.appInstancesGridContainer,argsMixin:{selectRowTriggerOnCell:!0},extraModules:[E,L,G]})},_getGridStructure:function(){return[{id:"id",field:"id",name:J.instance,width:"15%","class":"rowId",comparator:function(a,b){var d=Number(a),e=Number(b);return d<e?-1:d>e?1:0}},{field:"state",name:J.state,width:"14%",formatter:function(a){var b=J[a.state.toLowerCase()];b||(b=a.state);return b}},{field:"cpu",name:J.cpu,width:"11%",formatter:function(a){var b=
J.pendingDashes;a.usage&&"number"===typeof a.usage.cpu&&(b=f.format(a.usage.cpu,{type:"percent",places:1}));return b},sortFormatted:!0},{field:"memUsage",name:J.memUsage,width:"19%",formatter:function(a){var b=J.pendingDashes;a.usage&&a.usage.mem&&(b=a.mem_quota,a=A.getSizeStringFromBytes(a.usage.mem),b=A.getSizeStringFromBytes(b,{removeDecimalOnWholeNumbers:!0}),b=n.replace(J.xSlashY,[a.bold(),b]));return b},sortFormatted:!0},{field:"diskUsage",name:J.diskUsage,width:"19%",formatter:function(a){var b=
J.pendingDashes;a.usage&&a.usage.disk&&(b=a.disk_quota,a=A.getSizeStringFromBytes(a.usage.disk),b=A.getSizeStringFromBytes(b,{removeDecimalOnWholeNumbers:!0}),b=n.replace(J.xSlashY,[a,b]));return b},sortFormatted:!0},{field:"since",name:J.startTime,width:!B("safari")?"auto":"22%","class":"timestamp",formatter:function(a){var b=J.pendingDashes;(a=1E3*a.since)&&(b=r.format(new Date(a),{formatLength:"medium"}));return b},sortFormatted:!0}]},_refreshAllData:function(a){a&&(this.appData=void 0);this._refreshIsDeveloper();
a=this.appData;q.getSelectedOrg();this.runtimeCardBar.set("context",{appData:a,runtime:this.context.runtime,isDeveloper:this.context.isDeveloper});this._refreshInstanceDetails()},_refreshInstanceDetails:function(){if("STARTED"!==a.getAppState(this.appData)){if(this._hideGridForInstances(),this._showInlineMessageForInstances(J.instancesAppNotStarted,O.types.INFORMATION),v.set(this.gridActions,"display","none"),this.appInstancesGrid){var b=new d({data:[]});this.appInstancesGrid.store=null;this.appInstancesGrid.setStore(b)}}else{var e=
this._startRefresh();this._clearInlineMessageForInstances();b=[l.getAppStats(this.appGuid),l.getAppInstances(this.appGuid)];b=w(b);this.setRefreshInstanceDetailsProgress(b);b.then(function(a){var b=a[0];a=a[1];var c=[],f=0,l=0,m;for(m in b)if(b.hasOwnProperty(m)){var q=b[m],g=a[m],t=g.state;"RUNNING"===t&&f++;l++;t={id:m,state:t};q.stats&&n.mixin(t,{host:q.stats.host,port:q.stats.port,uptime:q.stats.uptime,mem_quota:q.stats.mem_quota,disk_quota:q.stats.disk_quota,fds_quota:q.stats.fds_quota,usage:q.stats.usage,
since:g.since});c.push(t)}this._runtimeActionsEnabled&&this._queryRuntimeActions(b,f);b=new d({data:c});this.appInstancesGrid&&(this.appInstancesGrid.store=null,this.appInstancesGrid.setStore(b));e&&this._endRefreshInstanceDetails(e);this.instanceDetailsContentPane.resize();v.set(this.gridActions,"display","")}.bind(this),function(a){var b;"cancel"===a.dojoType&&"CancelError"===a.name||(b=l.getCFErrorCode(a),b===l.ERROR_CODES.STATS_FAILURE_APP_STOPPED||b===l.ERROR_CODES.INSTANCES_FAILURE_APP_STOPPED?
(this._hideGridForInstances(),b=J.instancesAppNotStarted,this._showInlineMessageForInstances(b,O.types.INFORMATION),v.set(this.gridActions,"display","none")):b===l.ERROR_CODES.INSTANCES_FAILURE_APP_NOT_FINISHED_STAGING?(b=J.instancesAppStillStaging,this._showInlineMessageForInstances(b,O.types.WARNING)):b===l.ERROR_CODES.INSTANCES_FAILURE_APP_FAILED_STAGING?(b=J.instancesAppFailedStaging,this._showInlineMessageForInstances(b,O.types.ERROR)):(b=n.replace(J.cannotRetrieveAppInstances,[t.encode(this.appName)]),
q.showErrorMessage(b,a)),this.appInstancesGrid&&(a=new d({data:[]}),this.appInstancesGrid.store=null,this.appInstancesGrid.setStore(a)));e&&q.destroyStandby(e)}.bind(this));return b}},_queryRuntimeActions:function(b,d){if(0===d||d===this.runningCount)this._buildRuntimeActionsMenu();else{this.runningCount=d;this.actionsStandby=q.createStandby(this.gridActionButtons);var e=[],c;for(c in b)if(b.hasOwnProperty(c)){var f=b[c],m=parseInt(c,10);e[m]={state:f.state};"DOWN"!==f.state&&n.mixin(e[m],{ip:f.stats.host,
port:f.stats.port})}e={userName:l.getCurrentUser().email,appGuid:this.appGuid,appName:this.appName||this.appData.name||this.appData.entity.name,spaceGuid:this.space_guid,orgGuid:q.getSelectedOrgGuid(),detected_buildpack:a.getBuildpack(this.appData)||a.getDetectedBuildpack(this.appData),instances:e};l.getRuntimeActions(e).then(function(a){this._buildRuntimeActionsMenu(a)}.bind(this),function(a){this._buildRuntimeActionsMenu()}.bind(this))}},_setContextAttr:function(a){this.inherited(arguments);a&&
(a.appData&&a.runtime)&&(this.runtimeCardBar.set("context",{appData:a.appData,runtime:a.runtime,isDeveloper:a.isDeveloper}),c.after(this.runtimeCardBar,"_setupMemorySpinner",function(){var a=u.getContentBox(this.domNode).w;if(a)this.onResize(a)}.bind(this)))},_buildRuntimeActionsMenu:function(a){!a||!a.actions||!a.actions.length?(this.gridActionButtons.innerHTML="",this.gridActionButtons.appendChild(document.createTextNode("\u00a0")),a=document.createElement("label"),a.innerHTML=J.noActionsForRuntime,
this.gridActionButtons.appendChild(a)):(this._handleLoginUrl(a),this._createActionButtons(a.actions));q.destroyStandby(this.actionsStandby)},_createActionButtons:function(a){this.gridActionButtons.innerHTML="";for(var b=0,d=a.length;b<d;b++){var e=a[b],c=document.createElement("input");c.type="button";c.setAttribute("class","btn btn-primary bordered-btn");c.setAttribute("style","display: inline-block");var f=J[e.name.toLowerCase()];c.setAttribute("value",f);c.onclick=this._openRuntimeActionDialog.bind(this);
c.setAttribute("url",e.url);c.setAttribute("height",e.dimensions.h);c.setAttribute("width",e.dimensions.w);this.gridActionButtons.appendChild(document.createTextNode("\u00a0"));this.gridActionButtons.appendChild(c)}},_handleLoginUrl:function(a){(a=a.loginUrl)&&H.create({url:a,context:{appGuid:this.appGuid,spaceGuid:this.space_guid,orgGuid:q.getSelectedOrgGuid()},extraConfig:{userName:l.getCurrentUser().email},parentNode:this.actionsLoginIframe}).then(function(a){this._actionsLoginIframe=a})},_openRuntimeActionDialog:function(a,
d){var e=this.appInstancesGrid,c=this.appInstancesGrid.select.row.getSelected();if(0===c.length)q.showErrorMessage(J.noRuntimeInstancesSelectedText,null,J.noRuntimeInstancesSelectedTitle);else{var f=this.appGuid,t=a.currentTarget.getAttribute("height"),r=a.currentTarget.getAttribute("width"),t=t||400,r=r||300;if(!this._runtimeActionsDialog){var s=this._runtimeActionsDialog=new b({autofocus:!1,parseOnLoad:!1});this.own(s);g.add(s.domNode,"runtimeActionsDialog bluemixDialog");this.own(H.on("framesize",
function(a,b){if(b.id===f&&"/ace/runtime/framesize"===a){var d=m("iframe",s.domNode)[0],e=b.width;d.setAttribute("height",b.height);d.setAttribute("width",e)}}));this.own(H.on("dirty",function(a,b){b.id===f&&"/ace/runtime/dirty"===a&&this.set("dirty",b.dirty)}.bind(this)));this.own(H.on("close",function(a,b){if(b.id===f&&"/ace/runtime/close"===a&&(s.hide(),"FILES_AND_LOGS"===b.redirect)){var d={appGuid:this.appGuid,appData:this.appData,spaceGuid:this.space_guid,orgGuid:q.getSelectedOrgGuid(),detailType:"runtime",
paneId:I.PANE_FILELOGS},e=this.getParentNavigator();e.set("context",d);e.addRoute(d)}}.bind(this)))}c=c.filter(function(a){return"RUNNING"===e.row(a).item().state});H.create({url:a.currentTarget.getAttribute("url"),context:{appGuid:f,spaceGuid:this.space_guid,orgGuid:q.getSelectedOrgGuid()},parentNode:this._runtimeActionsDialog.containerNode,extraConfig:{userName:l.getCurrentUser().email,appName:this.appName||this.appData.name||this.appData.entity.name,instances:c}}).then(function(a){var b=r;a.setAttribute("height",
t);a.setAttribute("width",b);this._runtimeActionsDialog.show()}.bind(this))}},_getStandbyDomNode:function(){return this.instanceDetailsContentPane.domNode},_showInlineMessageForInstances:function(a,b){A.setDomNodeVisible(this.appInstancesGridContainer.domNode,!1);this.messageArea.show(a,b)},_hideGridForInstances:function(){A.setDomNodeVisible(this.appInstancesGridContainer.domNode,!1)},_clearInlineMessageForInstances:function(){A.setDomNodeVisible(this.appInstancesGridContainer.domNode,!0);this.appInstancesGridContainer.resize();
this.messageArea.hide()},_setupInstancesSpinner:function(){var a=this.appData.entity.instances,b=this.instancesSpinner;this._instancesSpinnerSetup||(b.set("constraints",{min:1,max:this.MAX_INSTANCES,places:0}),b.set("smallDelta",1),b.set("largeDelta",1),this.own(z(b,"change",function(a){this._handleSpinnerUpdates()}.bind(this))),this._instancesSpinnerSetup=!0);b.set("value",a)},_setupMemorySpinner:function(){var a=this.appData.entity.memory,b=this.quotaDefinitionData.entity.memory_limit,d=this.memorySpinner;
this._memorySpinnerSetup||(d.set("constraints",{max:b}),this.own(z(d,"change",function(a){this._handleSpinnerUpdates()}.bind(this))),this._memorySpinnerSetup=!0);d.set("value",a)},_handleSpinnerUpdates:function(){var a=this.appData,b=a.entity.memory,a=a.entity.instances,d=this.quotaDefinitionData.entity.memory_limit,e=this.summaryOfSpaces.mem_total,c=this.memorySpinner.get("value"),f=this.instancesSpinner.get("value"),l=b!=c||a!=f;this.set("dirty",l);this.saveButton.disabled=!l;this.resetButton.disabled=
!l;v.set(this.unsavedChangesMessageArea,"display",l?"":"none");if(this.memorySpinner.isValid()&&this.instancesSpinner.isValid()){var l=b*a,m=e-l,e=d-e,q=c*f,t=this.proposedTotalMemoryAvailable=d-m-q,r=A.getSizeStringFromMB(Math.abs(t)),r=0<=t?r:"-"+r;this.totalMemoryQuotaCell.textContent=A.getSizeStringFromMB(d);this.totalMemoryForOtherAppsCell.textContent=A.getSizeStringFromMB(m);this.currentTotalMemoryForAppCell.textContent=A.getSizeStringFromMB(l);this.currentInstancesForAppCell.textContent=a;
this.currentQuotaPerInstanceCell.textContent=A.getSizeStringFromMB(b);this.currentTotalMemoryAvailableCell.textContent=A.getSizeStringFromMB(e);0<e?(g.add(this.currentTotalMemoryAvailableCell,"cloudOEPositiveNumber"),g.remove(this.currentTotalMemoryAvailableCell,"cloudOENegativeNumber")):(g.remove(this.currentTotalMemoryAvailableCell,"cloudOEPositiveNumber"),g.add(this.currentTotalMemoryAvailableCell,"cloudOENegativeNumber"));this.totalMemoryQuotaAfterCell.textContent=J.noDataDash;this.totalMemoryForOtherAppsAfterCell.textContent=
J.noDataDash;this.proposedTotalMemoryForAppCell.textContent=A.getSizeStringFromMB(q);this.proposedInstancesForAppCell.textContent=f;this.proposedQuotaPerInstanceCell.textContent=A.getSizeStringFromMB(c);this.proposedTotalMemoryAvailableCell.textContent=r;0<t?(g.add(this.proposedTotalMemoryAvailableCell,"cloudOEPositiveNumber"),g.remove(this.proposedTotalMemoryAvailableCell,"cloudOENegativeNumber")):(g.remove(this.proposedTotalMemoryAvailableCell,"cloudOEPositiveNumber"),g.add(this.proposedTotalMemoryAvailableCell,
"cloudOENegativeNumber"))}},_onSaveClick:function(){var a=this.memorySpinner,b=this.instancesSpinner;if(a.isValid()&&b.isValid())if(0>this.proposedTotalMemoryAvailable)a=A.getSizeStringFromMB(Math.abs(this.proposedTotalMemoryAvailable)),a=n.replace(J.configExceedsMemoryQuota,[a]),q.showErrorMessage(a,null,J.exceedMemoryQuotaDialogTitle);else{var d=this.appGuid,e=this.appName,c={memory:a.get("value"),instances:b.get("value")},f=this.appData.entity.memory,m=q.createStandby(this.domNode);l.updateAppSettings(d,
c).then(function(a){var b={source:this,appGuid:d,appName:e,settings:c},g=f!=this.memorySpinner.get("value")?!0:!1,r=a.entity.state;g&&"STARTED"===r?l.changeAppState(d,"STOPPED").then(function(d){q.destroyStandby(m);this._updateInternalData(b,a);x.publish("cloudOE/updateAppSettings",b);this.appData.entity.state="STOPPED";this._changeAppState(this.appData,"STARTED").then(function(a){}.bind(this),function(a){})}.bind(this),function(a){var b=n.replace(J.cannotStopApp,[t.encode(e)]);q.handleError(a,b,
m,J.stopAppDialogTitle)}):(q.destroyStandby(m),this._updateInternalData(b,a),x.publish("cloudOE/updateAppSettings",b),this.appData.entity.state="STOPPED",this._changeAppState(this.appData,"STARTED").then(function(a){}.bind(this),function(a){}))}.bind(this),function(a){var b=n.replace(J.cannotUpdateAppSettings,[t.encode(e)]);q.handleError(a,b,m,J.updateAppDialogTitle)}.bind(this))}},_updateInternalData:function(a,b){a.appData=b;a.orgGuid=q.getSelectedOrgGuid();this.appData=A.updateAppData(this.appData,
b);this._handleSpinnerUpdates()},_onResetClick:function(){var a=this.appData,b=a.entity.instances;this.memorySpinner.set("value",a.entity.memory);this.instancesSpinner.set("value",b)},_refreshIsDeveloper:function(){this.space_guid&&(this.isDeveloper=q.isDeveloper(this.space_guid))},_changeAppState:function(a,b){return(new N).run({appData:a,state:b,standbyDomNode:this.focusNode})},setRefreshInstanceDetailsProgress:function(a){this._refreshInstanceDetailsInProgress&&this._refreshInstanceDetailsInProgress.cancel();
this._refreshInstanceDetailsInProgress=a},_endRefreshInstanceDetails:function(a,b){this.refresher&&this.refresher.set("disabled",!1);a&&q.destroyStandby(a);this.setRefreshInstanceDetailsProgress(null);var d=this._refreshTimer;if(d&&(d.stop(),l.debugPerformance)){var e="************* {0} _endRefresh of {1} took {2} *****************",c=this.title?this.title:"_BasePane",f=b?b:"view",d=d.formatResultInSeconds(),e=n.replace(e,[c,f,d]);console.debug(e)}},onResize:function(a){a=900<a?"isXLarge":800<a?"isLarge":
640<a?"isXMedium":400<a?"isMedium":"isSmall";g.remove(this.domNode,"isSmall isMedium isLarge isXLarge isXMedium");g.add(this.domNode,a)},destroy:function(){this.inherited(arguments);this.setRefreshInstanceDetailsProgress(null);var a=this._actionsLoginIframe;if(a){var b=a.parentNode;b&&b.removeChild(a)}}})})},"cloudOE/panes/AppDetailsEnvVars":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-style dojo/dom-construct dojo/topic dojo/on dojo/promise/all dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/Tooltip ../ServerConnection ../RuntimeManager ../Utils ../utils/clipBoard dijit/layout/ContentPane dojo/store/Memory dojo/store/Observable gridx/modules/Edit gridx/modules/select/Cell gridx/modules/select/Column ./_NavigatorPane dijit/form/ValidationTextBox dojox/html/entities ../actions/ChangeAppStateAction dojo/i18n!../nls/resources dojo/text!./templates/AppDetailsEnvVars.html dijit/layout/StackContainer".split(" "),
function(k,n,h,p,c,g,v,y,u,z,w,x,s,r,f,B,m,t,e,b,C,d,l,q,A,a,H){return k([B,u,z,d],{templateString:H,baseClass:"cloudOEEnvVars",resources:a,GRID_AUTOHEIGHT_ROW_CAP:7,constructor:function(b){this.title=a.environmentVariables;this.isDeveloper=!1;this.space_guid=b.appData?b.appData.entity.space_guid:void 0},postCreate:function(){this.inherited(arguments);this._refreshIsDeveloper();this._setupGrid();this.envGridColumnTooltip=new w({connectId:[this.domNode],selector:".cloudOESpriteIcon",label:a.deleteButton});
this.own(v(this.vcapSelectSpan,"click",function(){!this.vcapSelectInput.checked&&!this._isRefreshing&&(this.vcapSelectInput.checked=!0,s.handlePanelDirty(this)?(this.userDefSelectInput.checked=!0,this.userDefSelectSpan.click()):(p.set(this.addNewEnvVarButton,"display","none"),p.set(this.updateEnvVarsButton,"display","none"),p.set(this.resetEnvVarsButton,"display","none"),p.set(this.unsavedChangesMessageArea,"display","none"),h.toggle(this.envVarsContainer,"showVcap showEnvVars"),this.exportVarsButton.disabled=
this.vcapIsEmpty))}.bind(this)));this.own(v(this.userDefSelectSpan,"click",function(){!this.userDefSelectInput.checked&&!this._isRefreshing&&(this.userDefSelectInput.checked=!0,p.set(this.addNewEnvVarButton,"display",!0===this.isDeveloper?"inline-block":"none"),p.set(this.updateEnvVarsButton,"display",!0===this.isDeveloper?"inline-block":"none"),p.set(this.resetEnvVarsButton,"display",!0===this.isDeveloper?"inline-block":"none"),this.updateEnvVarsButton.disabled=!this.dirty,this.resetEnvVarsButton.disabled=
!this.dirty,p.set(this.unsavedChangesMessageArea,"display",this.dirty?"":"none"),h.toggle(this.envVarsContainer,"showVcap showEnvVars"),this.gridContainerBeenShown||(this._refreshUserVars(),this.gridContainerBeenShown=!0),this._enableDisableExportButton())}.bind(this)))},handleLogin:function(){this._refreshVCAPServices();this._subscribeCloudOETopic("cloudOE/createMultiple");this._subscribeCloudOETopic("cloudOE/deleteMultiple");this._subscribeCloudOETopic("cloudOE/createServiceBinding");this._subscribeCloudOETopic("cloudOE/deleteServiceBinding");
this._subscribeCloudOETopic("cloudOE/updateAppSettings");this._subscribeCloudOETopic("cloudOE/updateDevSpaces")},_cloudOETopicHandler:function(a,b){switch(a){case "cloudOE/createServiceBinding":case "cloudOE/deleteServiceBinding":b.appGuid===this.appGuid&&this._refreshVCAPServices();break;case "cloudOE/updateAppSettings":if(b.appGuid===this.appGuid){var d=b.appData,e=b.refresh;if(d){var c=this._isImportantDataChange(d);this.appData=r.updateAppData(this.appData,d);this.gridContainerBeenShown&&(e||
c&&!this.dirty)&&this._refreshUserVars();(e||c)&&this._refreshVCAPServices()}}break;case "cloudOE/updateDevSpaces":this._refreshIsDeveloper();break;default:this.inherited(arguments)}},_transformCloudOETopic:function(a,b){var d;switch(a){case "cloudOE/createMultiple":d=this._transformSubTopic("cloudOE/createServiceBinding",b);break;case "cloudOE/deleteMultiple":d=this._transformSubTopic("cloudOE/deleteServiceBinding",b);break;default:d=this.inherited(arguments)}return d},_enableDisableExportButton:function(){var a=
!(this.appData&&this.appData.entity.environment_json&&0<Object.keys(this.appData.entity.environment_json).length);this.exportVarsButton.disabled=a},_isImportantDataChange:function(a){var b=!1;a=a.entity;return b=JSON.stringify(this.appData.entity.environment_json)!=JSON.stringify(a.environment_json)},_setupGrid:function(){var d=this.store=new t(new m({data:[]})),c=this,f=function(a,b){return function(){if(!a.isValid())if("1"===b.column.id&&""===a.get("value")){var d=b.grid.model.store.get(b.row.id);
""!==d.origName&&(d.name=" ",d.dirty=!0,b.grid.model.store.put(d),b.setRawData(" "),c._setDirty(!0))}else c._setDirty(!1)}},q=[{field:"name",name:a.name,width:"375px",editable:this.isDeveloper,alwaysEditing:this.isDeveloper,editor:l,editorArgs:{props:'style: "width: 98%;", required: true, intermediateChanges: true, trim: true',applyDelay:10},comparator:function(a,b){return r.strCompareIgnoreCase(a,b)},initializeEditor:function(b,d){b.promptMessage=b.missingMessage=a.missingEnvVarName;b._changeHandler||
(b._changeHandler=v(b,"change",f(b,d)));b._blurHandler||(b._blurHandler=v(b,"blur",function(a){""===b.get("value")&&!0===c.resetEnvVarsButton.disabled&&(c.resetEnvVarsButton.disabled=!1)}))},uninitializeEditor:function(a,b){a._changeHandler&&(a._changeHandler.remove(),a._changeHandler=void 0);a._blurHandler&&(a._blurHandler.remove(),a._blurHandler=void 0)}},{field:"value",name:a.value,width:"370px",editable:this.isDeveloper,alwaysEditing:this.isDeveloper,editor:l,editorArgs:{props:'style: "width: 98%;", required: true, intermediateChanges: true, trim: false',
applyDelay:10},comparator:function(a,b){return r.strCompareIgnoreCase(a,b)},initializeEditor:function(b,d){b.missingMessage=a.missingEnvVarValue;b._changeHandler||(b._changeHandler=v(b,"change",f(b,d)));b._blurHandler||(b._blurHandler=v(b,"blur",function(a){""===b.get("value")&&!0===c.resetEnvVarsButton.disabled&&(c.resetEnvVarsButton.disabled=!1)}))},uninitializeEditor:function(a,b){a._changeHandler&&(a._changeHandler.remove(),a._changeHandler=void 0);a._blurHandler&&(a._blurHandler.remove(),a._blurHandler=
void 0)}},r.getActionColumn({buttonDescriptors:[{dataDojoAttachPoint:"deleteBtn",iconClass:"cloudOESpriteIcon cloudOESpriteIcon_icon_dashboardDelete"}],setCellValue:function(a){p.set(this.deleteBtn.domNode,"visibility",!0===c.isDeveloper?"visible":"hidden");this.deleteBtn.onClick=function(){c._deleteClicked(this.cell)}.bind(this)}})];this.grid=r.createGrid({store:d,structure:q,styleClass:this.baseClass+"Grid",autoHeight:!0,gridContainer:this.gridContainer,extraModules:[e,b,C]});this.grid.edit.lazySave=
!1;this.grid.body.autoUpdate=!1;this.grid.connect(this.grid,"onCellKeyDown",function(a){9===a.keyCode&&!a.shiftKey&&a.rowIndex===this.dataStore.data.length-1&&(1===a.columnIndex||2===a.columnIndex)&&this._onAddNewEnvVarClick({})}.bind(this))},_refreshUserVars:function(b){b&&(this.appData=void 0);var d=s.createStandby(this.grid.domNode);this._isRefreshing=!0;b=[this.appData?this.appData:x.getAppSummary(this.appGuid)];b=y(b);this.setServerRequestInProgress(b);b.then(function(a){a=(this.appData=a[0]).entity.environment_json;
this.dataStore=new m({data:[]});this.origData={};var b=this.store=new t(this.dataStore);this.resultsObserveHandle&&this.resultsObserveHandle.remove();var e=0,c;for(c in a)if(a.hasOwnProperty(c)){var f=a[c];b.add({name:c,value:f,dirty:!1,adding:!1,origName:c,origVal:f});e++}this.envVarsCount=this.origCount=e;this._adjustAutoHeight();a=b.query({});this.resultsObserveHandle=a.observe(function(a,b,d){-1!==a.name.indexOf("\x3c")&&(a.name=q.encode(a.name));-1!==a.value.indexOf("\x3c")&&(a.value=q.encode(a.value));
var e=this.grid.store.data[this.grid.store.data.length-1];this.isAdding=e&&""===e.name&&""===e.value&&""===e.origName&&""===e.origVal?this.grid.store.data.length-1:void 0;-1!==b&&-1===d?(a=""===a.origName&&""===a.origVal,b=this.dataStore.query({dirty:!0}),d=this.dataStore.data.length!=this.origCount,this._setDirty(!a||0<b.length||d)):b===d&&(a.dirty=a.name!==a.origName||a.value!=a.origVal,b=this.dataStore.query({dirty:!0}),this._setDirty(0<b.length))}.bind(this),!0);this.own(this.resultsObserveHandle);
this.grid.store=null;this.grid.setStore(this.store);this.grid.resize();s.destroyStandby(d);this._isRefreshing=!1;this.addNewEnvVarButton.disabled=!1;this._enableDisableExportButton()}.bind(this),function(b){var e=n.replace(a.cannotRetrieveAppInfo,[q.encode(this.appName)]);s.handleError(b,e,d);this._isRefreshing=!1;this.addNewEnvVarButton.disabled=!1;this._enableDisableExportButton()}.bind(this))},_refreshVCAPServices:function(){var b=s.createStandby(this.vcapContent);this._isRefreshing=!0;var d=x.getVCAPServices(this.appGuid);
this.setServerRequestInProgress(d);d.then(function(d){s.destroyStandby(b);this._isRefreshing=!1;this._enableDisableExportButton();d=JSON.stringify(d,null,"   ");var e="{}"===d;this.vcapIsEmpty=e;this.exportVarsButton.disabled=e;h.toggle(this.vcapContent,this.baseClass+"EmptyVCAP",e);this.vcapContent.innerHTML=e?a.noVCAPServiceData:q.encode(d);e||(this.copyNode||(this.copyNode=c.create("div",{"class":"copy i-copy"}),this.clipObj=f.copyToClipboard(this.copyNode,function(a){a.clipboardData.setData("text/plain",
a.target.previousSibling.textContent)}),this.copyTooltip=new w({connectId:this.copyNode,label:a.copyTooltip,position:["after-centered","below-centered","above-centered","before-centered"]})),c.place(this.copyNode,this.vcapContent))}.bind(this),function(d){var e=n.replace(a.cannotGetVCAPSerices,[q.encode(this.appName)]);s.handleError(d,e,b);this._isRefreshing=!1}.bind(this))},_onAddNewEnvVarClick:function(a){this.envVarsCount++;this._adjustAutoHeight();if(void 0===this.isAdding||a.target)this.grid.store.add({name:"",
value:"",dirty:!1,adding:!0,origName:"",origVal:""}),setTimeout(function(){var a=0<this.grid.store.data.length?this.grid.store.data.length-1:0,b=this.grid.cell(a,0);b.select();b.beginEdit();0<a&&this.grid.vScroller.scrollToRow(a,!0);this.updateEnvVarsButton.disabled=!0;setTimeout(function(){b.editor().focus()},100)}.bind(this),100)},_onUpdateEnvVarsClick:function(){for(var b=this.grid.store.query({}),d={},e={},c,f,l=0;l<b.length;l++){c=b[l].name;if(""!==c){f=b[l].value;if(c in e){s.showErrorMessage(a.duplicateEnvVarName,
null,a.updateEnvVariablesDialogTitle);return}d[c]=f;e[c]=!0}c=this.grid.cell(l,0);if(c.editor()&&!1===c.editor().isValid()){s.showErrorMessage(a.invalidColumnEditorValue,null,a.updateEnvVariablesDialogTitle);return}c=this.grid.cell(l,1);if(c.editor()&&!1===c.editor().isValid()){s.showErrorMessage(a.invalidColumnEditorValue,null,a.updateEnvVariablesDialogTitle);return}}this.appData.entity.environment_json=d;var m=s.createStandby(this.grid.domNode);this.addNewEnvVarButton.disabled=!0;this.exportVarsButton.disabled=
!0;var t=this.appGuid,g=this.appName;x.updateAppSettings(t,{environment_json:d}).then(function(b){this._handleSuccessfulUpdate();"STARTED"===b.entity.state?x.changeAppState(t,"STOPPED").then(function(a){s.destroyStandby(m);this.addNewEnvVarButton.disabled=!1;this._enableDisableExportButton();this.appData.entity.state="STOPPED";this._changeAppState(this.appData,"STARTED").then(function(a){}.bind(this),function(a){})}.bind(this),function(b){var d=n.replace(a.cannotStopApp,[q.encode(g)]);s.handleError(b,
d,m,a.stopAppDialogTitle)}):(s.destroyStandby(m),this.addNewEnvVarButton.disabled=!1,this._enableDisableExportButton())}.bind(this),function(b){var d=n.replace(a.cannotUpdateEnvVars,[q.encode(g)]);s.handleError(b,d,m,a.updateEnvVariablesDialogTitle)})},_handleSuccessfulUpdate:function(a){this._setDirty(!1);this.origData={};this.dataStore.data.forEach(function(a){this.origData[a.name]=a.value}.bind(this));this.origCount=this.dataStore.data.length},_onResetEnvVarsClick:function(){this._refreshUserVars(!1);
this._setDirty(!1);this.isAdding=void 0},_onExportEnvVarsClick:function(){this.vcapSelectInput.checked?x.downloadVCAPServices(this.appGuid):this.userDefSelectInput.checked&&x.downloadEnvVars(this.appGuid)},_deleteClicked:function(a){this.envVarsCount--;this._adjustAutoHeight();this.grid.store.remove(a.row.id);this.envGridColumnTooltip.close()},_adjustAutoHeight:function(){},_isDirty:function(){return this.dirty},_setDirty:function(a){this.dirty=a;this.set("dirty",this.dirty);a=0===this.dataStore.query({name:""}).length;
this.updateEnvVarsButton.disabled=!this.dirty||!a;this.resetEnvVarsButton.disabled=!this.dirty&&a;p.set(this.unsavedChangesMessageArea,"display",!0===this.dirty&&a?"":"none")},_refreshIsDeveloper:function(){this.space_guid&&(this.isDeveloper=s.isDeveloper(this.space_guid),this.userDefSelectInput.checked&&(p.set(this.addNewEnvVarButton,"display",!0===this.isDeveloper?"inline-block":"none"),p.set(this.updateEnvVarsButton,"display",!0===this.isDeveloper?"inline-block":"none"),p.set(this.resetEnvVarsButton,
"display",!0===this.isDeveloper?"inline-block":"none")),this.grid&&this.grid.body.refresh())},_changeAppState:function(a,b){return(new A).run({appData:a,state:b})},destroy:function(){this.inherited(arguments);this.envGridColumnTooltip&&(this.envGridColumnTooltip.destroyRecursive(),this.envGridColumnTooltip=null);this.copyTooltip&&(this.copyTooltip.destroyRecursive(),this.copyTooltip=null);f.destroy(this.clipObj)}})})},"dojo/store/Observable":function(){define(["../_base/kernel","../_base/lang","../when",
"../_base/array"],function(k,n,h,p){k=function(c){function g(g,k){var s=c[g];s&&(c[g]=function(c){if(z)return s.apply(this,arguments);z=!0;try{var f=s.apply(this,arguments);h(f,function(f){k("object"==typeof f&&f||c)});return f}finally{z=!1}})}var k=[],y=0;c=n.delegate(c);c.notify=function(c,g){y++;for(var s=k.slice(),r=0,f=s.length;r<f;r++)s[r](c,g)};var u=c.query;c.query=function(g,x){x=x||{};var s=u.apply(this,arguments);if(s&&s.forEach){var r=n.mixin({},x);delete r.start;delete r.count;var f=
c.queryEngine&&c.queryEngine(g,r),B=y,m=[],t;s.observe=function(e,b){1==m.push(e)&&k.push(t=function(d,e){h(s,function(q){var g=q.length!=x.count,a,t;if(++B!=y)throw Error("Query is out of date, you must observe() the query prior to any data modifications");var r,s=-1,k=-1;if(void 0!==e){a=0;for(t=q.length;a<t;a++){var h=q[a];if(c.getIdentity(h)==e){r=h;s=a;(f||!d)&&q.splice(a,1);break}}}if(f){if(d&&(f.matches?f.matches(d):f([d]).length))a=-1<s?s:q.length,q.splice(a,0,d),k=p.indexOf(f(q),d),q.splice(a,
1),x.start&&0==k||!g&&k==q.length?k=-1:q.splice(k,0,d)}else d&&(void 0!==e?k=s:x.start||(k=c.defaultIndex||0,q.splice(k,0,d)));if((-1<s||-1<k)&&(b||!f||s!=k)){g=m.slice();for(a=0;q=g[a];a++)q(d||r,s,k)}})});var g={};g.remove=g.cancel=function(){var b=p.indexOf(m,e);-1<b&&(m.splice(b,1),m.length||k.splice(p.indexOf(k,t),1))};return g}}return s};var z;g("put",function(g){c.notify(g,c.getIdentity(g))});g("add",function(g){c.notify(g)});g("remove",function(g){c.notify(void 0,g)});return c};n.setObject("dojo.store.Observable",
k);return k})},"cloudOE/panes/AppDetailsFiles":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/dom-class dojo/topic dojo/on dojo/promise/all dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/Tooltip dijit/layout/ContentPane ../ServerConnection ../RuntimeManager ../Utils dijit/Tree dijit/tree/ObjectStoreModel ./_NavigatorPane ../widgets/MessageArea dojox/html/entities dojo/i18n!../nls/resources dojo/text!./templates/AppDetailsFiles.html dijit/form/Select dijit/form/Button dijit/Toolbar".split(" "),
function(k,n,h,p,c,g,v,y,u,z,w,x,s,r,f,B,m,t,e,b,C){return k([w,y,u,m],{templateString:C,baseClass:"cloudOEFiles",resources:b,postCreate:function(){this.own(g(this.appInstancesSelect,"change",function(){var b=this.appInstancesSelect.get("value");this.currentInstance!==b&&(this.currentInstance=b,this._load())}.bind(this)));x.getPublicInfo().then(function(b){this.maxFileSize=1024*b.maxFileSize}.bind(this),function(d){s.showErrorMessage(b.cannotRetrieveInfo,d)});this.downloadButton.iconNode&&(this.downloadTooltip=
new z({connectId:[this.downloadButton.iconNode],position:["before-centered","below-centered","above-centered","after-centered"],label:b.download,showDelay:r.TOOLTIP_DELAY}))},handleLogin:function(){this._refresh();this._subscribeCloudOETopic("cloudOE/updateAppSettings")},_cloudOETopicHandler:function(b,e){switch(b){case "cloudOE/updateAppSettings":if(e.appGuid===this.appGuid){var c=e.appData,f=e.refresh;if(c){var a=this._isImportantDataChange(c);this.appData=r.updateAppData(this.appData,c);(f||a)&&
this._refresh()}else this._refresh(!0)}break;default:this.inherited(arguments)}},_isImportantDataChange:function(b){var e=!1,e=this.appData.entity;b=b.entity;return e=e.state!==b.state||e.instances!==b.instances||e.running_instances!==b.running_instances||e.memory!==b.memory},_refresh:function(d){d&&(this.appData=void 0);var c=s.createStandby(this.domNode);d=[this.appData?this.appData:x.getAppSummary(this.appGuid)];d=v(d);this.setServerRequestInProgress(d);d.then(function(d){var e=this.appData=d[0];
this._clearFileDetails();if("STARTED"===e.entity.state&&0<e.entity.running_instances){this.messageArea.hide();r.setDomNodeVisible(this.selectionArea,!0);h.set(this.selectionArea,"padding-bottom","8px");r.setDomNodeVisible(this.fileDetailsBorderContainer,!0);r.setDomNodeVisible(this.contentArea.domNode,!0);d=e.entity.instances;var a=1<d?!0:!1;r.setDomNodeVisible(this.appInstancesSelect.domNode,a);r.setDomNodeVisible(this.appInstancesSelectLabel,a);this.appName=e.entity.name;e=this.appInstancesSelect;
e.removeOption(e.getOptions());for(a=0;a<d;a++){var f=String(a);e.addOption({label:f,value:f})}e.set("value","0");this.currentInstance="0";this._load()}else this.messageArea.show(b.filesAndLogsAppNotStarted,t.types.WARNING),r.setDomNodeVisible(this.appInstancesSelect.domNode,!1),r.setDomNodeVisible(this.appInstancesSelectLabel,!1),r.setDomNodeVisible(this.selectionArea,!1),h.set(this.selectionArea,"padding-bottom","0px"),r.setDomNodeVisible(this.fileBorderContainer,!1),r.setDomNodeVisible(this.contentArea.domNode,
!1),this._destroyFileTree();s.destroyStandby(c)}.bind(this),function(d){var f=n.replace(b.cannotRetrieveAppInfo,[e.encode(this.appName)]);s.handleError(d,f,c)}.bind(this))},_load:function(){this._clearFileDetails();this.messageArea.hide();r.setDomNodeVisible(this.fileBorderContainer,!0);r.setDomNodeVisible(this.contentArea.domNode,!0);var d=s.createStandby(this.domNode),c=x.getJsonRestFileStore(this.appGuid,this.currentInstance,{getChildren:function(b){return this.get(b.id).then(function(a){return a.children})}}),
f=this,c=new B({store:c,getRoot:function(c){this.store.get("").then(function(a){c(a);if(!a.children||!a.children.length)a=n.replace(b.noFilesToDisplay,[f.currentInstance,e.encode(f.appName)]),f._showMessageArea(a,t.types.INFORMATION)},function(a){s.destroyStandby(d);f._handleTreeDataRetrievalError(a)})},mayHaveChildren:function(b){return"children"in b},query:{id:""}});this._destroyFileTree();this._createFileTree(c,d)},_createFileTree:function(b,e){var c=this.fileTree=new f({model:b,showRoot:!1,persist:!1,
style:"height:100%;width:100%;",getIconClass:function(b,a){return!b||this.model.mayHaveChildren(b)?a?"cloudOESpriteIcon cloudOEFolderOpened":"cloudOESpriteIcon cloudOEFolderClosed":"cloudOESpriteIcon cloudOEDocument"}});c.dndController.singular=!0;this.own(c.watch("selectedItems",function(b,a,d){this._handleSelectionChanged(d)}.bind(this)));this.fileTreeNode.textContent="";c.placeAt(this.fileTreeNode);c.startup();c.onLoadDeferred.then(function(){s.destroyStandby(e);c.set("path",[])}.bind(this))},
_destroyFileTree:function(){var b=this.fileTree;b&&b.onLoadDeferred.then(function(){setTimeout(function(){b.destroyRecursive()}.bind(this),0)}.bind(this))},_handleSelectionChanged:function(d){if(d&&1===d.length){var c=d[0];if(c.children)this.currentFilePath=void 0,this._clearFileDetails();else{this.currentFilePath=c.path;var f=s.createStandby(this.fileBorderContainer);x.getFileSize(this.appGuid,this.currentInstance,c.path).then(function(d){this._destroyed||(d>this.maxFileSize?(s.destroyStandby(f),
this.fileContent.textContent=n.replace(b.fileIsTooBig,[r.getSizeStringFromBytes(this.maxFileSize,{removeDecimalOnWholeNumbers:!0})]),p.add(this.fileContent,this.baseClass+"ContentEmpty"),this.fileDetails.innerHTML=n.replace(b.fileDetails,[e.encode(c.path),c.size]),p.remove(this.fileDetails,this.baseClass+"DetailsEmpty"),this.downloadButton.set("disabled",!1)):x.getFileContents(this.appGuid,this.currentInstance,c.path).then(function(a){this._destroyed||(s.destroyStandby(f),a&&0<a.length?(this.fileContent.textContent=
a,p.remove(this.fileContent,this.baseClass+"ContentEmpty"),this.downloadButton.set("disabled",!1)):(this.fileContent.textContent=b.fileIsEmpty,p.add(this.fileContent,this.baseClass+"ContentEmpty"),this.downloadButton.set("disabled",!0)),p.remove(this.fileDetails,this.baseClass+"DetailsEmpty"),this.fileDetails.innerHTML=n.replace(b.fileDetails,[e.encode(c.path),c.size]))}.bind(this),function(a){var d=n.replace(b.failedGetFileContents,[e.encode(c.path),e.encode(this.appName)]);s.showErrorMessage(d,
a);this._clearFileDetails();s.destroyStandby(f)}.bind(this)))}.bind(this),function(d){var a=n.replace(b.failedGetFileContents,[e.encode(c.path),e.encode(this.appName)]);s.showErrorMessage(a,d);this._clearFileDetails();s.destroyStandby(f)}.bind(this))}}else this.currentFilePath=void 0,this._clearFileDetails()},_clearFileDetails:function(){this.fileContent.textContent="";this.fileDetails.textContent=b.noFileSelected;p.add(this.fileDetails,this.baseClass+"DetailsEmpty");this.downloadButton.set("disabled",
!0)},_handleTreeDataRetrievalError:function(d){d=(d=x.extractErrorMessage(d,!0))?e.encode(d):n.replace(b.cannotRetrieveFilesFromApp,[e.encode(this.appName),this.currentInstance]);console.error("AppDetailsFiles::_handleTreeDataRetrievalError: "+d);this._showMessageArea(d)},_showMessageArea:function(b,e){r.setDomNodeVisible(this.fileBorderContainer,!1);r.setDomNodeVisible(this.contentArea.domNode,!1);this.messageArea.show(b,e)},_onRefreshClick:function(){this._load()},_onDownloadClick:function(){this.downloadTooltip&&
this.downloadTooltip.close();this.currentFilePath&&x.downloadFileContents(this.appGuid,this.currentInstance,this.currentFilePath).then(function(){console.log(this.currentFilePath+" downloaded")}.bind(this))}})})},"dijit/Tree":function(){define("dojo/_base/array dojo/aspect dojo/_base/connect dojo/cookie dojo/_base/declare dojo/Deferred dojo/promise/all dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/errors/create dojo/fx dojo/has dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/topic dojo/touch dojo/when ./a11yclick ./focus ./registry ./_base/manager ./_Widget ./_TemplatedMixin ./_Container ./_Contained ./_CssStateMixin ./_KeyNavMixin dojo/text!./templates/TreeNode.html dojo/text!./templates/Tree.html ./tree/TreeStoreModel ./tree/ForestStoreModel ./tree/_dndSelector dojo/query!css2".split(" "),
function(k,n,h,p,c,g,v,y,u,z,w,x,s,r,f,B,m,t,e,b,C,d,l,q,A,a,H,M,I,N,O,E,L,G,J,T){function K(a){return m.delegate(a.promise||a,{addCallback:function(a){this.then(a)},addErrback:function(a){this.otherwise(a)}})}var S=c("dijit._TreeNode",[a,H,M,I,N],{item:null,isTreeNode:!0,label:"",_setLabelAttr:function(a){this.labelNode["html"==this.labelType?"innerHTML":"innerText"in this.labelNode?"innerText":"textContent"]=a;this._set("label",a)},labelType:"text",isExpandable:null,isExpanded:!1,state:"NotLoaded",
templateString:E,baseClass:"dijitTreeNode",cssStateNodes:{rowNode:"dijitTreeRow"},_setTooltipAttr:{node:"rowNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments);this._setExpando();this._updateItemClasses(this.item);this.isExpandable&&this.labelNode.setAttribute("aria-expanded",this.isExpanded);this.setSelected(!1)},_setIndentAttr:function(a){var b=Math.max(a,0)*this.tree._nodePixelIndent+"px";w.set(this.domNode,"backgroundPosition",b+" 0px");w.set(this.rowNode,
this.isLeftToRight()?"paddingLeft":"paddingRight",b);k.forEach(this.getChildren(),function(b){b.set("indent",a+1)});this._set("indent",a)},markProcessing:function(){this.state="Loading";this._setExpando(!0)},unmarkProcessing:function(){this._setExpando(!1)},_updateItemClasses:function(a){var b=this.tree,d=b.model;b._v10Compat&&a===d.root&&(a=null);this._applyClassAndStyle(a,"icon","Icon");this._applyClassAndStyle(a,"label","Label");this._applyClassAndStyle(a,"row","Row");this.tree._startPaint(!0)},
_applyClassAndStyle:function(a,b,d){var e="_"+b+"Class";b+="Node";var c=this[e];this[e]=this.tree["get"+d+"Class"](a,this.isExpanded);u.replace(this[b],this[e]||"",c||"");w.set(this[b],this.tree["get"+d+"Style"](a,this.isExpanded)||{})},_updateLayout:function(){var a=this.getParent();!a||!a.rowNode||"none"==a.rowNode.style.display?u.add(this.domNode,"dijitTreeIsRoot"):u.toggle(this.domNode,"dijitTreeIsLast",!this.getNextSibling())},_setExpando:function(a){var b=["dijitTreeExpandoLoading","dijitTreeExpandoOpened",
"dijitTreeExpandoClosed","dijitTreeExpandoLeaf"];a=a?0:this.isExpandable?this.isExpanded?1:2:3;u.replace(this.expandoNode,b[a],b);this.expandoNodeText.innerHTML=["*","-","+","*"][a]},expand:function(){if(this._expandDeferred)return K(this._expandDeferred);this._collapseDeferred&&(this._collapseDeferred.cancel(),delete this._collapseDeferred);this.isExpanded=!0;this.labelNode.setAttribute("aria-expanded","true");(this.tree.showRoot||this!==this.tree.rootNode)&&this.containerNode.setAttribute("role",
"group");u.add(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);this==this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded","true");var a=s.wipeIn({node:this.containerNode,duration:A.defaultDuration}),b=this._expandDeferred=new g(function(){a.stop()});n.after(a,"onEnd",function(){b.resolve(!0)},!0);a.play();return K(b)},collapse:function(){if(this._collapseDeferred)return K(this._collapseDeferred);this._expandDeferred&&
(this._expandDeferred.cancel(),delete this._expandDeferred);this.isExpanded=!1;this.labelNode.setAttribute("aria-expanded","false");this==this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded","false");u.remove(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);var a=s.wipeOut({node:this.containerNode,duration:A.defaultDuration}),b=this._collapseDeferred=new g(function(){a.stop()});n.after(a,"onEnd",function(){b.resolve(!0)},
!0);a.play();return K(b)},indent:0,setChildItems:function(a){var b=this.tree,d=b.model,e=[],c=this.getChildren();k.forEach(c,function(a){M.prototype.removeChild.call(this,a)},this);this.defer(function(){k.forEach(c,function(a){if(!a._destroyed&&!a.getParent()){b.dndController.removeTreeNode(a);var e=function(a){var c=d.getIdentity(a.item),f=b._itemNodesMap[c];1==f.length?delete b._itemNodesMap[c]:(c=k.indexOf(f,a),-1!=c&&f.splice(c,1));k.forEach(a.getChildren(),e)};e(a);if(b.persist){var c=k.map(a.getTreePath(),
function(a){return b.model.getIdentity(a)}).join("/"),f;for(f in b._openedNodes)f.substr(0,c.length)==c&&delete b._openedNodes[f];b._saveExpandedNodes()}a.destroyRecursive()}})});this.state="Loaded";a&&0<a.length?(this.isExpandable=!0,k.forEach(a,function(a){var c=d.getIdentity(a),f=b._itemNodesMap[c],m;if(f)for(var l=0;l<f.length;l++)if(f[l]&&!f[l].getParent()){m=f[l];m.set("indent",this.indent+1);break}m||(m=this.tree._createTreeNode({item:a,tree:b,isExpandable:d.mayHaveChildren(a),label:b.getLabel(a),
labelType:b.model&&b.model.labelType||"text",tooltip:b.getTooltip(a),ownerDocument:b.ownerDocument,dir:b.dir,lang:b.lang,textDir:b.textDir,indent:this.indent+1}),f?f.push(m):b._itemNodesMap[c]=[m]);this.addChild(m);(this.tree.autoExpand||this.tree._state(m))&&e.push(b._expandNode(m))},this),k.forEach(this.getChildren(),function(a){a._updateLayout()})):this.isExpandable=!1;this._setExpando&&this._setExpando(!1);this._updateItemClasses(this.item);a=v(e);this.tree._startPaint(a);return K(a)},getTreePath:function(){for(var a=
this,b=[];a&&a!==this.tree.rootNode;)b.unshift(a.item),a=a.getParent();b.unshift(this.tree.rootNode.item);return b},getIdentity:function(){return this.tree.model.getIdentity(this.item)},removeChild:function(a){this.inherited(arguments);var b=this.getChildren();0==b.length&&(this.isExpandable=!1,this.collapse());k.forEach(b,function(a){a._updateLayout()})},makeExpandable:function(){this.isExpandable=!0;this._setExpando(!1)},setSelected:function(a){this.labelNode.setAttribute("aria-selected",a?"true":
"false");u.toggle(this.rowNode,"dijitTreeRowSelected",a)},focus:function(){l.focus(this.focusNode)}});r("dojo-bidi")&&S.extend({_setTextDirAttr:function(a){if(a&&(this.textDir!=a||!this._created))this._set("textDir",a),this.applyTextDir(this.labelNode),k.forEach(this.getChildren(),function(b){b.set("textDir",a)},this)}});var Q=c("dijit.Tree",[a,O,H,N],{baseClass:"dijitTree",store:null,model:null,query:null,label:"",showRoot:!0,childrenAttr:["children"],paths:[],path:[],selectedItems:null,selectedItem:null,
openOnClick:!1,openOnDblClick:!1,templateString:L,persist:!1,autoExpand:!1,dndController:T,dndParams:"onDndDrop itemCreator onDndCancel checkAcceptance checkItemAcceptance dragThreshold betweenThreshold".split(" "),onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,dragThreshold:5,betweenThreshold:0,_nodePixelIndent:19,_publish:function(a,b){e.publish(this.id,m.mixin({tree:this,event:a},b||{}))},postMixInProperties:function(){this.tree=this;this.autoExpand&&
(this.persist=!1);this._itemNodesMap={};!this.cookieName&&this.id&&(this.cookieName=this.id+"SaveStateCookie");this.expandChildrenDeferred=new g;this.pendingCommandsPromise=this.expandChildrenDeferred.promise;this.inherited(arguments)},postCreate:function(){this._initState();var a=this;this.own(t(this.containerNode,t.selector(".dijitTreeNode",b.enter),function(b){a._onNodeMouseEnter(q.byNode(this),b)}),t(this.containerNode,t.selector(".dijitTreeNode",b.leave),function(b){a._onNodeMouseLeave(q.byNode(this),
b)}),t(this.containerNode,t.selector(".dijitTreeRow",d.press),function(b){a._onNodePress(q.getEnclosingWidget(this),b)}),t(this.containerNode,t.selector(".dijitTreeRow",d),function(b){a._onClick(q.getEnclosingWidget(this),b)}),t(this.containerNode,t.selector(".dijitTreeRow","dblclick"),function(b){a._onDblClick(q.getEnclosingWidget(this),b)}));this.model||this._store2model();this.own(n.after(this.model,"onChange",m.hitch(this,"_onItemChange"),!0),n.after(this.model,"onChildrenChange",m.hitch(this,
"_onItemChildrenChange"),!0),n.after(this.model,"onDelete",m.hitch(this,"_onItemDelete"),!0));this.inherited(arguments);if(this.dndController){m.isString(this.dndController)&&(this.dndController=m.getObject(this.dndController));for(var e={},c=0;c<this.dndParams.length;c++)this[this.dndParams[c]]&&(e[this.dndParams[c]]=this[this.dndParams[c]]);this.dndController=new this.dndController(this,e)}this._load();this.onLoadDeferred=K(this.pendingCommandsPromise);this.onLoadDeferred.then(m.hitch(this,"onLoad"))},
_store2model:function(){this._v10Compat=!0;f.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");var a={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};this.params.mayHaveChildren&&(a.mayHaveChildren=m.hitch(this,"mayHaveChildren"));this.params.getItemChildren&&(a.getChildren=m.hitch(this,function(a,b,d){this.getItemChildren(this._v10Compat&&a===this.model.root?null:a,b,d)}));this.model=new J(a);this.showRoot=
Boolean(this.label)},onLoad:function(){},_load:function(){this.model.getRoot(m.hitch(this,function(a){var b=this.rootNode=this.tree._createTreeNode({item:a,tree:this,isExpandable:!0,label:this.label||this.getLabel(a),labelType:this.model.labelType||"text",textDir:this.textDir,indent:this.showRoot?0:-1});this.showRoot?(this.domNode.setAttribute("aria-multiselectable",!this.dndController.singular),this.rootLoadingIndicator.style.display="none"):(b.rowNode.style.display="none",this.domNode.setAttribute("role",
"presentation"),this.domNode.removeAttribute("aria-expanded"),this.domNode.removeAttribute("aria-multiselectable"),this["aria-label"]?(b.containerNode.setAttribute("aria-label",this["aria-label"]),this.domNode.removeAttribute("aria-label")):this["aria-labelledby"]&&(b.containerNode.setAttribute("aria-labelledby",this["aria-labelledby"]),this.domNode.removeAttribute("aria-labelledby")),b.labelNode.setAttribute("role","presentation"),b.containerNode.setAttribute("role","tree"),b.containerNode.setAttribute("aria-expanded",
"true"),b.containerNode.setAttribute("aria-multiselectable",!this.dndController.singular));this.containerNode.appendChild(b.domNode);a=this.model.getIdentity(a);this._itemNodesMap[a]?this._itemNodesMap[a].push(b):this._itemNodesMap[a]=[b];b._updateLayout();this._expandNode(b).then(m.hitch(this,function(){this.rootLoadingIndicator.style.display="none";this.expandChildrenDeferred.resolve(!0)}))}),m.hitch(this,function(a){console.error(this,": error loading root: ",a)}))},getNodesByItem:function(a){if(!a)return[];
a=m.isString(a)?a:this.model.getIdentity(a);return[].concat(this._itemNodesMap[a])},_setSelectedItemAttr:function(a){this.set("selectedItems",[a])},_setSelectedItemsAttr:function(a){var b=this;return this.pendingCommandsPromise=this.pendingCommandsPromise.always(m.hitch(this,function(){var d=k.map(a,function(a){return!a||m.isString(a)?a:b.model.getIdentity(a)}),e=[];k.forEach(d,function(a){e=e.concat(b._itemNodesMap[a]||[])});this.set("selectedNodes",e)}))},_setPathAttr:function(a){return a.length?
K(this.set("paths",[a]).then(function(a){return a[0]})):K(this.set("paths",[]).then(function(a){return a[0]}))},_setPathsAttr:function(a){function b(a,e){var c=a.shift(),f=k.filter(e,function(a){return a.getIdentity()==c})[0];if(f)return a.length?d._expandNode(f).then(function(){return b(a,f.getChildren())}):f;throw new Q.PathError("Could not expand path at "+c);}var d=this;return K(this.pendingCommandsPromise=this.pendingCommandsPromise.always(function(){return v(k.map(a,function(a){a=k.map(a,function(a){return m.isString(a)?
a:d.model.getIdentity(a)});if(a.length)return b(a,[d.rootNode]);throw new Q.PathError("Empty path");}))}).then(function(a){d.set("selectedNodes",a);return d.paths}))},_setSelectedNodeAttr:function(a){this.set("selectedNodes",[a])},_setSelectedNodesAttr:function(a){this.dndController.setSelection(a)},expandAll:function(){function a(d){return b._expandNode(d).then(function(){var b=k.filter(d.getChildren()||[],function(a){return a.isExpandable});return v(k.map(b,a))})}var b=this;return K(a(this.rootNode))},
collapseAll:function(){function a(d){var e=k.filter(d.getChildren()||[],function(a){return a.isExpandable}),e=v(k.map(e,a));return!d.isExpanded||d==b.rootNode&&!b.showRoot?e:e.then(function(){return b._collapseNode(d)})}var b=this;return K(a(this.rootNode))},mayHaveChildren:function(){},getItemChildren:function(){},getLabel:function(a){return this.model.getLabel(a)},getIconClass:function(a,b){return!a||this.model.mayHaveChildren(a)?b?"dijitFolderOpened":"dijitFolderClosed":"dijitLeaf"},getLabelClass:function(){},
getRowClass:function(){},getIconStyle:function(){},getLabelStyle:function(){},getRowStyle:function(){},getTooltip:function(){return""},_onDownArrow:function(a,b){var d=this._getNext(b);d&&d.isTreeNode&&this.focusNode(d)},_onUpArrow:function(a,b){var d=b.getPreviousSibling();if(d)for(b=d;b.isExpandable&&b.isExpanded&&b.hasChildren();)d=b.getChildren(),b=d[d.length-1];else if(d=b.getParent(),this.showRoot||d!==this.rootNode)b=d;b&&b.isTreeNode&&this.focusNode(b)},_onRightArrow:function(a,b){b.isExpandable&&
!b.isExpanded?this._expandNode(b):b.hasChildren()&&(b=b.getChildren()[0])&&b.isTreeNode&&this.focusNode(b)},_onLeftArrow:function(a,b){if(b.isExpandable&&b.isExpanded)this._collapseNode(b);else{var d=b.getParent();d&&(d.isTreeNode&&(this.showRoot||d!==this.rootNode))&&this.focusNode(d)}},focusLastChild:function(){var a=this._getLast();a&&a.isTreeNode&&this.focusNode(a)},_getFirst:function(){return this.showRoot?this.rootNode:this.rootNode.getChildren()[0]},_getLast:function(){for(var a=this.rootNode;a.isExpanded;){var b=
a.getChildren();if(!b.length)break;a=b[b.length-1]}return a},_getNext:function(a){if(a.isExpandable&&a.isExpanded&&a.hasChildren())return a.getChildren()[0];for(;a&&a.isTreeNode;){var b=a.getNextSibling();if(b)return b;a=a.getParent()}return null},childSelector:".dijitTreeRow",isExpandoNode:function(a,b){return y.isDescendant(a,b.expandoNode)||y.isDescendant(a,b.expandoNodeText)},_onNodePress:function(a,b){a.focus()},__click:function(a,b,d,e){var c=this.isExpandoNode(b.target,a);a.isExpandable&&(d||
c)?this._onExpandoClick({node:a}):(this._publish("execute",{item:a.item,node:a,evt:b}),this[e](a.item,a,b),this.focusNode(a));b.stopPropagation();b.preventDefault()},_onClick:function(a,b){this.__click(a,b,this.openOnClick,"onClick")},_onDblClick:function(a,b){this.__click(a,b,this.openOnDblClick,"onDblClick")},_onExpandoClick:function(a){a=a.node;this.focusNode(a);a.isExpanded?this._collapseNode(a):this._expandNode(a)},onClick:function(){},onDblClick:function(){},onOpen:function(){},onClose:function(){},
_getNextNode:function(a){f.deprecated(this.declaredClass+"::_getNextNode(node) is deprecated. Use _getNext(node) instead.","","2.0");return this._getNext(a)},_getRootOrFirstNode:function(){f.deprecated(this.declaredClass+"::_getRootOrFirstNode() is deprecated. Use _getFirst() instead.","","2.0");return this._getFirst()},_collapseNode:function(a){a._expandNodeDeferred&&delete a._expandNodeDeferred;if("Loading"!=a.state&&a.isExpanded){var b=a.collapse();this.onClose(a.item,a);this._state(a,!1);this._startPaint(b);
return b}},_expandNode:function(a){if(a._expandNodeDeferred)return a._expandNodeDeferred;var b=this.model,d=a.item,e=this;a._loadDeferred||(a.markProcessing(),a._loadDeferred=new g,b.getChildren(d,function(b){a.unmarkProcessing();a.setChildItems(b).then(function(){a._loadDeferred.resolve(b)})},function(b){console.error(e,": error loading "+a.label+" children: ",b);a._loadDeferred.reject(b)}));b=a._loadDeferred.then(m.hitch(this,function(){var b=a.expand();this.onOpen(a.item,a);this._state(a,!0);return b}));
this._startPaint(b);return b},focusNode:function(a){this.focusChild(a)},_onNodeMouseEnter:function(){},_onNodeMouseLeave:function(){},_onItemChange:function(a){var b=this.model.getIdentity(a);if(b=this._itemNodesMap[b]){var d=this.getLabel(a),e=this.getTooltip(a);k.forEach(b,function(b){b.set({item:a,label:d,tooltip:e});b._updateItemClasses(a)})}},_onItemChildrenChange:function(a,b){var d=this.model.getIdentity(a);(d=this._itemNodesMap[d])&&k.forEach(d,function(a){a.setChildItems(b)})},_onItemDelete:function(a){a=
this.model.getIdentity(a);var b=this._itemNodesMap[a];b&&(k.forEach(b,function(a){this.dndController.removeTreeNode(a);var b=a.getParent();b&&b.removeChild(a);a.destroyRecursive()},this),delete this._itemNodesMap[a])},_initState:function(){this._openedNodes={};if(this.persist&&this.cookieName){var a=p(this.cookieName);a&&k.forEach(a.split(","),function(a){this._openedNodes[a]=!0},this)}},_state:function(a,b){if(!this.persist)return!1;var d=k.map(a.getTreePath(),function(a){return this.model.getIdentity(a)},
this).join("/");if(1===arguments.length)return this._openedNodes[d];b?this._openedNodes[d]=!0:delete this._openedNodes[d];this._saveExpandedNodes()},_saveExpandedNodes:function(){if(this.persist&&this.cookieName){var a=[],b;for(b in this._openedNodes)a.push(b);p(this.cookieName,a.join(","),{expires:365})}},destroy:function(){this._curSearch&&(this._curSearch.timer.remove(),delete this._curSearch);this.rootNode&&this.rootNode.destroyRecursive();this.dndController&&!m.isString(this.dndController)&&
this.dndController.destroy();this.rootNode=null;this.inherited(arguments)},destroyRecursive:function(){this.destroy()},resize:function(a){a&&z.setMarginBox(this.domNode,a);this._nodePixelIndent=z.position(this.tree.indentDetector).w||this._nodePixelIndent;this.expandChildrenDeferred.then(m.hitch(this,function(){this.rootNode.set("indent",this.showRoot?0:-1);this._adjustWidths()}))},_outstandingPaintOperations:0,_startPaint:function(a){this._outstandingPaintOperations++;this._adjustWidthsTimer&&(this._adjustWidthsTimer.remove(),
delete this._adjustWidthsTimer);var b=m.hitch(this,function(){this._outstandingPaintOperations--;0>=this._outstandingPaintOperations&&(!this._adjustWidthsTimer&&this._started)&&(this._adjustWidthsTimer=this.defer("_adjustWidths"))});C(a,b,b)},_adjustWidths:function(){this._adjustWidthsTimer&&(this._adjustWidthsTimer.remove(),delete this._adjustWidthsTimer);this.containerNode.style.width="auto";this.containerNode.style.width=this.domNode.scrollWidth>this.domNode.offsetWidth?"auto":"100%"},_createTreeNode:function(a){return new S(a)},
focus:function(){this.lastFocusedChild?this.focusNode(this.lastFocusedChild):this.focusFirstChild()}});r("dojo-bidi")&&Q.extend({_setTextDirAttr:function(a){a&&this.textDir!=a&&(this._set("textDir",a),this.rootNode.set("textDir",a))}});Q.PathError=x("TreePathError");Q._TreeNode=S;return Q})},"dijit/tree/TreeStoreModel":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang"],function(k,n,h,p){return h("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],
newItemIdAttr:"id",labelAttr:"",root:null,query:null,deferItemLoadingUntilExpand:!1,constructor:function(c){p.mixin(this,c);this.connects=[];c=this.store;if(!c.getFeatures()["dojo.data.api.Identity"])throw Error("dijit.tree.TreeStoreModel: store must support dojo.data.Identity");c.getFeatures()["dojo.data.api.Notification"]&&(this.connects=this.connects.concat([n.after(c,"onNew",p.hitch(this,"onNewItem"),!0),n.after(c,"onDelete",p.hitch(this,"onDeleteItem"),!0),n.after(c,"onSet",p.hitch(this,"onSetItem"),
!0)]))},destroy:function(){for(var c;c=this.connects.pop();)c.remove()},getRoot:function(c,g){this.root?c(this.root):this.store.fetch({query:this.query,onComplete:p.hitch(this,function(g){if(1!=g.length)throw Error("dijit.tree.TreeStoreModel: root query returned "+g.length+" items, but must return exactly one");this.root=g[0];c(this.root)}),onError:g})},mayHaveChildren:function(c){return k.some(this.childrenAttrs,function(g){return this.store.hasAttribute(c,g)},this)},getChildren:function(c,g,h){var n=
this.store;if(n.isItemLoaded(c)){for(var u=[],z=0;z<this.childrenAttrs.length;z++)var w=n.getValues(c,this.childrenAttrs[z]),u=u.concat(w);var x=0;this.deferItemLoadingUntilExpand||k.forEach(u,function(c){n.isItemLoaded(c)||x++});0==x?g(u):k.forEach(u,function(c,f){n.isItemLoaded(c)||n.loadItem({item:c,onItem:function(c){u[f]=c;0==--x&&g(u)},onError:h})})}else{var s=p.hitch(this,arguments.callee);n.loadItem({item:c,onItem:function(c){s(c,g,h)},onError:h})}},isItem:function(c){return this.store.isItem(c)},
fetchItemByIdentity:function(c){this.store.fetchItemByIdentity(c)},getIdentity:function(c){return this.store.getIdentity(c)},getLabel:function(c){return this.labelAttr?this.store.getValue(c,this.labelAttr):this.store.getLabel(c)},newItem:function(c,g,k){var h={parent:g,attribute:this.childrenAttrs[0]},n;this.newItemIdAttr&&c[this.newItemIdAttr]?this.fetchItemByIdentity({identity:c[this.newItemIdAttr],scope:this,onItem:function(p){p?this.pasteItem(p,null,g,!0,k):(n=this.store.newItem(c,h))&&void 0!=
k&&this.pasteItem(n,g,g,!1,k)}}):(n=this.store.newItem(c,h))&&void 0!=k&&this.pasteItem(n,g,g,!1,k)},pasteItem:function(c,g,h,n,u){var p=this.store,w=this.childrenAttrs[0];g&&k.forEach(this.childrenAttrs,function(s){if(p.containsValue(g,s,c)){if(!n){var r=k.filter(p.getValues(g,s),function(f){return f!=c});p.setValues(g,s,r)}w=s}});if(h)if("number"==typeof u){var x=p.getValues(h,w).slice();x.splice(u,0,c);p.setValues(h,w,x)}else p.setValues(h,w,p.getValues(h,w).concat(c))},onChange:function(){},onChildrenChange:function(){},
onDelete:function(){},onNewItem:function(c,g){g&&this.getChildren(g.item,p.hitch(this,function(c){this.onChildrenChange(g.item,c)}))},onDeleteItem:function(c){this.onDelete(c)},onSetItem:function(c,g){if(-1!=k.indexOf(this.childrenAttrs,g))this.getChildren(c,p.hitch(this,function(g){this.onChildrenChange(c,g)}));else this.onChange(c)}})})},"dijit/tree/ForestStoreModel":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","./TreeStoreModel"],function(k,n,
h,p,c){return n("dijit.tree.ForestStoreModel",c,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(c){this.root={store:this,root:!0,id:c.rootId,label:c.rootLabel,children:c.rootChildren}},mayHaveChildren:function(c){return c===this.root||this.inherited(arguments)},getChildren:function(c,k,h){c===this.root?this.root.children?k(this.root.children):this.store.fetch({query:this.query,onComplete:p.hitch(this,function(c){this.root.children=c;k(c)}),onError:h}):this.inherited(arguments)},
isItem:function(c){return c===this.root?!0:this.inherited(arguments)},fetchItemByIdentity:function(c){if(c.identity==this.root.id){var k=c.scope||h.global;c.onItem&&c.onItem.call(k,this.root)}else this.inherited(arguments)},getIdentity:function(c){return c===this.root?this.root.id:this.inherited(arguments)},getLabel:function(c){return c===this.root?this.root.label:this.inherited(arguments)},newItem:function(c,k,h){return k===this.root?(this.onNewRootItem(c),this.store.newItem(c)):this.inherited(arguments)},
onNewRootItem:function(){},pasteItem:function(c,k,h,n,p){if(k===this.root&&!n)this.onLeaveRoot(c);this.inherited(arguments,[c,k===this.root?null:k,h===this.root?null:h,n,p]);if(h===this.root)this.onAddToRoot(c)},onAddToRoot:function(c){console.log(this,": item ",c," added to root")},onLeaveRoot:function(c){console.log(this,": item ",c," removed from root")},_requeryTop:function(){var c=this.root.children||[];this.store.fetch({query:this.query,onComplete:p.hitch(this,function(h){this.root.children=
h;if(c.length!=h.length||k.some(c,function(c,g){return h[g]!=c}))this.onChildrenChange(this.root,h)})})},onNewItem:function(c,k){this._requeryTop();this.inherited(arguments)},onDeleteItem:function(c){-1!=k.indexOf(this.root.children,c)&&this._requeryTop();this.inherited(arguments)},onSetItem:function(c,k,h,n){this._requeryTop();this.inherited(arguments)}})})},"dijit/tree/_dndSelector":function(){define("dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/dom dojo/mouse dojo/on dojo/touch ../a11yclick ./_dndContainer".split(" "),
function(k,n,h,p,c,g,v,y,u,z,w){return h("dijit.tree._dndSelector",w,{constructor:function(){this.selection={};this.anchor=null;this.events.push(y(this.tree.domNode,u.press,c.hitch(this,"onMouseDown")),y(this.tree.domNode,u.release,c.hitch(this,"onMouseUp")),y(this.tree.domNode,u.move,c.hitch(this,"onMouseMove")),y(this.tree.domNode,z.press,c.hitch(this,"onClickPress")),y(this.tree.domNode,z.release,c.hitch(this,"onClickRelease")))},singular:!1,getSelectedTreeNodes:function(){var c=[],g=this.selection,
r;for(r in g)c.push(g[r]);return c},selectNone:function(){this.setSelection([]);return this},destroy:function(){this.inherited(arguments);this.selection=this.anchor=null},addTreeNode:function(c,g){this.setSelection(this.getSelectedTreeNodes().concat([c]));g&&(this.anchor=c);return c},removeTreeNode:function(c){var h=k.filter(this.getSelectedTreeNodes(),function(r){return!g.isDescendant(r.domNode,c.domNode)});this.setSelection(h);return c},isTreeNodeSelected:function(c){return c.id&&!!this.selection[c.id]},
setSelection:function(g){var h=this.getSelectedTreeNodes();k.forEach(this._setDifference(h,g),c.hitch(this,function(c){c.setSelected(!1);this.anchor==c&&delete this.anchor;delete this.selection[c.id]}));k.forEach(this._setDifference(g,h),c.hitch(this,function(c){c.setSelected(!0);this.selection[c.id]=c}));this._updateSelectionProperties()},_setDifference:function(c,g){k.forEach(g,function(c){c.__exclude__=!0});var h=k.filter(c,function(c){return!c.__exclude__});k.forEach(g,function(c){delete c.__exclude__});
return h},_updateSelectionProperties:function(){var c=this.getSelectedTreeNodes(),g=[],h=[],f=[];k.forEach(c,function(c){var m=c.getTreePath(),t=this.tree.model;h.push(c);g.push(m);m=k.map(m,function(e){return t.getIdentity(e)},this);f.push(m.join("/"))},this);c=k.map(h,function(c){return c.item});this.tree._set("paths",g);this.tree._set("path",g[0]||[]);this.tree._set("selectedNodes",h);this.tree._set("selectedNode",h[0]||null);this.tree._set("selectedItems",c);this.tree._set("selectedItem",c[0]||
null)},onClickPress:function(c){if(!this.current||!this.current.isExpandable||!this.tree.isExpandoNode(c.target,this.current)){v.isLeft(c)&&c.preventDefault();var g="keydown"==c.type?this.tree.focusedChild:this.current;if(g){var h=n.isCopyKey(c),f=g.id;!this.singular&&!c.shiftKey&&this.selection[f]?this._doDeselect=!0:(this._doDeselect=!1,this.userSelect(g,h,c.shiftKey))}}},onClickRelease:function(c){this._doDeselect&&(this._doDeselect=!1,this.userSelect("keyup"==c.type?this.tree.focusedChild:this.current,
n.isCopyKey(c),c.shiftKey))},onMouseMove:function(){this._doDeselect=!1},onMouseDown:function(){},onMouseUp:function(){},_compareNodes:function(c,g){if(c===g)return 0;if("sourceIndex"in document.documentElement)return c.sourceIndex-g.sourceIndex;if("compareDocumentPosition"in document.documentElement)return c.compareDocumentPosition(g)&2?1:-1;if(document.createRange){var h=doc.createRange();h.setStartBefore(c);var f=doc.createRange();f.setStartBefore(g);return h.compareBoundaryPoints(h.END_TO_END,
f)}throw Error("dijit.tree._compareNodes don't know how to compare two different nodes in this browser");},userSelect:function(c,g,h){if(this.singular)this.anchor==c&&g?this.selectNone():(this.setSelection([c]),this.anchor=c);else if(h&&this.anchor){g=this._compareNodes(this.anchor.rowNode,c.rowNode);h=this.anchor;0>g?g=h:(g=c,c=h);for(h=[];g!=c;)h.push(g),g=this.tree._getNext(g);h.push(c);this.setSelection(h)}else this.selection[c.id]&&g?this.removeTreeNode(c):g?this.addTreeNode(c,!0):(this.setSelection([c]),
this.anchor=c)},getItem:function(c){return{data:this.selection[c],type:["treeNode"]}},forInSelectedItems:function(c,g){g=g||p.global;for(var h in this.selection)c.call(g,this.getItem(h),h,this)}})})},"dijit/tree/_dndContainer":function(){define("dojo/aspect dojo/_base/declare dojo/dom-class dojo/_base/lang dojo/on dojo/touch".split(" "),function(k,n,h,p,c,g){return n("dijit.tree._dndContainer",null,{constructor:function(n,y){this.tree=n;this.node=n.domNode;p.mixin(this,y);this.containerState="";h.add(this.node,
"dojoDndContainer");this.events=[c(this.node,g.enter,p.hitch(this,"onOverEvent")),c(this.node,g.leave,p.hitch(this,"onOutEvent")),k.after(this.tree,"_onNodeMouseEnter",p.hitch(this,"onMouseOver"),!0),k.after(this.tree,"_onNodeMouseLeave",p.hitch(this,"onMouseOut"),!0),c(this.node,"dragstart, selectstart",function(c){c.preventDefault()})]},destroy:function(){for(var c;c=this.events.pop();)c.remove();this.node=this.parent=null},onMouseOver:function(c){this.current=c},onMouseOut:function(){this.current=
null},_changeState:function(c,g){var k="dojoDnd"+c,n=c.toLowerCase()+"State";h.replace(this.node,k+g,k+this[n]);this[n]=g},_addItemClass:function(c,g){h.add(c,"dojoDndItem"+g)},_removeItemClass:function(c,g){h.remove(c,"dojoDndItem"+g)},onOverEvent:function(){this._changeState("Container","Over")},onOutEvent:function(){this._changeState("Container","")}})})},"dijit/tree/ObjectStoreModel":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/when"],function(k,
n,h,p,c){return h("dijit.tree.ObjectStoreModel",null,{store:null,labelAttr:"name",labelType:"text",root:null,query:null,constructor:function(c){p.mixin(this,c);this.childrenCache={}},destroy:function(){for(var c in this.childrenCache)this.childrenCache[c].close&&this.childrenCache[c].close()},getRoot:function(g,h){if(this.root)g(this.root);else{var k;c(k=this.store.query(this.query),p.hitch(this,function(c){if(1!=c.length)throw Error("dijit.tree.ObjectStoreModel: root query returned "+c.length+" items, but must return exactly one");
this.root=c[0];g(this.root);k.observe&&k.observe(p.hitch(this,function(c){this.onChange(c)}),!0)}),h)}},mayHaveChildren:function(){return!0},getChildren:function(g,h,k){var n=this.store.getIdentity(g);if(this.childrenCache[n])c(this.childrenCache[n],h,k);else{var z=this.childrenCache[n]=this.store.getChildren(g);c(z,h,k);z.observe&&z.observe(p.hitch(this,function(h,k,n){this.onChange(h);k!=n&&c(z,p.hitch(this,"onChildrenChange",g))}),!0)}},isItem:function(){return!0},getIdentity:function(c){return this.store.getIdentity(c)},
getLabel:function(c){return c[this.labelAttr]},newItem:function(c,h,k,n){return this.store.put(c,{parent:h,before:n})},pasteItem:function(c,h,n,p,z,w){p||(p=[].concat(this.childrenCache[this.getIdentity(h)]),z=k.indexOf(p,c),p.splice(z,1),this.onChildrenChange(h,p));return this.store.put(c,{overwrite:!0,parent:n,before:w})},onChange:function(){},onChildrenChange:function(){},onDelete:function(){}})})},"cloudOE/panes/AppDetailsLogs":function(){define("dojo/_base/declare dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/layout/ContentPane ../ServerConnection ../RuntimeManager ./_NavigatorPane dojo/dom-construct dojo/dom-class dojo/i18n!../nls/resources dojo/text!./templates/AppDetailsLogs.html".split(" "),
function(k,n,h,p,c,g,v,y,u,z,w){return k([p,n,h,v],{templateString:w,baseClass:"cloudOELogs",resources:z,promise:null,postCreate:function(){this.inherited(arguments);var c=g.createStandby(this.focusNode);logView.getDustView(this.spaceGuid,this.appGuid,function(h){h&&(y.place(h,this.focusNode,"only"),u.remove(this.focusNode,"cloudOEHide"),logView.setup(),logView.displayCFRecentLogs(this.appGuid),promise=logView.displayCFTailLogs(this.appGuid));g.destroyStandby(c)}.bind(this),function(h,k){g.destroyStandby(c);
g.showErrorMessage(z.cannotRetrieveInfo,k)})},_setContextAttr:function(c){this.inherited(arguments)},destroy:function(){promise.then(function(c){c&&c.disconnect(!0)})}})})},"cloudOE/panes/AppDetailsRuntimeBar":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/dom-attr dojox/html/entities dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/on dijit/layout/ContentPane ../Utils ../utils/apps ./_NavigatorPane ./_Details ../widgets/TileListItem ../widgets/TileListItemHexagon dojo/i18n!../nls/resources dojo/text!./templates/AppDetailsRuntimeBar.html ../widgets/Menu".split(" "),
function(k,n,h,p,c,g,v,y,u,z,w,x,s,r,f,B,m){return k([u,g,v,x],{templateString:m,baseClass:"cloudOEAppDetailsRuntimeBar",runtimeName:"",icon:"",_blankImage:z._blankImage,paneId:s.PANE_USAGE,constructor:function(c){this.appData=c.appData||void 0;this.context=c;this.isDeveloper=!1},resources:B,dirty:!1,postCreate:function(){this.inherited(arguments);this._setContextAttr(this.context)},_setImageAttr:function(c){this._set("image",c);"string"===typeof c?p.set(this.imgNode,"src",c):("hexagon"===c.type||
"circle"===c.type)&&this._setShapedIcon(c)},_setRuntimeNameAttr:{node:"nameNode",type:"innerHTML"},_setIconAttr:function(c){c={image:c.icon,type:"circle",badgeTag:c.badgeTag};"string"===typeof c?p.set(this.imgNode,"src",c):("hexagon"===c.type||"circle"===c.type)&&this._setShapedIcon(c)},_setShapedIcon:function(c){c=this.iconWidget=new ("hexagon"===c.type?f:r)({data:{name:"",description:"",smallIcon:c.image,badgeTag:c.badgeTag,additionalCSSClasses:c.additionalCSSClasses},iconType:"small",tileWidth:32});
var e=h.create("ul",null,this.imgNode,"replace");c.placeAt(e);this.imgNode=e},_setContextAttr:function(c){this.inherited(arguments);c&&c.appData&&(this.isDeveloper=c.isDeveloper,this.appData=c.appData,this.paneId=c.paneId||s.PANE_USAGE,this._populateGeneralInfo(c))},_populateGeneralInfo:function(f){if(!this._destroyed&&(this.getActionBarContent(),f.runtime&&!this._destroyed))switch(this.set("icon",{icon:f.runtime.smallIcon,badgeTag:f.runtime.badgeTag}),this.context.paneId){case s.PANE_USAGE:this.set("runtimeName",
c.encode(f.runtime.name));break;case s.PANE_FILELOGS:this.set("runtimeName",B.files);break;case s.PANE_LOGS:this.set("runtimeName",B.logs);break;case s.PANE_ENV_VARS:this.set("runtimeName",B.environmentVariables);break;case s.PANE_DEPLOYMENT:this.set("runtimeName",B.appDeployment)}},destroy:function(){this.inherited(arguments)}})})},"cloudOE/panes/AppDetailsDeploy":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-style dojo/dom-construct dojo/topic dojo/on dojo/promise/all dojo/query dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/Tooltip ../ServerConnection ../RuntimeManager ../Utils ../utils/clipBoard dijit/layout/ContentPane dojo/store/Memory dojo/store/Observable gridx/modules/Edit gridx/modules/select/Cell gridx/modules/select/Column ./_NavigatorPane dijit/form/ValidationTextBox dojox/html/entities ../actions/ChangeAppStateAction dojo/i18n!../nls/resources dojo/text!./templates/AppDetailsDeploy.html dijit/layout/StackContainer".split(" "),
function(k,n,h,p,c,g,v,y,u,z,w,x,s,r,f,B,m,t,e,b,C,d,l,q,A,a,H,M){return k([m,z,w,l],{templateString:M,baseClass:"cloudOEDeployment",resources:H,GRID_AUTOHEIGHT_ROW_CAP:7,constructor:function(a){this.title=H.appDeployment;this.isDeveloper=!1;this.spaceGuid=a.appData?a.appData.entity.space.metadata.guid:void 0;this.appData=a.appData;this.orgGuid=a.orgGuid;this.templateId=a.templateId},_setContextAttr:function(a){this.inherited(arguments);a&&(this.templateId=a.templateId)},postCreate:function(){this.inherited(arguments);
s.getRepoGORPIFrame(this.appData.guid).then(function(a){var b=a.baseUrl,d=this.deploymentFrame;if(!d.src){var c=function(a){a.source===d.contentWindow&&a.data&&(a=JSON.parse(a.data),"deploy"===a.type&&a.data.viewLogs&&(a=document.createElement("a"),a.href=window.location.href,a.hash=r._buildRouteStr("resources",{appGuid:this.appGuid,appName:this.appData.name,orgGuid:this.orgGuid,spaceGuid:this.spaceGuid,detailType:"runtime",paneId:"5"}),window.location=a.href))}.bind(this);window.addEventListener("message",
c)}var b=b+"/code/cfui/createProject/createProject-deploy.html#",c=this.appData.name||this.appData.entity.name,e=this.appData.entity.routes,f=(e=e?e[0]:null)?e.entity.host:c,e={};e.org={Guid:this.orgGuid};e.space={Guid:this.spaceGuid};e.region={Url:a.params.apiUrl,Id:a.params.regionId};e.projectName=this.appData.name;e.appName=c;e.host=f;e.appGuid=this.appGuid;a.params.templateUrl&&this.templateId&&(c=document.createElement("a"),c.setAttribute("href",a.params.templateUrl),c.protocol=window.location.protocol,
c.host=window.location.host,e.templateUrl=encodeURIComponent(c.href));d.style.display="block";b+=encodeURIComponent(JSON.stringify(e));d.src=b}.bind(this))},destroy:function(){this.inherited(arguments)}})})},"cloudOE/panes/ServiceInstanceDetails":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/aspect dojo/on dojo/query dojox/html/entities dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/layout/ContentPane dijit/registry ./_Details ./ServiceCredentialsPane ./ServiceAccessAuthPane ./ServicePlanPane ./ServiceDetailsPane ../widgets/NavigationTree ../RuntimeManager ../utils/services ../utils/_ServiceHelper ../Utils ../ServerConnection dojo/i18n!../nls/resources dojo/text!./templates/ServiceInstanceDetails.html ../widgets/DockedActionBarSelector".split(" "),
function(k,n,h,p,c,g,v,y,u,z,w,x,s,r,f,B,m,t,e,b,C,d,l,q,A){return k([w,u,z,s,C],{templateString:A,baseClass:"cloudOEServiceInstanceDetails",resources:q,PANE_CONFIG:"0",PANE_CREDENTIALS:"1",PANE_ACCESS_AUTH:"2",PANE_PLAN:"3",NAV_CONFIG:"nav_view_in",NAV_CREDENTIALS:"nav_credentials",NAV_ACCESS_AUTH:"nav_access_auth",NAV_PLAN:"nav_plan",constructor:function(a){this.set("context",a)},postCreate:function(){this.inherited(arguments);this.own(g(this.dockedNavArea,"openedChanged",function(a){a?h.add(this.servicePane,
"cloudOEDockedOpenNav"):h.remove(this.servicePane,"cloudOEDockedOpenNav")}.bind(this)));this.own(g(this.dockedNavArea,"backClick",function(a){this._onSpaceClick()}.bind(this)));var a=this;this._navTreeLoaded.then(function(b){var d=v(".enable-access-auth",b.domNode).parent();d&&d.forEach(function(a){h.add(a,"dijitHidden")});l.getPublicInfo().then(function(d){if(d.isPlanChangeEnabled){var c=a.serviceData.entity.service_plan.entity.service;c&&c.entity.plan_updateable&&v(".nav_tree_plan",b.domNode).removeClass("dijitHidden")}d.enableServiceAccessAuth&&
(d=v(".enable-access-auth",b.domNode).parent())&&d.forEach(function(a){h.remove(a,"dijitHidden")})}.bind(this));if(d=v(".enable-use-service",b.domNode).parent()){d.forEach(function(a){h.add(a,"dijitHidden")});var c=!1;if(a.detailsPane.serviceData&&a.detailsPane.serviceData.entity.service_plan&&a.detailsPane.serviceData.entity.service_plan.entity.service){var e=a.detailsPane.serviceData.entity.service_plan.entity.service;e.entity.extra&&(c=JSON.parse(e.entity.extra).serviceKeysSupported)}c&&l.enableUseService().then(function(a){a&&
(d.forEach(function(a){h.remove(a,"dijitHidden")}),this._manageTooltip(this.NAV_CREDENTIALS,b))}.bind(this))}this._manageTooltip("nav_applist",b)}.bind(this))},_manageTooltip:function(a,b){var d=v('[ref\x3d"#'+a+'"]',b.domNode);d&&d[0]&&(d=v(".title",d[0]))&&d[0]&&(d[0].offsetWidth<d[0].scrollWidth||b.updateNodeTooltip(a,null))},buildRendering:function(){this.inherited(arguments);var a=this.credentialsPane=new r(this.context);this.servicePane.appendChild(a.domNode);a=this.accessAuthPane=new f(this.context);
this.servicePane.appendChild(a.domNode);a=this.planPane=new B(this.context);this.servicePane.appendChild(a.domNode);var b=this.detailsPane=new m(this.context);this.servicePane.appendChild(b.domNode);this.own(c.after(b,"_populateGeneralInfo",function(a){this.serviceData=b.serviceData;this._setupNavTree(b.appData,b.serviceBindings);var d=this.detailsPane.getActionBarContent();p.place(d,this.actionBarContentArea);x.findWidgets(d).forEach(function(a){!a._started&&(!a._destroyed&&n.isFunction(a.startup))&&
(a.startup(),a._started=!0)});return a}.bind(this)))},handleLogin:function(){var a=this.detailsPane,d=e.createStandby(this.navigationTreeNode,{color:e.standbyColors.overlay_dark});a._loginDeferred.then(function(){this._subscribeCloudOETopic("cloudOE/changeOrg");this._subscribeCloudOETopic("cloudOE/updateServiceInstance");var c=a.serviceData;if(c){var f=b.isEmbeddableFullWidth(c);f&&this.dockedNavArea.set("opened",!f);if((f=b.isDrillDown(c))&&"drilldown"===f)f=b.calculateDashboardUrl(c.entity,c.entity.service_bindings),
c={orgGuid:this.context.orgGuid,appGuid:this.context.appGuid,spaceGuid:this.context.spaceGuid,serviceGuid:c.metadata.guid},this.set("context",c),this.drilldownService(f,c,null,window.location.origin)}e.destroyStandby(d)}.bind(this))},_setupNavTree:function(a,b){var c=this.detailsPane,e=c.serviceData.entity.space.entity.name;this._serviceName=c.serviceData.entity.name;if(a)n.mixin(a.entity.space.entity,{name:e}),this.inherited(arguments);else{var f=[];f.push({id:"nav_servicename",name:y.encode(this._serviceName),
rowClass:"cloudOENavigationCategoryMain disable disable-select",hide:!1,parent:t.ROOT_ID});f.push({id:this.NAV_CONFIG,name:q.navViewServiceIn,rowClass:"selectable",hide:!1,parent:"nav_servicename"});f.push({id:this.NAV_CREDENTIALS,name:q.credentials,title:q.credentials,rowClass:"selectable enable-use-service",hide:!1,parent:"nav_servicename"});f.push({id:this.NAV_ACCESS_AUTH,name:q.serviceAccessAuth,title:q.serviceAccessAuth,rowClass:"selectable enable-access-auth",hide:!1,parent:"nav_servicename"});
f.push({id:this.NAV_PLAN,name:q.plan,rowClass:"selectable nav_tree_plan dijitHidden",hide:!1,parent:"nav_servicename"});f.push({id:"nav_applist",name:q.appsUsingServiceNavLabel,title:q.appsUsingServiceNavLabel,rowClass:"cloudOENavigationCategoryMain disable disable-select",hide:!1,parent:t.ROOT_ID});b&&0<b.length&&(b.sort(function(a,b){return d.strCompareIgnoreCase(a.entity.app.entity.name,b.entity.app.entity.name)}),b.forEach(function(a){f.push({id:a.entity.app_guid,name:a.entity.app.entity.name,
rowClass:"selectable",iconClass:"i-nav-services-grey",iconHoverClass:"i-nav-services-white-16",type:"app",parent:"nav_applist"})}.bind(this)));this._createTree(f);c=n.replace(q.backToDashboardSpace,[y.encode(e)]);this.dockedNavArea.set("backLabel",c)}},_placeNavTree:function(a){var b=this.detailsPane.inApp,d;switch(this.paneId){case "0":d=this.NAV_CONFIG;break;case "1":d=this.NAV_CREDENTIALS;break;case "2":d=this.NAV_ACCESS_AUTH;break;case "3":d=this.NAV_PLAN;break;default:d=this.NAV_CONFIG}this.navigationTree.select(b?
this.context.serviceGuid:d,!0);a.placeAt(this.navigationTreeNode,"only")},_onNavTreeClick:function(a){"nav_servicename"===a.id||"nav_applist"===a.id||(a.id!==s.NAV_OVERVIEW&&a.id!==s.NAV_RUNTIME&&a.id!==s.NAV_FILELOGS&&a.id!==s.NAV_ENV_VARS&&a.id!==s.NAV_LOGS?this._openAppOrService(a):this.inherited(arguments))},_openAppOrService:function(a){var b=this.getParentNavigator();if(b){var d=this.orgGuid||this.context.orgGuid||this.detailsPane.serviceData.entity.space.entity.organization_guid,c=this.spaceGuid||
this.context.spaceGuid;h.remove(this.servicePane,"opened_"+this.NAV_CREDENTIALS);h.remove(this.servicePane,"opened_"+this.NAV_ACCESS_AUTH);a.id===this.NAV_CONFIG?(h.add(this.credentialsPane.domNode,"dijitHidden"),h.add(this.accessAuthPane.domNode,"dijitHidden"),h.add(this.planPane.domNode,"dijitHidden"),h.remove(this.detailsPane.domNode,"dijitHidden"),b.addRoute({serviceGuid:this.serviceGuid,orgGuid:d,spaceGuid:c,paneId:this.PANE_CONFIG})):a.id===this.NAV_CREDENTIALS?(h.add(this.servicePane,"opened_"+
this.NAV_CREDENTIALS),h.remove(this.credentialsPane.domNode,"dijitHidden"),h.add(this.accessAuthPane.domNode,"dijitHidden"),h.add(this.planPane.domNode,"dijitHidden"),h.add(this.detailsPane.domNode,"dijitHidden"),b.addRoute({serviceGuid:this.serviceGuid,orgGuid:d,spaceGuid:c,paneId:this.PANE_CREDENTIALS}),this.credentialsPane.refreshList()):a.id===this.NAV_ACCESS_AUTH?(h.add(this.servicePane,"opened_"+this.NAV_ACCESS_AUTH),h.remove(this.accessAuthPane.domNode,"dijitHidden"),h.add(this.detailsPane.domNode,
"dijitHidden"),h.add(this.credentialsPane.domNode,"dijitHidden"),h.add(this.planPane.domNode,"dijitHidden"),b.addRoute({serviceGuid:this.serviceGuid,serviceInstanceName:this.serviceData.entity.name,orgGuid:d,spaceGuid:c,paneId:this.PANE_ACCESS_AUTH}),this.accessAuthPane.refreshList(this.detailsPane.serviceData)):a.id===this.NAV_PLAN?(h.remove(this.planPane.domNode,"dijitHidden"),h.add(this.detailsPane.domNode,"dijitHidden"),h.add(this.credentialsPane.domNode,"dijitHidden"),h.add(this.accessAuthPane.domNode,
"dijitHidden"),b.addRoute({serviceGuid:this.serviceGuid,serviceData:this.detailsPane.serviceData,orgGuid:d,spaceGuid:c,paneId:this.PANE_PLAN}),this.planPane.refreshPane(this.detailsPane.serviceData)):"app"===a.type?b.set("context",{appGuid:a.id,appName:a.name,orgGuid:d,spaceGuid:c}):"service"===a.type&&a.id!==this.guid&&b.set("context",{appGuid:this.context.appGuid,serviceGuid:a.id,spaceGuid:c})}},_cloudOETopicHandler:function(a,b){switch(a){case "cloudOE/changeOrg":this._onOrgChange();break;case "cloudOE/updateServiceInstance":var d=
b.settings?b.settings.name:null;this.serviceGuid===b.serviceInstanceGuid&&(d&&this._serviceName!=d)&&(this._serviceName=d,this.navigationTree.updateNodeName("nav_servicename",this._serviceName));break;default:this.inherited(arguments)}}})})},"cloudOE/panes/ServiceCredentialsPane":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojox/html/entities ./_BaseServiceDetailsPane ../widgets/ServiceCredentialSection ../ServerConnection ../RuntimeManager ../utils/services ../widgets/CreateCredentialsDialog dojo/i18n!../nls/resources dojo/text!./templates/ServiceCredentialsPane.html ../widgets/MessageArea".split(" "),
function(k,n,h,p,c,g,v,y,u,z,w,x,s,r){return k([g],{templateString:s,baseClass:"cloudOEServiceCredentialsPane",postCreate:function(){this.inherited(arguments)},_refreshApp:function(c,g){this.inherited(arguments);this.refreshList()},_onAddCredentialClick:function(){if(!u.handleSelectedPanelDirty()){var c=new w({usedNames:this.credentialsNames,createCredentials:this._createCredentials.bind(this),defaultName:this._getDefaultName()});h.add(c.domNode,"cloudOESimpleDialog bluemixDialog hasTitle titleAutoWidth");
c.closeText.textContent=String.fromCharCode(215);c.show()}},_createCredentials:function(f){var g=this._createCredentialsListStandby();y.createServiceKey({service_instance_guid:this.context.serviceGuid,name:f}).then(function(c){this._destroyed||(this.noItemsSection.hide(),this._createServiceCredentialSection(c))}.bind(this),function(m){var g=n.replace(x.addCredentialsError,[c.encode(f)]);u.showErrorMessage(g,m,x.addCredential)}).always(function(){this._destroyCredentialsListStandby(g)}.bind(this))},
_showNoItemsSection:function(c){2===c?this.noItemsSection.show(x.noCredentialsForServiceError,r.types.ERROR):1===c?this.noItemsSection.show(x.noCredentialsForService,r.types.INFORMATION):this.noItemsSection.hide()},refreshList:function(){var c=this._createCredentialsListStandby();this.serviceKeysList&&p.empty(this.serviceKeysList);y.getServiceKeys(this.context.serviceGuid).then(function(c){this.credentialsNames=[];c&&c.resources&&0<c.resources.length?(this._showNoItemsSection(0),c.resources.forEach(this._createServiceCredentialSection.bind(this))):
this._showNoItemsSection(1)}.bind(this),function(c){this._showNoItemsSection(2)}.bind(this)).always(function(){this._destroyCredentialsListStandby(c)}.bind(this))},_createServiceCredentialSection:function(f){if(!z.isS2SServiceKey(f.entity.name)){var g=new v({credentialName:f.entity.name,credentials:{credentials:f.entity.credentials},actionFunction:function(){u.showConfirmationDialog("\x3cb\x3e"+x.deleteCredentialQuestion+"\x3c/b\x3e\x3cp\x3e"+x.deleteCredentialDescription+"\x3c/p\x3e",null,null,x.deleteCredential,
x.deleteButton).then(function(m){m&&y.deleteServiceKey(f.metadata.guid).then(function(c){this._destroyed||(c=this.credentialsNames.indexOf(f.entity.name),0<=c&&this.credentialsNames.splice(c,1),p.destroy(g.domNode),0==this.serviceKeysList.childNodes.length&&this._showNoItemsSection(1))}.bind(this),function(m){console.log(m);var e=n.replace(x.deleteCredentialsForServiceError,[c.encode(f.entity.name)]);u.showErrorMessage(e,m,x.deleteCredential)})}.bind(this))}.bind(this)});p.place(g.domNode,this.serviceKeysList);
this.credentialsNames.push(f.entity.name)}},_createCredentialsListStandby:function(){var c=u.createStandby(this.serviceKeysList);this.addCredentialButton.setAttribute("disabled",!0);return c},_destroyCredentialsListStandby:function(c){u.destroyStandby(c);this.addCredentialButton&&this.addCredentialButton.removeAttribute("disabled")},_getDefaultName:function(){for(var c=[],g=0;g<this.credentialsNames.length;g++)c[g]=this.credentialsNames[g].toUpperCase();for(g=c.length+1;9999999>=g;g++){var m=n.replace(x.credentialsDefaultName,
[g]),h=m.toUpperCase();if(0>c.indexOf(h))return m}return""}})})},"cloudOE/widgets/ServiceCredentialSection":function(){define("dojo/_base/declare dojo/dom-class dojo/sniff dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ../Utils dojo/i18n!../nls/resources dojo/text!./templates/ServiceCredentialSection.html".split(" "),function(k,n,h,p,c,g,v,y,u){return k([p,c,g],{templateString:u,_blankImage:v._blankImage,baseClass:"serviceCredentialSection",resources:y,contentWidget:null,constructor:function(c){c&&
(this._credentialName=c.credentialName,this._credentialContent=c.credentials,this._serviceAction=c.actionFunction)},postMixInProperties:function(){this.inherited(arguments)},postCreate:function(){h("chrome")&&n.add(this.domNode,"hasChrome");this.credentialName.innerHTML=this._credentialName;this._loadCredentials()},_onClickServiceActionButton:function(c){c.stopPropagation();this._serviceAction&&this._serviceAction()},_loadCredentials:function(){this.serviceCredentialDocInfo.innerHTML=JSON.stringify(this._credentialContent,
null,"  ")}})})},"cloudOE/widgets/CreateCredentialsDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/on dojox/html/entities dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ./InfoDialog ../Utils dojo/i18n!../nls/resources dojo/text!./templates/CreateCredentialsDialogContent.html dijit/form/Form dijit/form/Button dijit/form/ValidationTextBox".split(" "),function(k,n,h,p,c,g,v,y,u,z,w,x){return k([u],{contentTemplateString:x,baseClass:"cloudOECreateCredentialsDialog",
resources:w,createCredentialsTextbox:null,createCredentialsForm:null,destroyOnHide:!0,postMixInProperties:function(){this.inherited(arguments);this.showCancel=!0;this.title=this.resources.addCredential;this.usedNames=this.usedNames||[];var c=this,n=this.contentWidget=new (k([g,v,y],{templateString:this.contentTemplateString,baseClass:"cloudOECreateCredentialsDialogContentArea",resources:this.resources,_onOKClick:function(f){c.contentWidget.createCredentialsTextbox.validate()&&(this.createCredentials(this.getCredentialsName()),
c.hide());f.preventDefault()}.bind(this),_onCancelClick:function(){c.hide()}}));h.toggle(n.createCredentialsForm.domNode,"showCancelBtn",this.showCancel);n.startup();this.content=n;this.content.okButton.set("disabled","true");var f=this.contentWidget.createCredentialsTextbox;f.set("constraints",{inputTextbox:f,usedValues:this.usedNames,inputType:"credentials"});this.defaultName&&f.set("value",this.defaultName);f.validator=z.orgSpaceNameValidator;this.own(p(f,"change",function(){var c=f.isValid();
this.contentWidget.okButton.set("disabled",!c)}.bind(this)));this.buttonCancel=w.close},getCredentialsName:function(){return this.contentWidget.createCredentialsTextbox.get("value")},hide:function(){var c=this.inherited(arguments);this.destroyOnHide&&c.then(this.destroyRecursive.bind(this))},destroy:function(){this.inherited(arguments);this.destroyRecursive()}})})},"cloudOE/panes/ServiceAccessAuthPane":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/on dojo/promise/all dojo/query dojox/html/entities ./_BaseServiceDetailsPane ../ServerConnection ../RuntimeManager ../utils/services ../utils/_ServiceHelper dojo/i18n!../nls/resources dojo/text!./templates/ServiceAccessAuthPane.html ../widgets/MessageArea".split(" "),
function(k,n,h,p,c,g,v,y,u,z,w,x,s,r,f,B){return k([u,s],{templateString:f,baseClass:"cloudOEServiceAccessAuthPane",postCreate:function(){this.inherited(arguments);this.numServiceBindings=0;this.noInstancesMessage.textContent=n.replace(r.noAuthServices,[y.encode("")])},_refreshApp:function(c,f){this.inherited(arguments);this.refreshList()},refreshList:function(c){if(c){this.serviceData=c;c=w.createStandby(this._getStandbyDomNode());this.noInstancesMessage.innerHTML=n.replace(r.noAuthServices,[y.encode(this.serviceData.entity.name)]);
for(var f=v(".instanceListRow",this.instanceListTable),e=0;e<f.length;e++)p.destroy(f[e]);h.remove(this.noInstancesMessageBox,"dijitHidden");this._findServiceKeysForServiceInstances(c)}},_findServiceKeysForServiceInstances:function(c){var f=this.serviceData.entity.space_guid,e=this.serviceData.metadata.guid,b=this.serviceData.entity.name;z.getServiceInstances(f).then(function(g){var d=[],l=g.resources;l&&0<l.length&&l.forEach(function(c){var m=c.entity.name,a=c.metadata.guid;(c=c.entity.service_keys)&&
c.length&&c.forEach(function(c){var g=c.entity.name;if(e===a){if((g=x.extractS2SInstanceGuid(g))&&a!==g){var h=this._getInstanceFromGuid(l,g);h?(g={boundInstanceName:h.entity.name,boundInstanceGuid:h.metadata.guid,boundKey:c.metadata.guid,sourceInstanceName:h.entity.name,targetInstanceName:b},d.push(g)):z.getServiceInstance(g).then(function(a){if(a&&a.entity)var d={boundInstanceName:a.entity.name,boundInstanceGuid:a.metadata.guid,boundKey:c.metadata.guid,sourceInstanceName:a.entity.name,targetInstanceName:b,
diffSpace:f!==a.entity.space_guid};this._handleEachBinding(d,null)}.bind(this),function(a){})}}else x.isS2SServiceKey(g,e)&&(g={boundInstanceName:m,boundInstanceGuid:a,boundKey:c.metadata.guid,sourceInstanceName:b,targetInstanceName:m},d.push(g))}.bind(this))}.bind(this));0<d.length?this._showInstanceTable(d,c):w.destroyStandby(c)}.bind(this),function(b){w.handleError(b,r.cannotRetrieveServiceBindings,c);w.destroyStandby(c)})},_getInstanceFromGuid:function(c,f){var e;c.some(function(b){if(b.metadata.guid===
f)return e=b,!0});return e},_showInstanceTable:function(c,f){c.forEach(function(c,b){this._handleEachBinding(c,b,f)}.bind(this));w.destroyStandby(f)},_handleEachBinding:function(f,g){var e=f.boundInstanceName,b=f.boundInstanceGuid,k=f.boundKey,d=f.sourceInstanceName,l=f.targetInstanceName,q=f.diffSpace;this.numServiceBindings+=1;h.add(this.noInstancesMessageBox,"dijitHidden");var A=this._createInstanceRow(e,b,q),e=v("input",A);1==e.length&&this.own(c(e[0],"click",function(a){a=n.replace(r.revokeAuthDesc,
[y.encode(d),y.encode(l)]);w.showConfirmationDialog(a,null,null,r.revokeAuth,r.confirm).then(function(a){if(a){var b=w.createStandby(A);z.deleteServiceKey(k).then(function(a){this.numServiceBindings-=1;p.destroy(A);0===this.numServiceBindings&&h.remove(this.noInstancesMessageBox,"dijitHidden");w.destroyStandby(b)}.bind(this),function(a){console.log(a);var c=n.replace(r.cannotRevokeServiceInstance,[y.encode(d),y.encode(l)]);w.showErrorMessage(c,a,r.revokeAuth);w.destroyStandby(b)})}}.bind(this))}.bind(this)))},
_createInstanceRow:function(f,g,e){var b=p.create("tr",{"class":"instanceListRow"},this.instanceListTable),h=p.create("td",{"class":"firstCol"},b);f=p.create("a",{"class":"firstColLink",innerHTML:f},h);h=p.create("td",{"class":"thirdCol"},b);p.create("input",{type:"button","class":"btn btn-primary cloudOETextWithEllipsis",value:r.revoke},h);this.own(c(f,"click",function(b){e||this._handleServiceLink(g)}.bind(this)));return b},_handleServiceLink:function(c){var f=this.getParentNavigator(),e={serviceGuid:c,
orgGuid:this.serviceData.entity.space.entity.organization_guid,spaceGuid:this.serviceData.entity.space.metadata.guid},b=w.createStandby(this.focusNode);z.getServiceInstance(c).then(function(g){w.destroyStandby(b);var d=function(b){if(f)if(b){if(g){var c=x.calculateDashboardUrl(g.entity,g.entity.service_bindings);"launch"===b?this.launchService(c,e):this.drilldownService(c,e)}}else f.set("context",e)}.bind(this);g.entity.service_plan&&g.entity.service_plan.entity&&g.entity.service_plan.entity.service?
this.openServiceFromOffering(this.focusNode,g.entity.service_plan.entity.service.metadata.guid,d):this._openServiceFromInstance(this.focusNode,c,d)}.bind(this),function(c){w.handleError(c,r.cannotRetrieveInfo,b);f.set("context",e)}.bind(this))}})})},"cloudOE/panes/ServicePlanPane":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/dom-style dojo/query dojo/Deferred dojo/on dojo/topic dojo/when dojox/html/entities ./_BaseServiceDetailsPane ../ServerConnection ../RuntimeManager ../Utils ../utils/plans dojo/i18n!../nls/resources dojo/text!./templates/ServicePlanPane.html ../widgets/MessageDialog ../widgets/ServicePlanTieredPricingTable".split(" "),
function(k,n,h,p,c,g,v,y,u,z,w,x,s,r,f,B,m,t,e,b){return k([x],{templateString:t,baseClass:"cloudOEServicePlanPane",postCreate:function(){this.inherited(arguments);this.loaded=!1;this.showCancel=!0;c.set(this.resetButton,"display",this.showCancel?"":"none");this.okButton.setAttribute("disabled",!0);this.resetButton.setAttribute("disabled",!0);h.add(this.nextStepsSection,"dijitHidden");s.getPublicInfo().then(function(b){b.planChangeLearnMoreURL&&b.docURL?this.learnMoreURL=b.docURL+b.planChangeLearnMoreURL:
b.docURL&&(this.learnMoreURL=b.docURL);b.enableTieredPricing&&(this.enableTieredPricing=b.enableTieredPricing)}.bind(this))},_setContextAttr:function(b){this.context=b},refreshPane:function(b,c){this.serviceData=b;this.loaded||(p.empty(this.currentPlanTable),p.empty(this.planOptions),this.loadServicePlansAndShow(c))},refreshPlanTable:function(b,c){s.getServiceInstance(b).then(function(b){this.loaded=!1;this.refreshPane(b,c);this.okButton.setAttribute("disabled",!0);this.resetButton.setAttribute("disabled",
!0)}.bind(this),function(b){r.destroyStandby(c);r.handleError(b,m.cannotRetrieveInfo,null);this.okButton.setAttribute("disabled",!0);this.resetButton.setAttribute("disabled",!0)}.bind(this))},_onOKClick:function(b){this.submit();b.preventDefault()},_onResetClick:function(){this.resetRows();this.okButton.setAttribute("disabled",!0);this.resetButton.setAttribute("disabled",!0);h.add(this.nextStepsSection,"dijitHidden");event.preventDefault()},_onNextStepLinkClick:function(){this.learnMoreURL&&r.launchURL(this.learnMoreURL)},
loadServicePlansAndShow:function(b){b||(b=r.createStandby(this._getStandbyDomNode()),c.set(this._getStandbyDomNode(),"opacity","0"));var d=B.getCountryCurrencyAndTrial(this.context.orgGuid,!0,!0);z(d).then(function(d){var e=this.serviceData.entity.service_plan_guid;this._getServiceOfferingByPlanID(e).then(function(f){var a=f[0];B._getServicePlanData(a,d,this.enableTieredPricing).then(function(f){r.destroyStandby(b);c.set(this._getStandbyDomNode(),"opacity","1");this.service=a;this.service_plan_guid=
e;this.service_plans=f;this.country_currency=d;2>f.length?this.show(!0):this.show()}.bind(this),function(a){r.destroyStandby(b);c.set(this._getStandbyDomNode(),"opacity","1")})}.bind(this),function(c){r.destroyStandby(b)})}.bind(this))},_getServiceOfferingByPlanID:function(b){if(this.service_plan_deferred)return this.service_plan_deferred;var c=this.service_plan_deferred=new v;s.getServiceOfferings(this.context.orgGuid,this.context.spaceGuid,null,!1).then(function(e){e=e.resources.filter(function(c){return c.entity.service_plans.some(function(c){return c.metadata.guid==
b?!0:!1})});c.resolve(e)}.bind(this));return c},submit:function(){var b=this.serviceGuid,c={service_plan_guid:this.selected_plan.id},e=n.replace(m.planChangeConfirmMessage,[w.encode(this.service.entity.ace_displayName),this.currentPlan.displayName,this.selected_plan.displayName]);r.showConfirmationDialog(e,null,null,m.planChangeConfirmTitle).then(function(e){if(e){var f=r.createStandby(this._getStandbyDomNode());s.setServiceInstancePlan(b,c).then(function(a){h.add(this.nextStepClickSave,"dijitHidden");
this.refreshPlanTable(b,f);u.publish("cloudOE/updateServiceInstance",{serviceInstanceGuid:b,settings:{servicePlanName:this.selected_plan.displayName,servicePlanGuid:this.selected_plan.id}})}.bind(this),function(a){r.destroyStandby(f);r.showErrorMessage(m.planChangeFailureMsg,a,m.changePlan)}.bind(this))}}.bind(this))},show:function(b){var c=this.currentPlanTable,e=this.currentPlan=this._getCurrentPlan();this._addRow(c,e,!0);if(b)this.changePlanHeader.innerHTML=m.plan;else{h.remove(this.choosePlanSection,
"dijitHidden");h.remove(this.changeButtons,"dijitHidden");var f=this.planOptions;this._getAvailablePlans().forEach(function(b){var a=this._addRow(f,b,!1);this.own(y(a,"click",function(c){g(".change-plan-table .selected").forEach(function(a,b,c){h.remove(a,"selected")});h.add(a,"selected");if(this.enableTieredPricing&&(c=g(".available-plans .cloudOEServicePlanTieredPricingTable"))&&c.length){for(var d=0;d<c.length;d++){h.add(c[d],"dijitHidden");for(var e=g(".tier-table",c[d]),f=0;f<e.length;f++)u.publish("cloudOE/tierTableOpenClose",
{table:e[f],show:!1})}g(a).parents(".change-plan-table");c=0;var m;if((d=g(a).next())&&d.length)for(;d[0];){m=d[0];if(h.contains(m,"cloudOEServicePlanTieredPricingTable"))h.remove(m,"dijitHidden"),c+=1;else break;d=g(m).next();if(!d||!d.length)break}1===c&&(m=g(".tier-table",m)[0],u.publish("cloudOE/tierTableOpenClose",{table:m,show:!0}))}h.remove(this.nextStepsSection,"dijitHidden");h.remove(this.nextStepClickSave,"dijitHidden");this.okButton.removeAttribute("disabled");this.resetButton.removeAttribute("disabled");
this.selected_plan=b}.bind(this)))}.bind(this))}this.loaded=!0},resetRows:function(){g(".change-plan-table .selected").forEach(function(b,c,e){h.remove(b,"selected")})},_addRow:function(b,c,e){e=String.fromCharCode(10003);var f=p.create("tr",{"class":"plan-row"},b,"first");p.create("td",{"class":"plan-name",innerHTML:c.displayName},f);var g=c.features[0],g=c.isMultiTier?g?g+"\x3cbr\x3e"+m.tieredPricingMultiTiered:m.tieredPricingMultiTiered:g;p.create("td",{"class":"plan-description",innerHTML:g},
f);for(var g="",a=0;a<c.price.length;a++)g+=c.price[a],a<c.price.length-1&&(g+="\x3cbr\x3e");g=c.isSingleTier||c.isMultiTier?c.isSingleTier?"":m.tieredPricingExpandSection:g;p.create("td",{"class":"plan-cost",innerHTML:g},f);g=p.create("td",{"class":"plan-selected"},f);p.create("span",{innerHTML:e},g);this.enableTieredPricing&&(c.isSingleTier||c.isMultiTier)&&this._addRowsForTiers(b,c);return f},_addRowsForTiers:function(c,d){if(d.tiers)for(var e=0;e<d.tiers.length;e++){var f=new b;p.place(f.domNode,
c);var m=g(".tier-table",f.domNode)[0],a=d.tiers[e];a.costs&&this._addRowsForTierPricing(f.domNode,a.costs);h.contains(c,"current-plan")&&d.isSingleTier&&0===e?u.publish("cloudOE/tierTableOpenClose",{table:m.domNode,show:!0}):h.contains(c,"available-plans")&&h.add(f.domNode,"dijitHidden");a.costs.length&&a.costs[0].unit&&(g(".tier-heading",m)[0].innerHTML=a.costs[0].unit);1==a.costs.length&&(h.add(m,"noTier"),m=g(".tier-table-header",f.domNode)[0],h.add(m,"dijitHidden"),m=g(".expandIcon",f.domNode)[0],
h.add(m,"dijitHidden"),m=g(".collapseIcon",f.domNode)[0],h.add(m,"dijitHidden"),f=g(".tier-pricing",f.domNode)[0],h.remove(f,"dijitHidden"))}},_addRowsForTierPricing:function(b,c){if(1==c.length)this._addRowForTierPricing(b,"",c[0].tierCost);else{for(var e,f,g=0;g<c.length;g++){var a=c[g].quantityTier?c[g].quantityTier:1,h=a*(c[g].unitQuantity?c[g].unitQuantity:1),k=c[g].tierModel;if("Simple Tier"===k||"Granular Tier"===k){if(h)try{f=h-1}catch(r){console.error("Costs quantityTier is not numerical.")}e&&
f&&(e.item+=" - "+f);e=c[g];1<c.length&&g==c.length-1&&(a=h+"+")}else if("Graduated Tier"===k||"Step Tier"===k){e=h;var t;if(1<c.length&&0===g)a="1 - "+e;else if("9999999"===a||9999999===Number(a)||999999900===h)a=f+"+";else{try{t=f+1}catch(p){logger.error("Costs quantityTier is not numerical.")}a=t+" - "+e}f=e;e=c[g]}else if("Up To Tier"===k||"Block Tier"===k)e=c[g],a=1<c.length&&g==c.length-1?n.replace(m.tieredPricingOver,[f]):n.replace(m.tieredPricingUpTo,[h]),f=h,h=c[g].tierCost.indexOf("/"),
0<h&&(c[g].tierCost=c[g].tierCost.substring(0,h));c[g].item=a}for(g=0;g<c.length;g++)this._addRowForTierPricing(b,c[g].item,c[g].tierCost)}},_addRowForTierPricing:function(b,c,e){if((b=g(".tier-table .tier-pricing-table tbody",b))&&0<b.length){b=p.create("tr",{"class":"tier-pricing dijitHidden"},b[0]);var f=p.create("td",{"class":"tier-second-column"},b);p.create("div",{innerHTML:c},f);c=p.create("td",{"class":"tier-third-column"},b);p.create("div",{"class":"tierCost",innerHTML:e},c)}},_getCurrentPlan:function(){var b=
this.service_plan_guid;return this.service_plans.filter(function(c){return c&&c.id==b})[0]},_getAvailablePlans:function(){var b=this.service_plan_guid,c=this.service_plans.filter(function(c){return c&&c.id!=b});c.reverse();return c}})})},"cloudOE/widgets/ServicePlanTieredPricingTable":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-style dojo/mouse dojo/on dojo/query dojo/topic dijit/_WidgetBase dijit/_TemplatedMixin ../Utils dojo/i18n!../nls/resources dojo/text!./templates/ServicePlanTieredPricingTable.html".split(" "),
function(k,n,h,p,c,g,v,y,u,z,w,x){return k([y,u],{templateString:x,resources:w,baseClass:"cloudOEServicePlanTieredPricingTable",_blankImage:z._blankImage,_errorMessage:null,constructor:function(c){},postCreate:function(){this.own(v.subscribe("cloudOE/tierTableOpenClose",function(c){var h=g(".tier-first-column",c.table)[0];this._showTierPricingRow(h,c.show)}.bind(this)));this.own(c(this.tierCollapseIcon,p.enter,function(c){h.set(this.tierCollapseIcon,"opacity",1)}.bind(this)));this.own(c(this.tierCollapseIcon,
p.leave,function(c){h.set(this.tierCollapseIcon,"opacity",0)}.bind(this)))},_onTierClick:function(c){if(c){var h=c.srcElement,f=c.target,h=h?h:f;n.contains(h,"tier-first-column")||(h=g(h).parent(".tier-first-column")[0]);f=h&&n.contains(h,"opened");this._showTierPricingRow(h,!f)}c.preventDefault()},_showTierPricingRow:function(c,h){var f=g(c).parents(".tier-table");if(!n.contains(f[0],"noTier")){var k=g(".tier-pricing",f[0]),f=g(".tier-table-header",f[0])[0];if(h){n.add(c,"opened");var m=g(".expandIcon",
c)[0];n.add(m,"dijitHidden");if(k&&k.length)for(m=0;m<k.length;m++)n.remove(k[m],"dijitHidden");n.add(f,"selected")}else{n.remove(c,"opened");m=g(".expandIcon",c)[0];n.remove(m,"dijitHidden");if(k&&k.length)for(m=0;m<k.length;m++)n.add(k[m],"dijitHidden");n.remove(f,"selected")}}}})})},"cloudOE/panes/CreateAppWizard":function(){define("dojo/_base/declare dojo/_base/lang dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/dom-class ./_Wizard ./CreateAppNamePane ./CreateAppTemplatePane ./CreateAppPlatformPane ../actions/CreateAppTemplateAction ../RuntimeManager ../ServerConnection ./MobilePlatformData ./CreateAppDeployPane ./CreateAppDeploymentPane dojo/i18n!../nls/resources".split(" "),
function(k,n,h,p,c,g,v,y,u,z,w,x,s,r,f,B){return k([g],{baseClass:"cloudOEWizardCreateApp",constructor:function(c){this.context=c;this.mobileAvailable=c.mobileAvailable;this.useGitFlow=c.useGitFlow},postCreate:function(){this.inherited(arguments)},handleLogin:function(){this.inherited(arguments)},_setContextAttr:function(c){this.inherited(arguments);this.context.template&&(this.panes&&0<this.panes.length)&&this.panes[0].setContext({spaceGuid:this.spaceGuid,orgGuid:this.orgGuid})},addWizardPanes:function(){this.panes&&
(this.panes.forEach(function(c){c.destroy()}),this.panes=[]);this.context.template?this._initializeNameWizard():this._addPanes()},_addPanes:function(){var c;this.mobileAvailable?(c=this.platformPane=new u,c.setContext(this.context),this.panes.push(c),this.wizard.addChild(c)):n.mixin(this.context,{appType:"web"});c=this.templatePane=new y;c.setContext(this.context);this.panes.push(c);this.wizard.addChild(c);this.useGitFlow?(c=this.deployPane=new r,c.wizard=this,c.setContext(this.context),this.panes.push(c),
this.wizard.addChild(c),c=this.deploymentPane=new f,c.wizard=this):(c=this.namePane=new v,c.setContext(this.context));this.panes.push(c);this.wizard.addChild(c)},_showNavTreeNode:function(f,g){this.inherited(arguments);var e="mobile"===this.appType;c.toggle(this.navigationTree.domNode.querySelector("#templatePane"),"dijitHidden",e);this.navigationTree.domNode.querySelector("#namePane")&&this.namePane&&this.navigationTree.updateItemLabel("namePane",n.replace(B.wizardNavigationEntry,{label:this.namePane.getNavigationLabel(),
num:e?2:3}))},_onNavTreeClick:function(c){var f;switch(c.paneId){case "platformPane":this.context=n.mixin({},c.context);this.platformPane.setContext(this.context);f=this.platformPane;break;case "templatePane":f={};this.appType&&(f.appType=this.appType);this.platformType&&(f.platformType=this.platformType);this.context=n.mixin(c.context,f);this.templatePane.setContext(this.context);f=this.templatePane;break;case "deployPane":this.context=n.mixin({},c.context);this.deployPane.setContext(this.context);
f=this.deployPane;break;case "deploymentPane":this.context=n.mixin({},c.context);this.deploymentPane.setContext(this.context);f=this.deploymentPane;break;case "namePane":this.context=n.mixin({},c.context),this.namePane.setContext(this.context),f=this.namePane}w.scrollMainDivToTop();this.showPane(f)},_initializeNameWizard:function(){this.spaceGuid||w.handleError(null,B.cannotCreateAppSpace,this.standby,B.createAppTitle).then(function(){w.showMainPane(w.mainPanes.DASHBOARD,{orgGuid:this.orgGuid,spaceGuid:this.spaceGuid})});
this.standby||(this.standby=w.createStandby(this.wizardContainer.domNode));x.getPublicInfo().then(function(c){this.mobileTypes=c.mobileTypes;c=new v;this.panes.push(c);this.wizard.addChild(c);this.showPane(c);c.setContext({spaceGuid:this.spaceGuid,orgGuid:this.orgGuid});w.destroyStandby(this.standby)}.bind(this))},forward:function(c){if(this.context.template)this.completeNameWizard();else{switch(c){case "platformPane":this.appType=this.context.appType=this.platformPane.getPlatformSelection();this.templatePane.setContext(this.context);
this.determineNextPane();break;case "templatePane":this.appTemplate=this.templatePane.getTemplateSelection();break;case "deployPane":n.mixin(this.context,this.deployPane.getContext());this.deploymentPane.setContext(this.context);break;case "namePane":this.appType=this.mobileAvailable?this.platformPane.getPlatformSelection():"web";this.appName=this.namePane.getName();this.appTemplate=this.templatePane.getTemplateSelection();this.createAndOpenApp();return}var f,e;this.panes.some(function(b,g){b.getNavigationId()===
c&&(e=g+1,f=this.panes[e])}.bind(this));this.wizard.forward();f&&(w.scrollMainDivToTop(),this.context.wizardPaneId=f.getNavigationId(),("mobile"!==this.appType||1!==e)&&this.addRoute(this.context),this._showNavTreeNode(f,e));"platformPane"===c&&("mobile"===this.appType&&this.namePane)&&(e+=1,f=this.panes[e],this.wizard.forward(),f&&(w.scrollMainDivToTop(),this.context.wizardPaneId=f.getNavigationId(),("mobile"!==this.appType||1!==e)&&this.addRoute(this.context),this._showNavTreeNode(f,e)))}},determineNextPane:function(){this.appType=
this.platformPane.getPlatformSelection();if("mobile"===this.appType&&!this.namePane){this.removePane(this.deployPane);this.removePane(this.deploymentPane);this.deploymentPane=this.deployPane=void 0;var c=this.namePane=new v;c.setContext(this.context);this.panes.push(c);this.wizard.addChild(c)}else!this.deployPane&&this.useGitFlow&&(this.removePane(this.namePane),this.namePane=void 0,c=this.deployPane=new r,c.wizard=this,c.setContext(this.context),this.panes.push(c),this.wizard.addChild(c),c=this.deploymentPane=
new f,c.wizard=this,this.panes.push(c),this.wizard.addChild(c));this.addCallbacks()},completeNameWizard:function(){s.some(function(c){if(c.id===this.context.template)return c=n.getObject(c.mobileType,!1,this.mobileTypes),this.appTemplate={id:c.boilerplate,redirect:c.gettingStarted},!0}.bind(this));this.appName=this.panes[0].getName();this.createAndOpenApp()},createAndOpenApp:function(){var c={owner:this.wizardContainer,ownerNavBar:this.navigationTree};c.data={templateId:this.appTemplate.id,name:this.appName.name,
org_guid:this.orgGuid,space_guid:this.spaceGuid};c.appTemplateData=this.appTemplate;c.appTemplateData.runtime||(c.appTemplateData.runtime={});this.appTemplate.doesNotSupportURL||(c.data.host=this.appName.hostName,c.data.domain_guid=this.appName.domainGuid);c.isNewCreateWizard=!0;(new z).run(c)}})})},"cloudOE/panes/_Wizard":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-style dojo/dom-construct dojo/dom-class dojo/topic dojo/on dojo/aspect dojo/Deferred dojo/promise/all dojox/html/entities dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojox/widget/Wizard dijit/layout/ContentPane ./_NavigatorPane dijit/registry ../widgets/NavigationTree2 ../widgets/MessageArea ../widgets/_StackedPaneContainer ./_ActionBarHandler ../RuntimeManager dojo/i18n!../nls/resources dojo/text!./templates/_Wizard.html dijit/layout/ContentPane".split(" "),
function(k,n,h,p,c,g,v,y,u,z,w,x,s,r,f,B,m,t,e,b,C,d,l,q,A){return k([B,s,r,m,C,d],{templateString:A,baseClass:"cloudOEWizard",panes:[],postCreate:function(){this.inherited(arguments);this.own(y(this.dockedNavArea,"backClick",function(a){this._goBackHome(!0,this.context)}.bind(this)));this.own(y(this.dockedNavArea,"openedChanged",function(a){g.toggle(this.mainContent,"cloudOEDockedOpenNav",a);this.panes&&this.panes.forEach(function(a){a.resizePane()})}.bind(this)));this.createWizard();this.navigationTree.collapsible=
!1;this.navigationTree.setItems(this.treeModel)},startup:function(){this.inherited(arguments);this.navigationTree&&(this.panes&&0<this.panes.length)&&this.navigationTree.select(this.paneToSelect)},handleLogin:function(){this.navigator=this.getParentNavigator()},_setContextAttr:function(a){this.inherited(arguments);this.orgGuid=a.orgGuid;this.spaceGuid=a.spaceGuid;if(a.wizardPaneId&&this.panes&&0<this.panes.length&&this._treeContainsPane(a.wizardPaneId)){var b;this.panes.some(function(c,d){if(c.getNavigationId()===
a.wizardPaneId)return b=c,!0});this.showPane(b);this.navigationTree.select(a.wizardPaneId)}},getTreeModel:function(){return this.treeModel=[]},_addPaneToTree:function(a,b,c){c?this.treeModel[b-1].label=n.replace(q.wizardNavigationEntry,{label:a.getNavigationLabel(),num:b}):this.treeModel.push({id:a.getNavigationId(),paneId:a.getNavigationId(),label:n.replace(q.wizardNavigationEntry,{label:a.getNavigationLabel(),num:b}),classes:"wizard",context:n.mixin({},this.context),onClick:this._onNavTreeClick.bind(this)})},
removePane:function(a){this.panes=this.panes.filter(function(b){var c=a===b;c&&(this.wizard.removeChild(b),b.destroy());return!c}.bind(this));this.treeModel&&(this.treeModel=this.treeModel.filter(function(b){return b.id!==a.getNavigationId()}))},showPane:function(a){a&&(this.wizard.selectChild(a),this.context.wizardPaneId=a.getNavigationId(),this.addRoute(this.context),a._resizePane&&a._resizePane())},createWizard:function(){this.wizard&&this.wizard.destroy();this.wizard=new f;g.add(this.wizard.wizardNav,
"dijitHidden");c.place(this.wizard.domNode,this.wizardContainer.domNode);this.wizard.startup();this.addWizardPanes();this.showPane(this.panes[0]);this.addCallbacks();this.jumpToPage()},addWizardPanes:function(){},jumpToPage:function(){this.getTreeModel();this.panes&&0!==this.panes.length&&(this._addPaneToTree(this.panes[0],1),this.paneToSelect=this.panes[0].getNavigationId(),this.wizardPaneId&&(this.panes.some(function(a){if(a.navigatorId===this.wizardPaneId)return!0;this.forward(a.navigatorId)}.bind(this)),
this.paneToSelect=this.wizardPaneId))},addCallbacks:function(){this.panes&&this.panes.forEach(function(a){a.forwardHandler||(a.forwardHandler=u.after(a,"forward",function(a){this.forward(a)}.bind(this)))}.bind(this))},_goBackHome:function(a,b){var c=this.getParentNavigator();c&&a&&c.goHome(b)},_showNavTreeNode:function(a,b){if(this.navigationTree){var c=this.treeModel.some(function(b){return b.paneId===a.getNavigationId()}),d=c&&a.isContextSensitive();if(!c||d)this._addPaneToTree(a,b+1,d),this.navigationTree.setItems(this.treeModel);
this.navigationTree.select(a.getNavigationId())}},_onNavTreeClick:function(a){},forward:function(a){var b,c;this.panes.some(function(d,e){d.getNavigationId()===a&&(c=e+1,b=this.panes[c])}.bind(this));this.wizard.forward();b&&(l.scrollMainDivToTop(),this.context.wizardPaneId=b.getNavigationId(),this.addRoute(this.context),this._showNavTreeNode(b,c))},_treeContainsPane:function(a){return!!this.treeModel&&this.treeModel.some(function(b){return b.id===a})},destroy:function(){this.inherited(arguments);
this.wizard.destroy()}})})},"dojox/widget/Wizard":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/connect dijit/layout/StackContainer dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/i18n dojo/text!./Wizard/Wizard.html dojo/i18n!dijit/nls/common dojo/i18n!./nls/Wizard dijit/form/Button".split(" "),function(k,n,h,p,c,g,v,y){return n("dojox.widget.Wizard",[p,c,g],{templateString:y,nextButtonLabel:"",previousButtonLabel:"",cancelButtonLabel:"",doneButtonLabel:"",cancelFunction:null,
hideDisabled:!1,postMixInProperties:function(){this.inherited(arguments);var c=k.mixin({cancel:v.getLocalization("dijit","common",this.lang).buttonCancel},v.getLocalization("dojox.widget","Wizard",this.lang)),g;for(g in c)this[g+"ButtonLabel"]||(this[g+"ButtonLabel"]=c[g])},startup:function(){this._started||(this.inherited(arguments),this.connect(this.nextButton,"onClick","_forward"),this.connect(this.previousButton,"onClick","back"),this.cancelFunction?(k.isString(this.cancelFunction)&&(this.cancelFunction=
k.getObject(this.cancelFunction)),this.connect(this.cancelButton,"onClick",this.cancelFunction)):this.cancelButton.domNode.style.display="none",this.connect(this.doneButton,"onClick","done"),this._subscription=h.subscribe(this.id+"-selectChild",k.hitch(this,"_checkButtons")),this._started=!0)},resize:function(){this.inherited(arguments);this._checkButtons()},_checkButtons:function(){var c=this.selectedChildWidget,g=c.isLastChild;this.nextButton.set("disabled",g);this._setButtonClass(this.nextButton);
c.doneFunction?(this.doneButton.domNode.style.display="",g&&(this.nextButton.domNode.style.display="none")):this.doneButton.domNode.style.display="none";this.previousButton.set("disabled",!this.selectedChildWidget.canGoBack);this._setButtonClass(this.previousButton)},_setButtonClass:function(c){c.domNode.style.display=this.hideDisabled&&c.disabled?"none":""},_forward:function(){this.selectedChildWidget._checkPass()&&this.forward()},done:function(){this.selectedChildWidget.done()},destroy:function(){h.unsubscribe(this._subscription);
this.inherited(arguments)}})})},"dojox/widget/nls/Wizard":function(){define({root:{next:"Next",previous:"Previous",done:"Done"},zh:!0,"zh-tw":!0,uk:!0,tr:!0,th:!0,sv:!0,sl:!0,sk:!0,ru:!0,ro:!0,pt:!0,"pt-pt":!0,pl:!0,nl:!0,nb:!0,ko:!0,kk:!0,ja:!0,it:!0,hu:!0,hr:!0,he:!0,fr:!0,fi:!0,es:!0,el:!0,de:!0,da:!0,cs:!0,ca:!0,bg:!0,az:!0,ar:!0})},"cloudOE/panes/CreateAppNamePane":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-style dojo/dom-construct dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/when dijit/form/ValidationTextBox dojo/Deferred dojo/on dojo/promise/all dojo/topic dojo/i18n!../nls/resources ./_WizardPane ../Utils ../ServerConnection ../RuntimeManager dojo/text!./templates/CreateAppNamePane.html".split(" "),
function(k,n,h,p,c,g,v,y,u,z,w,x,s,r,f,B,m,t,e){return k([f,g,v],{templateString:e,navigatorLabel:r.wizardNavigationCreateAppLabel,navigatorId:"namePane",resources:r,postCreate:function(){this.inherited(arguments);this.titleNode.textContent=r.createAppNamePaneTitle;this.validUnDiplicateHostName=!0;this.inputName.set("pattern",B.APP_NAME_REGEX);this.inputName.set("missingMessage",r.createAppEmptyErrorMessage);this.inputName.set("maxLength",63);this.inputName.set("tooltipPosition",["after","above"]);
this.inputName.validator=function(b,c){var d=!1;""!==b.replace(/\s/g,"")?(/^([a-z0-9]|[a-z0-9][a-z0-9\-]{0,61}[a-z0-9])$/.test(this._transformSpaces(b.toLowerCase()))&&this.validUnDiplicateHostName?(this.hideError(),d=!0):(this.inputName.set("invalidMessage",r.createAppHostNameErrorMessage),this.showCreateAppError()),d&&!this._isUniqueAppName(b)&&(this.showDiplicatedHostNameError(),this.inputName.set("invalidMessage",null),d=!1)):this.inputName.set("invalidMessage",r.badAppName);return d}.bind(this);
this.own(w(this.inputName,"keyup",function(b){this.inputName.validate();"13"==b.keyCode&&this._onFinishClick()}.bind(this)));this.own(w(this.createForm,"click",function(){this._focusCallback()}.bind(this)));this.own(w(this.inputName,"focus",function(){this._focusCallback()}.bind(this)));this.own(w(this.newDomainSelect,"change",function(b){this.domainGuid=b}.bind(this)));this.inputName.set("disabled",!0);this.own(s.subscribe("cloudOE/diplicatedHostNameError",function(){this.validUnDiplicateHostName=
!1;this.inputName.validate();this.validUnDiplicateHostName=!0;this.showDiplicatedHostNameError()}.bind(this)))},setContext:function(b){if(!this.context||b.spaceGuid!==this.context.spaceGuid)if((this.context=b)&&b.spaceGuid)this.standby=t.createStandby(this.domNode),b=[m.getSpaceDomains(b.orgGuid,!0),m.getSpaceApps(b.spaceGuid,{"inline-relations-depth":0})],x(b).then(function(b){this._initDomainSelection(b[0]);this.apps=b[1]&&b[1].resources?b[1].resources:[]}.bind(this),function(b){var c=r.cannotRetrieveInfo;
t.destroyStandby(this.standby);t.handleError(b,c)}.bind(this))},_initDomainSelection:function(b){b=b.resources;var c=!1;b&&1<=b.length&&(this.inputName.set("disabled",!1),B.sortCFEntitiesByName(b),b=B.sortDomains(b),this.domainGuid=b[0].metadata.guid,b.some(function(b,e){!c&&b.entity.owning_organization_guid&&(c=!0);this.newDomainSelect.addOption({label:"\x3cdiv class\x3d'outer'\x3e"+b.entity.name+"\x3c/div\x3e",value:b.metadata.guid})}.bind(this)));this.newDomainSelect.set("value",this.domainGuid);
h.toggle(this.newDomainSelect.domNode,"hiddenDomainSelector",!c);t.destroyStandby(this.standby)},pageComplete:function(){return this.inputName.validate()},showCreateAppError:function(){h.add(this.appNameTextField,"appNameTextFieldError")},hideError:function(){h.remove(this.appNameTextField,"appNameTextFieldError");p.set(this.createAppErrorMessage,"display","none")},showDiplicatedHostNameError:function(){this.createAppErrorMessage.textContent=r.createAppNameErrorMessage;p.set(this.createAppErrorMessage,
"display","block")},getName:function(){return{name:this.name,hostName:this.hostName,domainGuid:this.domainGuid}},setName:function(b){this.inputName.set("value",b)},_focusCallback:function(){h.add(this.appNameTitleTip,"appNameTitleTipFocused")},_transformSpaces:function(b){b=b.toLowerCase();b=b.replace(/(^\s*)|(\s*$)/g,"");return b.replace(/\s/g,"-")},_isUniqueAppName:function(b){return!this.apps.some(function(c){return 0===B.strCompareIgnoreCase(b,c.entity.name)})},_onFinishClick:function(){this.pageComplete()&&
(this.name=this.inputName.get("value"),this.hostName=this._transformSpaces(this.name),this.forward())}})})},"cloudOE/panes/_WizardPane":function(){define(["dojo/_base/declare","dojox/widget/WizardPane","dojo/dom-construct"],function(k,n,h){return k(n,{passFunction:"pageComplete",constructor:function(h){},postCreate:function(){this.inherited(arguments)},getNavigationLabel:function(){return this.navigatorLabel},getNavigationId:function(){return this.navigatorId},pageComplete:function(){},forward:function(){return this.navigatorId},
resizePane:function(){},isContextSensitive:function(){return!1}})})},"dojox/widget/WizardPane":function(){define(["dojo/_base/lang","dojo/_base/declare","dijit/layout/ContentPane"],function(k,n,h){return n("dojox.widget.WizardPane",h,{canGoBack:!0,passFunction:null,doneFunction:null,startup:function(){this.inherited(arguments);this.isFirstChild&&(this.canGoBack=!1);k.isString(this.passFunction)&&(this.passFunction=k.getObject(this.passFunction));k.isString(this.doneFunction)&&this.doneFunction&&(this.doneFunction=
k.getObject(this.doneFunction))},_onShow:function(){this.isFirstChild&&(this.canGoBack=!1);this.inherited(arguments)},_checkPass:function(){var h=!0;if(this.passFunction&&k.isFunction(this.passFunction)){var c=this.passFunction();switch(typeof c){case "boolean":h=c;break;case "string":alert(c),h=!1}}return h},done:function(){this.doneFunction&&k.isFunction(this.doneFunction)&&this.doneFunction()}})})},"cloudOE/panes/CreateAppTemplatePane":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom-construct dojo/dom-class dojo/dom-attr dojo/Deferred dojo/store/Memory dojo/on dojo/query dojo/window dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ./_WizardPane ./_BaseStoreItemContainer ../Utils ../utils/apps ../utils/services ../RuntimeManager ../ServerConnection ./MobilePlatformData ../utils/coremetrics dojo/text!./templates/CreateAppTemplatePane.html dojo/i18n!../nls/resources ../widgets/TileListItem ../widgets/OwnBuildPackTileListItemHexagon ../widgets/SearchAndFilter dojo/text!./templates/MobilePlatformTile.html".split(" "),
function(k,n,h,p,c,g,v,y,u,z,w,x,s,r,f,B,m,t,e,b,C,d,l,q,A,a,H,M){var I=k([f],{_getHaveCodeTemplate:function(){return{name:q.haveCodeTemplate,description:q.haveCodeDescription,id:"haveCode",type:"web",badgeTag:"ibm_community",active:!0,service:!1,userVisible:!0,icon:B.getConsoleClassicPath("/images/logos/i-download_32.png"),smallIcon:B.getConsoleClassicPath("/images/logos/i-download_24.png"),largeIcon:B.getConsoleClassicPath("/images/logos/i-download_50.png"),featuredIcon:B.getConsoleClassicPath("/images/logos/i-download_64.png"),
categoryId:"",system_tags:["ibm_community"],categories:["runtime"]}},_getBrowseSampleAppTemplate:function(){return{name:q.browseSampleAppTemplate,description:q.browseSampleAppDescription,id:"browseSampleApp",type:"web",badgeTag:"ibm_community",active:!0,service:!1,userVisible:!0,icon:B.getConsoleClassicPath("/images/logos/i-sample-apps-32.png"),smallIcon:B.getConsoleClassicPath("/images/logos/i-sample-apps-24.png"),largeIcon:B.getConsoleClassicPath("/images/logos/i-sample-apps-50.png"),featuredIcon:B.getConsoleClassicPath("/images/logos/i-sample-apps-64.png"),
categoryId:"",system_tags:["ibm_community"],categories:["runtime"]}},addExtraTemplate:function(b){b.push(h.mixin(h.clone(a.template),{nextLabel:q.wizardLearnHow,isVirtual:!0,showOtherInfo:!0,specialButton:!0}));b.push(h.mixin(this._getHaveCodeTemplate(),{nextLabel:q.wizardLearnHow,isVirtual:!0,showPricing:!0,specialButton:!0}));b.push(h.mixin(this._getBrowseSampleAppTemplate(),{nextLabel:q.browseSampleAppButtonLabel,isVirtual:!0,showPricing:!0}))},loadAppTemplates:function(a){this._sortStoreItems(a.data);
this.addExtraTemplate(a.data);this.tileListArea.load({data:a.data,callback:a.callback,iconType:a.iconType,placeholderIcon:a.placeholderIcon,CustomTileListItem:a.CustomTileListItem,tileWidth:a.tileWidth,showName:a.showName,doubleLineName:!0,showLearnMore:a.showLearnMore,showDescription:a.showDescription,showProviderLabel:a.showProviderLabel,showTooltip:a.showTooltip})}});return k([r,x,s],{templateString:l,resources:q,navigatorLabel:q.createAppTemplateNavLabel,navigatorId:"templatePane",nextURLs:{},
setContext:function(a){this.context=a;this.codeType=a.codeType;var b=a.appType||a.platformType,b=b&&b===m.PLATFORM_TYPES.MOBILE;this.titleNode.textContent=b?q.createAppTemplateMobileTitle:q.createAppCodePaneTitle;this.navigatorLabel=b?q.createAppTemplateMobileNavLabel:q.createAppCodeNaviTitle;a=a.useGitFlow;a="string"===typeof a?"true"==a:a;b&&this.allowMobileData&&this._getMobileDataDirect();a?(c.remove(this.webContainer,"dijitHidden"),c.add(this.appTemplateContainer,"dijitHidden"),c.add(this.infoContainer,
"dijitHidden")):(c.add(this.webContainer,"dijitHidden"),c.remove(this.appTemplateContainer,"dijitHidden"),c.remove(this.infoContainer,"dijitHidden"))},postCreate:function(){this.inherited(arguments);this.titleNode.textContent=q.createAppTemplateTitle;this.standby=e.createStandby(this.domNode);b.getPublicInfo().then(function(b){this.enablePricing=b.enablePricingFeatures;var c=b.runtimeFreeQuota?b.runtimeFreeQuota:375;this.infoPricingSummary.textContent=h.replace(q.wizardPricingSummary,[c]);this.mobilePlanInfo.textContent=
h.replace(q.wizardPricingSummary,[c]);this.cfDownloadLink.href=b.docURL+b.commandLineURL;this.nextURLs[a.template.id]=b.docURL+b.BYOBDocsURL;this.nextURLs.haveCode=b.docURL+b.uploadAppDocsURL;this.mobileTypes=b.mobileTypes;this.disableMobileFirst=b.disableMobileFirst;this._loadTemplate();b.mobileTypes&&(this.allowMobileData=!0)}.bind(this))},isContextSensitive:function(){return!0},_loadTemplate:function(){this.standby||(this.standby=e.createStandby(this.appTemplateContainer.domNode));b.getTemplates(!1).then(function(a){var b=
[];a&&0!==a.length&&h.clone(a).forEach(function(a){m.isRuntimeTemplate(a)&&(a.badgeTag=B.getBadgeTag(a,"template"),b.push(a))});a=new I;var c={data:b,tileWidth:64,iconType:"featured",placeholderIcon:B.getPlaceHolderImage("runtime","featured"),showName:!0,showTooltip:!1,showDescription:!0,CustomTileListItem:A,callback:this._selectTemplate.bind(this)};a.loadAppTemplates(c);a.placeAt(this.appTemplateContainer);this.standby&&e.destroyStandby(this.standby)}.bind(this),function(a){(a=e.handleError(a,q.cannotRetrieveTemplates,
this.standby))&&a.then(function(a){e.showMainPane(e.mainPanes.DASHBOARD,{orgGuid:this.context.orgGuid,spaceGuid:this.context.spaceGuid})}.bind(this))}.bind(this))},_getMobileDataDirect:function(){if(C&&C[1]){var a=C[1];this.disableMobileFirst&&a.id===C.TEMPLATE_IOS||(a=h.getObject(a.mobileType,!1,this.mobileTypes),this.template={id:a.boilerplate},this.template.redirect=a.gettingStarted?a.gettingStarted:"")}},_learnMoreClick:function(a){e.showMainPane(e.mainPanes.STORE,{orgGuid:this.context.orgGuid,
spaceGuid:this.context.spaceGuid,appTemplateGuid:this.template.id});a.stopPropagation()},_getMobileAppTemplate:function(a){var d=new v;this.mobileAppTemplateStore||(this.mobileAppTemplateStore=new y({data:[]}));this.mobileAppTemplateStore.get(a)?d.resolve(this.mobileAppTemplateStore.get(a).template):(this.standby=e.createStandby(this.domNode),b.getTemplate(a,!1).then(function(b){if(b){var f=h.clone(b);f.badgeTag=B.getBadgeTag(f,"template");b=m.isBoilerplateTemplate(f);m.isMobileFirstTemplate(f,this.mobileTypes);
b&&(f.additionalCSSClasses=b&&"cloudOETileListItemBoilerplate");c.remove(this.mobileInfoContainer,"cloudOEHide");(b=f.services)&&this._getServiceOfferingsByName(b).then(function(b){f.services=b;this.mobileAppTemplateStore.put({id:a,template:f});d.resolve(f);this.standby&&e.destroyStandby(this.standby)}.bind(this),function(a){e.handleError(a,q.cannotRetrieveServiceOfferings);d.reject(a);this.standby&&e.destroyStandby(this.standby)})}else b=h.replace(q.cannotRetrieveTemplate,[a]),e.showErrorMessage(b),
d.reject(b),this.standby&&e.destroyStandby(this.standby)}.bind(this),function(b){var c=h.replace(q.cannotRetrieveTemplate,[a]);e.handleError(b,c);d.reject(b);this.standby&&e.destroyStandby(this.standby)}.bind(this)));return d},_getServiceOfferingsByName:function(a){var b=new v,c=[];!a||0===a.length?b.resolve(c):this._getServiceOfferings().then(function(d){var e=d.data;a.forEach(function(a){(a=B.getItemByEntityAttribute(e,"label",a.name))&&c.push(a)}.bind(this));b.resolve(c)}.bind(this),function(a){b.reject(a)}.bind(this));
return b},_getServiceOfferings:function(){var a=new v;this.serviceOfferingsStore?a.resolve(this.serviceOfferingsStore):e.getSelectedSpaceInfo().then(function(c){(b.getCurrentUser()?b.getServiceOfferings(c.orgGuid,c.spaceGuid,null,!1):b.getPublicServiceOfferings()).then(function(b){var c=[];b.resources.forEach(function(a){a.id=a.metadata.guid;c.push(a)}.bind(this));this.serviceOfferingsStore=new y({data:c});a.resolve(this.serviceOfferingsStore)}.bind(this),function(b){a.reject(b)}.bind(this))}.bind(this),
function(b){a.reject(b)}.bind(this));return a},pageComplete:function(){return!0},getTemplateSelection:function(){return this.template},_selectTemplate:function(b){this._initilized||this._initCards();var e=this.context.orgGuid,f=this.context.spaceGuid,g=this.context.appType,h=b.id,l=b.name;d.cmCreatePageviewTag(l+"_VP",d.BLUEMIX);d.onSelectTemplate(e,f,g,h,l);this.template=b;this.infoTitle.textContent=b.name;this.infoDescription.innerHTML=b.description;this.enablePricing&&(!b.isVirtual||b.showPricing)?
c.remove(this.infoPricingSummary,"cloudOEHide"):c.add(this.infoPricingSummary,"cloudOEHide");c.toggle(this.sampleSummary,"cloudOEHide",b.id!==a.template.id);c.toggle(this.links,"cloudOEHide",!!b.isVirtual);b.docURL&&(this.docURL.href=b.docURL);b.nextLabel?(this.docButton.textContent=b.nextLabel,c.add(this.infoContainer,"virtual")):c.remove(this.infoContainer,"virtual");b.specialButton?(c.add(this.docButton,"btnBlue"),this.docButton.innerHTML+="\x3ci class\x3d'i-launch-white-16'\x3e\x3c/i\x3e"):c.remove(this.docButton,
"btnBlue");c.toggle(this.otherInfo,"cloudOEHide",!b.showOtherInfo);c.remove(this.infoContainer,"cloudOEHide");this.resize();w.scrollIntoView(this.infoContainer)},_initCards:function(){this.own(u(this.viewMore,"click",function(a){a.preventDefault();a=a?a.currentTarget:null;a=h.mixin(h.clone(this.context),{appTemplateGuid:this.template.id,appTemplateData:this.template,cloudOEPaneId:"resources",createApp:!0,sourceNode:a});e.showMainPane(e.mainPanes.STORE,a)}.bind(this)));this.own(u(this.docButton,"click",
function(a){"browseSampleApp"===this.template.id?(a.preventDefault(),a=h.mixin(h.clone(this.context),{tabId:H.BOILERPLATES_CATEGORY_ID}),e.showMainPane(e.mainPanes.STORE,a)):this.docButton.href=this.nextURLs[this.template.id]}.bind(this)));this._initilized=!0},_onCodeNextClick:function(a){this.codeType=g.get(a.currentTarget,"data-cloudoe-codetype");this.pageComplete()&&("false"===this.codeType?(a=h.mixin(h.clone(this.context),{tabId:H.STARTERS_CATEGORY_ID}),e.showMainPane(e.mainPanes.STORE,a)):(this.context.codeType=
this.codeType,this.forward()))},_onNextClick:function(){this.pageComplete()&&this.forward()}})})},"cloudOE/panes/_BaseStoreItemContainer":function(){define("dojo/_base/declare dojo/_base/array dojo/dom-geometry dojo/dom-style dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/layout/ContentPane ../Utils ./_NavigatorPane cloudOE/widgets/MessageArea dojo/text!./templates/_BaseStoreItemContainer.html dojo/i18n!../nls/resources cloudOE/widgets/TileListArea".split(" "),function(k,n,h,p,c,g,v,y,
u,z,w,x){return k([v,c,g,u],{baseClass:"cloudOEBaseStoreItemContainer",requiresLogin:!0,templateString:w,resources:x,badgeTags:"ibm_created ibm_third_party ibm_community ibm_certified ibm_experimental ibm_private".split(" "),maxWidth:"1000px",postCreate:function(){this.inherited(arguments);p.set(this.tileListArea.domNode,"maxWidth",this.maxWidth)},resize:function(){this.inherited(arguments);this._resizeTileListArea()},_resizeTileListArea:function(){p.set(this.tileListArea.domNode,"height","");p.set(this.tileListArea.domNode,
"width","");p.set(this.tileListArea.domNode.parentNode,"width","");p.set(this.tileListArea.domNode.parentNode,"height","")},handleLogin:function(){},_showInlineMessage:function(c,g){y.setDomNodeVisible(this.tileListArea.domNode,!1);this.messageArea.show(c,g)},_hideInlineMessage:function(c,g){this.messageArea.hide();y.setDomNodeVisible(this.tileListArea.domNode,!0)},matchesInitialQuery:function(c){var g=!0,f=this.initialQuery;if(f)for(var h in f)if(f.hasOwnProperty(h)&&f[h]!==c[h]){g=!1;break}return g},
applyFiltersAndSearchText:function(c,g,f){this._hideInlineMessage();return this.tileListArea.filterAndSearchTiles(c,g,f).then(function(c){p.set(this.tileListArea.domNode,"display","inline-block");this._resizeTileListArea();return!0}.bind(this)).otherwise(function(c){this._showInlineMessage(c,z.types.INFORMATION);return!1}.bind(this))},_sortTag:function(c,g){var f=n.indexOf(this.badgeTags,c),h=n.indexOf(this.badgeTags,g);return f-h},_sortStoreItems:function(c){c.sort(function(c,f){return this._storeItemComparator(c,
f)}.bind(this))},_storeItemComparator:function(c,g){var f=c.badgeTag,h=g.badgeTag;return f!=h?this._sortTag(f,h):y.strCompareIgnoreCase(c.name,g.name)}})})},"cloudOE/panes/MobilePlatformData":function(){define(["dojo/_base/lang","dojo/i18n!../nls/resources"],function(k,n){var h=[{id:"mobile",name:n.mobileServices,description:n.mobileDescription,badgeClass:"",icon:"i-mobile-50",mobileType:"MBAAS"},{id:"iOSbeta",name:n.iOS8,description:"",badgeClass:"",icon:"i-ios-50",mobileType:"MobileFirst"}];h.TEMPLATE_IOS=
"iOSbeta";return h})},"cloudOE/widgets/SearchAndFilter":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/event dojo/keys dojo/on dojo/query dojo/dom-class dojo/dom-style dojo/store/Memory dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/_ComboBoxMenu dijit/Tooltip ../Utils ../utils/mouse ../RuntimeManager dojo/text!./templates/SearchAndFilter.html dojo/i18n!../nls/resources dijit/form/TextBox ./ComboBox".split(" "),function(k,n,h,p,c,g,v,y,u,z,w,x,s,
r,f,B,m,t,e){k=k([z,w,x],{templateString:t,resources:e,baseClass:"cloudOESearchAndFilterArea",disabled:!1,showFilters:!0,_blankImage:f._blankImage,_toolTip:null,_defaultFilters:{ibm_created:!0,ibm_third_party:!0,ibm_community:!0,ibm_certified:!0,ibm_private:!0},_supportFilters:{},_availabilityFilters:{},_categoryFilters:{},_searchAndFilterCallback:null,_backButtonCallback:null,_categories:[{cat:e.searchCategoryAll,label:e.searchCategoryAll,id:"all"},{cat:e.searchCategoryStarters,label:e.searchCategoryStarters,
id:"starters"},{cat:e.searchCategoryServices,label:e.searchCategoryServices,id:"services"}],constructor:function(b){this._filters=n.clone(this._defaultFilters)},postCreate:function(){this.inherited(arguments);this._setDisabledAttr(this.disabled);this.showBackButton(!1);this.own(c(this.searchIcon,"click",function(b){this._onSearchAndFilterCallback()}.bind(this)));var b=this.backButtonImg;B.hover(b,function(){v.replace(b,"i-back-arrow-hover","i-back-arrow")},function(){v.replace(b,"i-back-arrow","i-back-arrow-hover")},
this);this._toolTip=new r({connectId:this.backButtonImg,label:n.replace(e.backButtonTooltip,[e.searchCategoryAll]),position:["below-centered","above-centered","before-centered","after-centered"]})},_onSearchStoreInput:function(b){b.keyCode!==p.TAB&&(b.keyCode===p.ENTER&&h.stop(b),this.searchboxTimeout&&clearTimeout(this.searchboxTimeout),this.searchboxTimeout=setTimeout(this._onSearchAndFilterCallback.bind(this),500))},_onSearchAndFilterCallback:function(){if(this._searchAndFilterCallback){var b=
this._getCurrentSettingsAttr();this._searchAndFilterCallback(b)}},_onBackButtonCallback:function(){this._backButtonCallback&&this._backButtonCallback()},_onFilterByProviderClick:function(b){var c=b.currentTarget.id||"";b=this[b.currentTarget.id+"Checkbox"];var d=this._filters;b&&(d[c]=b.get("checked"),"ibm_community"===c&&(d.ibm_certified=b.get("checked")),this._onSearchAndFilterCallback())},_setSearchAndFilterCallbackAttr:function(b){this._searchAndFilterCallback=b},_setBackButtonCallbackAttr:function(b){this._backButtonCallback=
b},_setDisabledAttr:function(b){this.disabled=b;this._setSearchDisabledAttr(b)},_setSearchDisabledAttr:function(b){this.searchBox.set("disabled",b)},_getSearchValueAttr:function(){return this.searchBox.get("value")},_getSelectedCategoryIdAttr:function(){return"all"},setSelectedCategory:function(b){this.selectedCategory=b},_getCurrentSettingsAttr:function(){var b={searchValue:this._getSearchValueAttr(),filterSettings:{},category:this._getSelectedCategoryIdAttr()};this.showFilters&&n.mixin(b,{filterSettings:{supportFilters:{dataProp:"stageTag",
filters:this._supportFilters},availabilityFilters:{dataProp:"availability",filters:this._availabilityFilters},categoryFilters:{dataProp:"category",filters:this._categoryFilters}}});return b},resetSearch:function(){this.searchBox.reset()},resetFilterCheckboxes:function(b){this._filters=n.clone(this._defaultFilters);b||this._onSearchAndFilterCallback()},showBackButton:function(b){v.toggle(this.backButton,"dijitHidden",!b)},_setTooltipLabelAttr:function(b){switch(b){case "services":b=e.searchCategoryServices;
break;case "starters":b=e.searchCategoryStarters;break;default:b=e.searchCategoryAll}this._toolTip.set("label",n.replace(e.backButtonTooltip,[b]));this.backButtonLabel.innerHTML=n.replace(e.backButtonTooltip,[b])},destroy:function(){this.inherited(arguments);this._toolTip&&(this._toolTip.destroyRecursive(),this._toolTip=null)}});k.ALL_CATEGORY_ID="all";k.SERVICES_CATEGORY_ID="services";k.STARTERS_CATEGORY_ID="starters";k.BOILERPLATES_CATEGORY_ID="boilerplates";return k})},"cloudOE/widgets/ComboBox":function(){define("dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/query dojo/on dijit/form/ComboBox".split(" "),
function(k,n,h,p,c,g,v,y){return k(y,{addlBaseClass:"cloudOEComboBox",buttonMode:!0,postMixInProperties:function(){this.inherited(arguments);this.baseClass=this.get("baseClass")+" "+this.addlBaseClass},postCreate:function(){this.inherited(arguments);n.set(this.textbox,"readonly",this.buttonMode?"true":"false");this.own(v(this._buttonNode,"click",function(c){c.stopImmediatePropagation()}.bind(this)));this.own(v(this,"click",function(){this.toggleDropDown(!0)}.bind(this)))},openDropDown:function(){this.inherited(arguments);
var k=this.dropDown;if(k){h.add(k.domNode,"cloudOEComboBoxMenu");var y=c.get(k.domNode.parentNode,"top"),v=c.get(k.domNode.parentNode,"left");c.set(k.domNode.parentNode,"top",y-28+"px");c.set(k.domNode.parentNode,"left",v-10+"px");var x=this.store.get(this.item?this.item.id:0);g(".dijitMenuItem",k.domNode).forEach(function(c){var g=n.get(c,"item")||"";x&&c.innerHTML===x[this.searchAttr]||!x&&"0"===g?(h.add(c,"selectedMenuItem"),p.create("span",{"class":"selectedIcon",innerHTML:"\x26nbsp;"},c,"first")):
p.create("span",{"class":"searchIcon",innerHTML:"\x26nbsp;"},c,"first")}.bind(this))}}})})},"cloudOE/panes/CreateAppPlatformPane":function(){define("dojo/_base/declare dojo/_base/lang dojo/query dojo/dom-attr dojo/dom-class dojo/dom-construct ../utils/coremetrics ../ServerConnection dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ./_WizardPane ../utils/apps dojo/text!./templates/CreateAppPlatformPane.html dojo/i18n!../nls/resources".split(" "),function(k,n,h,p,c,g,v,y,u,z,w,x,s,r){return k([w,
u,z],{templateString:s,navigatorLabel:r.createAppPlatformNaviTitle,navigatorId:"platformPane",resources:r,platformType:null,platformTypes:x.PLATFORM_TYPES,constructor:function(){},setContext:function(c){this.context=c;this.platformType=c.platformType;this.orgGuid=c.orgGuid;this.spaceGuid=c.spaceGuid},pageComplete:function(){return this.platformType?!0:!1},getPlatformSelection:function(){return this.platformType},_onNextClick:function(f){this.platformType=p.get(f.currentTarget,"data-cloudoe-apptype");
this.context.platformType=this.platformType;v.onSelectAppTemplateType(this.orgGuid,this.spaceGuid,this.platformType);h(".appPlatformCard",this.domNode).removeClass("selected");c.add(f.currentTarget,"selected");this.pageComplete()&&this.forward()}})})},"cloudOE/actions/CreateAppTemplateAction":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojox/html/entities dojo/promise/all dojo/cookie dojo/Deferred ../ServerConnection ../RuntimeManager ../panes/accountManagement/AccountManager ../panes/AppDetails ../utils/apps ./_Action ./ChangeAppStateAction ../utils/coremetrics ../utils/_ServiceHelper ../utils/storage ../utils/spaces dojo/i18n!../nls/resources".split(" "),
function(k,n,h,p,c,g,v,y,u,z,w,x,s,r,f,B,m,t,e){return k([s,B],{_autoStart:!0,run:function(b,c){!b||!b.appTemplateData?console.error("Invalid context for action."):(this.showDashboardOnFail=c,this.context=b,this.owner=b.owner,this.ownerNavBar=b.ownerNavBar,this.template=b.appTemplateData,this.initialSelectionContext=b.initialSelectionContext,b.isNewCreateWizard&&(b.data.isNewCreateWizard=!0),this.standby=u.createStandby(this.owner.domNode),this.ownerNavBar&&(this.navBarStandby=u.createStandby(this.ownerNavBar.domNode)),
(z.isAccountServicesAvailable()?z.isOwningAccountInactive(b.data.org_guid):(new v).resolve(!1)).then(function(c){c?(c=n.replace(e.cannotCreateAppAccount,[p.encode(b.data.name)]),this.navBarStandby&&u.destroyStandby(this.navBarStandby),u.handleError(null,c,this.standby,e.createAppTitle)):this.createApplication(b.data)}.bind(this)))},createApplication:function(b){var g=x.isBoilerplateTemplate(this.template)?"boilerplate":"application";f.createActionStart(this.context.appTemplateData.id,this.context.appTemplateData.name,
g);var d=b.name,l=b.org_guid,k=b.space_guid,s,a;s=x.getDefaultAppIcons();s={description:b.description,space_guid:b.space_guid,metadata:s};s.applicationName=d;s.host=b.host;s.domain_guid=b.domain_guid;s.servicePlans=b.servicePlans;a=e.cannotCreateApp;s=y.createAppFromTemplate(b.templateId,s);t.setCreatingAppTempCount(1);s.then(function(b){var s=b.app_guid;b=[y.getAppSummary(s),y.getPublicInfo()];c(b).then(function(a){var b=a[0];f.createActionComplete(this.context.appTemplateData.id,this.context.appTemplateData.name,
g);u.destroyStandby(this.standby);this.navBarStandby&&u.destroyStandby(this.navBarStandby);t.setCreatingAppTempCount(-1);this._autoStart&&(x.setAppCreating(s,!0),x.setAceState(s,{state:"STAGING",toState:"RUNNING"}));u.selectedSpace!==k&&h.publish("cloudOE/changeSpace",{orgGuid:l,spaceGuid:k});m.setItem(k+":stale-space-summary-data",!0,{local:!1});h.publish("cloudOE/createApp",{source:this,appGuid:s,orgGuid:l,spaceGuid:k,appName:d,appData:b,template:this.template});!0===this.template.service&&h.publish("cloudOE/createServiceOffering",
{source:this,appGuid:s,orgGuid:l,spaceGuid:k,appName:d});this._autoStart&&(this.template.runtime||!x.isBoilerplateTemplate(this.template))&&y.getPublicInfo().then(function(a){this.appCreateInstancePollingStartInterval=a.appCreateInstancePollingStartInterval;a=new r;setTimeout(a.run({appData:b,state:"STARTED",isNew:!0}),this.appCreateInstancePollingStartInterval)}.bind(this),function(a){u.showErrorMessage(e.cannotRetrieveInfo,a)});var c={appGuid:s,appName:d,appData:b,orgGuid:l,spaceGuid:k,_itemCreated:!0};
a[1].useDeploymentPane&&n.mixin(c,{templateId:this.context.appTemplateData.id,detailType:"runtime",paneId:"6"});u.showMainPane(u.mainPanes.DASHBOARD,c)}.bind(this),function(b){var c=n.replace(a,[p.encode(d)]);this.navBarStandby&&u.destroyStandby(this.navBarStandby);t.setCreatingAppTempCount(-1);u.handleError(b,c,this.standby,e.createAppTitle);this.showDashboardOnFail&&u.showMainPane(u.mainPanes.DASHBOARD,{orgGuid:l,spaceGuid:k})}.bind(this))}.bind(this),function(c){var f=n.replace(a,[p.encode(d)]);
this.navBarStandby&&u.destroyStandby(this.navBarStandby);t.setCreatingAppTempCount(-1);b.isNewCreateWizard&&y.getCFErrorCode(c)===y.ERROR_CODES.ROUTE_HOST_TAKEN?(this.standby&&u.destroyStandby(this.standby),h.publish("cloudOE/diplicatedHostNameError")):(u.handleError(c,f,this.standby,e.createAppTitle),this.showDashboardOnFail&&u.showMainPane(u.mainPanes.DASHBOARD,{orgGuid:l,spaceGuid:k}))}.bind(this))}})})},"cloudOE/panes/CreateAppDeployPane":function(){define("dojo/_base/declare dojo/_base/lang dojo/query dojo/request/xhr dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/topic dojo/on dojo/promise/all ../utils/coremetrics ../ServerConnection dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ./_WizardPane ../utils/apps ../widgets/CardTabContainer ../widgets/MessageArea ../RuntimeManager dojo/text!./templates/CreateAppDeployPane.html dojo/i18n!../nls/resources".split(" "),
function(k,n,h,p,c,g,v,y,u,z,w,x,s,r,f,B,m,t,e,b,C){return k([m,f,s,r],{templateString:b,navigatorLabel:C.createAppDeployNaviTitle,navigatorId:"deployPane",resources:C,deployType:null,deployTypes:B.DEPLOY_TYPES,constructor:function(){},_adjustCardContent:function(b,c){"git"===c.type&&v.place("\x3ciframe class\x3d'embeddedFrame'\x3e\x3c/iframe\x3e",b.contentNode);"github"===c.type&&v.place("\x3ciframe class\x3d'embeddedFrame'\x3e\x3c/iframe\x3e",b.contentNode);"cf"===c.type&&(h(".pre",b.doc).addClass("codeblock"),
this._addSetupExtraWord(b),this._addViewDocLink(b))},_addSetupExtraWord:function(b){b=h(".stepSection .info",b.contentNode).first()[0];v.create("span",{"class":"cloudOEBoldFont",innerHTML:C.cfGettingStartedContentSetupCF},b,"first")},_addViewDocLink:function(b){if(this.docURL){var c=v.create("div",{"class":"cardContentLink",innerHTML:C.viewFullDocumentation});this.own(u(c,"click",function(){window.open(this.docURL)}.bind(this)));b._addButton(c);b=h(".buttonContainer",b.domNode)[0];g.add(b,"docButtonContainer")}},
pageComplete:function(){return this.deployType?!0:!1},getDeploySelection:function(){return this.deployType},postCreate:function(){this.inherited(arguments);var b=[];b.push({card:{imgClass:"i-octocat",coremetricsID:"github",title:n.replace(C.deployGithubTitle,["class\x3d'cloudOEBoldFont'"]),desc:C.deployGithubDesc,selected:"github"===this.selectedCardType,type:"github"},context:n.mixin({type:"github"})});b.push({card:{imgClass:"i-git-50",coremetricsID:"git",title:n.replace(C.deployGitTitle,["class\x3d'cloudOEBoldFont'"]),
desc:C.deployGitDesc,selected:"git"===this.selectedCardType,type:"git"},context:n.mixin({type:"git"})});var c=[x.getCFDomain(),x.getContentResource("commandLine",!0),e.getSelectedSpaceInfo(),x.getPublicInfo()];z(c).then(function(c){var f=e.getSelectedOrg();this.docURL=c[3].docURL;f={user_ID:x.getCurrentUser().email,space_name:c[2]&&c[2].name,DomainName:c[0]&&c[0].domain,org_name:f&&f.entity.name};b.push({card:{imgClass:"i-command-line",coremetricsID:"cf",title:n.replace(C.deployCFTitle,["class\x3d'cloudOEBoldFont'"]),
desc:C.deployCFDesc,selected:"cf"===this.selectedCardType,type:"cf"},doc:c[1],context:n.mixin({type:"cf"},f)});this.render(b)}.bind(this),function(c){this.render(b);console.log("Failed to read CF page content.")}.bind(this))},setContext:function(b){this.context=b;b.deployType!==this.selectedCardType&&(this.selectedCardType=this.deployType=b.deployType,this.updateSelection())},getContext:function(){return this.context},updateSelection:function(){this.selectedCardType&&this.cards&&this.cards.some(function(b,
c){b.type===this.selectedCardType&&this._setSelectedIndex(c)}.bind(this))},render:function(){this.inherited(arguments);this.updateSelection()},_setSelectedChild:function(b,c){this.inherited(arguments);this.context.deployType=this.deployType=this.selectedCardType;this.wizard.addRoute(this.context);var e=h(".embeddedFrame",c)[0];if(e&&!e.src){var f=null,f=function(a){a.source===e.contentWindow&&a.data&&(a=JSON.parse(a.data),"github"===a.type?(window.removeEventListener("message",f),a=a.data,this.context.projectName=
a.name,this.context.githubUrl=a.clone_url,this.forward()):"githubAuth"===a.type?(window.removeEventListener("message",f),window.location=a.data+"?ref\x3d"+encodeURIComponent(window.location.href)):"git"===a.type&&(window.removeEventListener("message",f),a=a.data,this.context.projectName=a.projectName,this.context.gitUrl=a.gitRepo,this.context.pipelineUrl=a.pipelineUrl,this.forward()))}.bind(this);window.addEventListener("message",f)}"cf"!==this.selectedCardType&&!e.src&&("github"===this.selectedCardType?
x.getRepoGORPIFrame().then(function(a){e.src=a.baseUrl+"/code/cfui/createProject/createProject-getCode-github.html"}):"git"===this.selectedCardType&&x.getRepoGORPIFrame().then(function(a){var b=a.baseUrl+"/code/cfui/createProject/createProject-getCode-git.html#",b=b+encodeURIComponent(JSON.stringify({org:{Guid:this.context.orgGuid},space:{Guid:this.context.spaceGuid},region:{Url:a.params.apiUrl}}));e.src=b}.bind(this)));this._resizePane()},_swapCard:function(b){this.inherited(arguments);"cf"===this.selectedCardType?
(this.cfCreateHandler=y.subscribe("cloudOE/newAppCreated",function(b){this.handleCFAppCreate(b)}.bind(this)),this.own(this.cfCreateHandler)):this.cfCreateHandler&&(this.cfCreateHandler.remove(),this.cfCreateHandler=void 0)},showErrorMessage:function(b,c){var e=h("cloudOEMessageArea",b);e?(g.remove(e[0],"dijitHidden"),g.add(c,"dijitHidden")):(e=new t,e.startup(),v.place(e.domNode,b,0),g.add(c,"dijitHidden"),e.show("Error reaching Jazz Hub.  Please try again later.",t.types.ERROR))},hideMessageArea:function(b,
c){var e=h("cloudOEMessageArea",b);e&&(g.add(e[0],"dijitHidden"),g.remove(c,"dijitHidden"))},handleCFAppCreate:function(b){this.cfCreateHandler.remove();this.cfCreateHandler=void 0;"none"!==window.getComputedStyle(this.domNode.parentNode).display&&(n.mixin(b,{detailType:"runtime",paneId:"6"}),e.showMainPane(e.mainPanes.DASHBOARD,b))}})})},"cloudOE/panes/CreateAppDeploymentPane":function(){define("dojo/_base/declare dojo/_base/lang dojo/query dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/topic ../utils/coremetrics ../ServerConnection dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ./_WizardPane ../utils/apps ../RuntimeManager dojo/text!./templates/CreateAppDeploymentPane.html dojo/i18n!../nls/resources".split(" "),
function(k,n,h,p,c,g,v,y,u,z,w,x,s,r,f,B){return k([x,z,w],{templateString:f,navigatorLabel:B.createAppDeploymentNaviTitle,navigatorId:"deploymentPane",resources:B,constructor:function(){},pageComplete:function(){return!1},_onNextClick:function(c){},postCreate:function(){this.inherited(arguments)},setContext:function(c){this.context=c;this.createHandler=v.subscribe("cloudOE/newAppCreated",function(c){this.handleAppCreate(c)}.bind(this));this.own(this.createHandler);var f=this.embeddedFrame;f.src||
u.getRepoGORPIFrame().then(function(c){var b=c.baseUrl+"/code/cfui/createProject/createProject-deploy.html#",g={};g.org={Guid:this.context.orgGuid};g.space={Guid:this.context.spaceGuid};g.region={Url:c.params.apiUrl,Id:c.params.regionId};g.projectName=this.context.projectName;g.appName=this.context.projectName;g.host=this.context.projectName;g.githubUrl=this.context.githubUrl;this.context.gitUrl&&(g.project={projectName:this.context.projectName,gitRepo:this.context.gitUrl,pipelineUrl:this.context.pipelineUrl});
b+=encodeURIComponent(JSON.stringify(g));f.src=b}.bind(this))},handleAppCreate:function(c){c.appData&&c.appData.name!==this.context.projectName||(this.createHandler.remove(),this.createHandler=void 0,"none"!==window.getComputedStyle(this.domNode.parentNode).display&&(n.mixin(c,{detailType:"runtime",paneId:"6"}),r.showMainPane(r.mainPanes.DASHBOARD,c)))}})})},"cloudOE/panes/SampleAppPane":function(){define("dojo/_base/declare dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/layout/ContentPane ../actions/CreateSampleAppAction dojo/i18n!../nls/resources dojo/text!./templates/SampleAppPane.html".split(" "),
function(k,n,h,p,c,g,v){return k([p,n,h],{templateString:v,baseClass:"cloudOESampleAppPane",resources:g,constructor:function(c){this.set("context",c)},postCreate:function(){this.inherited(arguments)},buildRendering:function(){this.inherited(arguments)},_setContextAttr:function(g){this.inherited(arguments);g.domNode=this.domNode;this.createSampleAppAction||(this.createSampleAppAction=new c,this.createSampleAppAction.run(g))}})})},"cloudOE/actions/CreateSampleAppAction":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/promise/all dojox/html/entities ../ServerConnection ../RuntimeManager ../Utils ../utils/apps ./_Action ../utils/coremetrics ../panes/MobilePlatformData ./CreateAppTemplateAction dojo/i18n!../nls/resources".split(" "),
function(k,n,h,p,c,g,v,y,u,z,w,x,s,r){return k([z],{_autoStart:!0,DEFAULT_APP_NAME_SUFFIX:" Bluelist Sample",MAX_SERVICE_NAME_LENGTH:50,run:function(c){!c||!c.createSample?(console.error("Invalid context for action."),this._gotoDashboard()):c.spaceGuid?this.setContext(c):v.handleError(null,r.cannotCreateAppSpace,this.standby,r.createAppTitle).then(function(){this._gotoDashboard()}.bind(this))},setContext:function(c){this.context=c;this.spaceGuid=c.spaceGuid;this.orgGuid=c.orgGuid;this.domNode=c.domNode;
this.standby=v.createStandby(this.domNode);this.spaceGuid&&this._initDomainSelection()},_initDomainSelection:function(){g.getSpaceDomains(this.orgGuid).then(function(c){if((c=c.resources)&&1<=c.length)this.domainGuid=c[0].metadata.guid,this._createSampleApp()}.bind(this),function(c){v.destroyStandby(this.standby);v.handleError(c,r.cannotRetrieveInfo);this._gotoDashboard()})},_createSampleApp:function(){this.template={};g.getPublicInfo().then(function(c){this.mobileTypes=c.mobileTypes;var h=[];x.some(function(c){if(c.id===
this.context.template&&this.mobileTypes)return c=n.getObject(c.mobileType,!1,this.mobileTypes),this.template.id=c.boilerplate,this.template.redirect=c.sample,c.mainServices&&h.push(c.mainServices[0]),c.cloudantNoSqlServices&&h.push(c.cloudantNoSqlServices[0]),c.pushServices&&h.push(c.pushServices[0]),!0}.bind(this));if(this.template.id){this.appName="";if(c=g.getCurrentUser())this.appName=this._getAppNameFromUserName(c.email);c=this.MAX_SERVICE_NAME_LENGTH-1-this._findServiceNameMaxLength(h);this._getValidAppName(this.appName,
c)}else this._gotoDashboard()}.bind(this),function(c){v.destroyStandby(this.standby);this._gotoDashboard()})},_findServiceNameMaxLength:function(c){var g=0;c.forEach(function(c){c.length>g&&(g=c.length)});return g},_transformSpaces:function(c){c=c.toLowerCase();c=c.replace(/(^\s*)|(\s*$)/g,"");return c.replace(/\s/g,"-")},_getAppNameFromUserName:function(c){var g=c,h=c.indexOf("@");-1!=h&&(g=c.substr(0,h));g=g.replace(/[^A-Za-z0-9\s\-]/g,"-");return g=g.replace(/(^\-*)|(\-*$)/g,"")},_getValidAppName:function(c,
h){var k={domain_guid:this.domainGuid},k=[g.getSpaceApps(this.spaceGuid,{"inline-relations-depth":0}),g.getRoutes(k)];p(k).then(function(g){var e=g[0]&&g[0].resources?g[0].resources:[];g=g[1];var b=[];g&&g.resources&&g.resources.forEach(function(c){c.entity&&c.entity.host&&b.push(c.entity.host.toUpperCase())}.bind(this));this.appName=this._getNextUniqueAppName(c,e,b,h);this.hostName=this._transformSpaces(this.appName);this._createSampleGivenUserName()}.bind(this),function(c){v.destroyStandby(this.standby);
v.handleError(c,r.cannotRetrieveAppsAndServices);this._gotoDashboard()})},_getNextUniqueAppName:function(c,g,h,k){k-=this.DEFAULT_APP_NAME_SUFFIX.length;for(var e=c.substring(0,k)+this.DEFAULT_APP_NAME_SUFFIX,b=this._isExistingAppName(e,g,h),n=0;b;)n+=1,e=n.toString(),e=c.substring(0,k-e.length)+e+this.DEFAULT_APP_NAME_SUFFIX,b=this._isExistingAppName(e,g,h);return e},_isExistingAppName:function(c,g,h){var k=!1;g.some(function(e){return 0===y.strCompareIgnoreCase(c,e.entity.name)?k=!0:!1}.bind(this));
k||(g=this._transformSpaces(c),-1<h.indexOf(g.toUpperCase())&&(k=!0));return k},_createSampleGivenUserName:function(){var c={owner:this};c.data={templateId:this.template.id,name:this.appName,org_guid:this.orgGuid,space_guid:this.spaceGuid};c.appTemplateData=this.template;c.mobileRedirect=this.template.redirect;this.template.doesNotSupportURL||(c.data.host=this.hostName,c.data.domain_guid=this.domainGuid);v.destroyStandby(this.standby);(new s).run(c,!0)},_gotoDashboard:function(){v.showMainPane(v.mainPanes.DASHBOARD,
{orgGuid:this.orgGuid,spaceGuid:this.spaceGuid,clear:!0})}})})},"cloudOE/panes/PublishAppServicePane":function(){define("dojo/_base/declare dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/layout/ContentPane ../actions/CreateAppTemplateReducedAction ../actions/CreateServiceReducedAction dojo/i18n!../nls/resources dojo/text!./templates/SampleAppPane.html".split(" "),function(k,n,h,p,c,g,v,y){return k([p,n,h],{templateString:y,baseClass:"cloudOEPublishAppService",resources:v,constructor:function(c){this.set("context",
c)},postCreate:function(){this.inherited(arguments)},buildRendering:function(){this.inherited(arguments)},_setContextAttr:function(h){this.inherited(arguments);h.domNode=this.domNode;this.publishAppServiceAction||("app"===h.publishCreatedAppService?(this.publishAppServiceAction=new c,this.publishAppServiceAction.run(h)):"service"===h.publishCreatedAppService&&(this.publishAppServiceAction=new g,this.publishAppServiceAction.run(h)))}})})},"cloudOE/actions/CreateAppTemplateReducedAction":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojox/html/entities dojo/promise/all dojo/cookie dojo/Deferred ../ServerConnection ../RuntimeManager ../panes/AppDetails ../utils/apps ./_Action ./ChangeAppStateAction ../utils/coremetrics ../utils/_ServiceHelper ../utils/storage dojo/i18n!../nls/resources".split(" "),
function(k,n,h,p,c,g,v,y,u,z,w,x,s,r,f,B,m){return k([x,f],{_autoStart:!0,run:function(f,e){if(!f||!f.appData)console.error("Invalid context for action.");else{this.showDashboardOnFail=e;this.standby=u.createStandby(f.domNode);f=JSON.parse(f.appData);r.createActionStart(f.appTemplateDataId,f.appTemplateDataName,f.dataType);var b=f.appGuid,g=f.orgGuid,d=f.dataType,k=f.appTemplateDataId,q=f.appTemplateDataName,v=f.mobileRedirect,a=f.spaceGuid,x=f.applicationName,z=f.hasSource,I=f.hasRuntime,N=f.hasService,
O=m.cannotCreateApp,E=[y.getAppSummary(b),y.getPublicInfo()];c(E).then(function(c){var e=c[1].useDeploymentPane,f=c[0];r.createActionComplete(k,q,d);u.destroyStandby(this.standby);if(this._autoStart=this._autoStart&&(!!v||!e))w.setAppCreating(b,!0),w.setAceState(b,{state:"STAGING",toState:"RUNNING"});u.selectedSpace!==a&&h.publish("cloudOE/changeSpace",{orgGuid:g,spaceGuid:a});c={appGuid:b,appName:x,appData:f,orgGuid:g,spaceGuid:a,_itemCreated:!0};e&&n.mixin(c,{templateId:k,detailType:"runtime",paneId:"6"});
u.showMainPane(u.mainPanes.DASHBOARD,c);B.setItem(a+":stale-space-summary-data",!0,{local:!1});h.publish("cloudOE/createApp",{source:this,appGuid:b,orgGuid:g,spaceGuid:a,appName:x,appData:f});!0===N&&h.publish("cloudOE/createServiceOffering",{source:this,appGuid:b,orgGuid:g,spaceGuid:a,appName:x});this._autoStart&&(I||!this.isBoilerplateTemplate(z,I))&&y.getPublicInfo().then(function(a){this.appCreateInstancePollingStartInterval=a.appCreateInstancePollingStartInterval;a=new s;setTimeout(a.run({appData:f,
state:"STARTED",isNew:!0}),this.appCreateInstancePollingStartInterval)}.bind(this),function(a){u.showErrorMessage(m.cannotRetrieveInfo,a)})}.bind(this),function(b){var c=n.replace(O,[p.encode(x)]);u.destroyStandby(this.standby);u.handleError(b,c,this.standby,m.createAppTitle);this.showDashboardOnFail&&u.showMainPane(u.mainPanes.DASHBOARD,{orgGuid:g,spaceGuid:a})}.bind(this))}},isBoilerplateTemplate:function(c,e){return c&&e||!c&&!e}})})},"cloudOE/actions/CreateServiceReducedAction":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojox/html/entities dojo/promise/all dojo/cookie dojo/Deferred ../ServerConnection ../RuntimeManager ../panes/AppDetails ../utils/apps ./_Action ./ChangeAppStateAction ../utils/coremetrics ../utils/_ServiceHelper ../utils/_AppStateHelper ../utils/storage dojo/i18n!../nls/resources".split(" "),
function(k,n,h,p,c,g,v,y,u,z,w,x,s,r,f,B,m,t){return k([x,f],{run:function(c){!c||!c.serviceData?console.error("Invalid context for action."):(c=JSON.parse(c.serviceData),this.publishService(c))},publishService:function(e){var b=e.spaceGuid,f=e.appGuid,d=e.appName,g=e.serviceGuid,k=e.servicePlanGuid,p=e.serviceInstanceGuid,a=e.serviceInstanceName,s=e.serviceBindingGuid,t=e.reuseServiceInstance,v={},w=!!e.newAppCreated,x=this,z=u.createStandby(e.domNode),L=u.getSelectedOrgGuid(),G=f&&"doNotBindToApp"!==
f;G?(e=[y.getSpaceSummary(b),y.getAppSummary(f),y.getServiceOffering(g),y.getServiceInstance(p),y.getServiceBinding(s)],m.setItem(f+":stale-app-summary-data",!0,{local:!1}),m.setItem(b+":stale-space-summary-data",!0,{local:!1}),c(e).then(function(c){var e=c[1],g=c[2],l=c[4],m=g.id,s=g.name;c={appGuid:f,appName:d,orgGuid:L,spaceGuid:b,servicePlanGuid:k,serviceOfferingData:g,serviceInstanceData:c[3],serviceInstanceGuid:p,serviceInstanceName:a};t||(v["cloudOE/createServiceInstance"]=[this._getCreateEvent(c,
x,g)]);G&&(r.createActionComplete(m,s,"service"),l=n.mixin({},c,{serviceBindingGuid:l.metadata.guid,serviceBindingData:l,isNewServiceInstance:!0}),u.selectedSpace!==b&&h.publish("cloudOE/changeSpace",{orgGuid:L,spaceGuid:b}),v["cloudOE/createServiceBinding"]=[this._getCreateEvent(l,x,g)],this._handleSuccessfulProvision(G,z,l,v),w||(this.restartAppOnBindService?this:new B).restartAppOnBindService(e,a,null))}.bind(this))):(e=[y.getSpaceSummary(b),y.getServiceOffering(g),y.getServiceInstance(p)],c(e).then(function(a){var c=
a[1];a=a[2];r.createActionComplete(c.id,c.name,"service");a={orgGuid:L,spaceGuid:b,serviceInstanceData:a,servicePlanGuid:k,serviceOfferingData:c,serviceInstanceGuid:a.metadata.guid,serviceInstanceName:a.entity.name,isStandaloneInstance:!0};u.selectedSpace!==b&&h.publish("cloudOE/changeSpace",{orgGuid:L,spaceGuid:b});v["cloudOE/createServiceInstance"]=[this._getCreateEvent(a,x,c)];this._handleSuccessfulProvision(G,z,a,v,c)}.bind(this)))}})})},"url:cloudOE/panes/templates/AppDetails.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" class\x3d"${baseClass}"\x3e\n\t\x3c!-- Action Bar --\x3e\n\t\x3cheader class\x3d"cloudOEActionBar" data-dojo-attach-point\x3d"actionBar"\x3e\n\t\t\x3c!-- DockedActionBarSelector --\x3e\n\t\t\x3cdiv data-dojo-type\x3d"cloudOE/widgets/DockedActionBarSelector" data-dojo-attach-point\x3d"dockedNavArea" data-dojo-props\x3d"backButtonVisible: true"\x3e \t\t\n\t\t\t\x3c!-- NavigationTree --\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"navigationTreeNode" class\x3d"cloudOEActionBarNavigationTreeNode"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\n\t\t\x3cdiv class\x3d"cloudOEActionBarContentArea" data-dojo-attach-point\x3d"actionBarContentArea"\x3e\n\t\t\t\x3c!-- This will get filled in by action bar content from child pane. --\x3e\n\t\t\x3c/div\x3e\n\n\t\x3c/header\x3e\n\t\x3c!-- Center Content --\x3e\n\t\x3cdiv class\x3d\'l-remaining-width cloudOEDockedOpenNav\' data-dojo-attach-point\x3d\'paneStack\'\x3e\n\t\t\x3csection class\x3d"stackedPane visible" id\x3d"overviewSection_${id}"\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d\'overviewContentPane\' data-dojo-type\x3d\'cloudOE/panes/AppDetailsOverview\' data-dojo-props\x3d\'_itemCreated: ${_itemCreated}\'\x3e\x3c/div\x3e\n\t\t\x3c/section\x3e\n\t\t\n\t\t\x3csection class\x3d"stackedPane" id\x3d"runtimeSection_${id}"\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d\'runtimeContentPane\' data-dojo-type\x3d\'cloudOE/panes/AppDetailsRuntime\'\x3e\x3c/div\x3e\n\t\t\x3c/section\x3e\n\t\t\n\t\t\x3csection class\x3d"stackedPane getStartPane" id\x3d"gettingstartedSection_${id}"\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d\'gettingStartedContentPane\' data-dojo-type\x3d\'cloudOE/panes/AppDetailsGettingStarted\'\x3e\x3c/div\x3e\n\t\t\x3c/section\x3e\n\t\t\n\t\t\x3csection class\x3d"stackedPane" id\x3d"serviceSection_${id}"\x3e\n\t\t\t\x3c!--  An instance of ServiceDetailsPane will be created and managed by AppDetails for each service binded to the App. --\x3e\n\t\t\x3c/section\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:cloudOE/panes/templates/AppDetailsOverviewBar.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" class\x3d"${baseClass} tile tile-background summary"\x3e\n\t\x3cdiv class\x3d"appBarInfo"\x3e\n\t\t\x3c!-- Service instance name --\x3e\n\t\t\x3cdiv class\x3d"appBarTitle"\x3e\n\t\t\t\x3cp data-dojo-attach-point\x3d"mainAppName" class\x3d"cloudOETextWithEllipsis"\x3e${resources.navOverview}\x3c/p\x3e\n\t\t\x3c/div\x3e\n\n\t\t\x3c!-- description --\x3e\n\t\t\x3cdiv class\x3d"appBarDescription"\x3e\n\t\t\t\x3cp data-dojo-attach-point\x3d"mainAppDescription" class\x3d"cloudOETextWithEllipsis"\x3e\x3c/p\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"url:cloudOE/panes/templates/AppDetailsOverview.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" class\x3d"${baseClass}"\x3e\n\t\x3cdiv class\x3d"appDetailsOverview_Header"\x3e\n\t\t\x3csection\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d\'appDetailsHeader\' data-dojo-type\x3d\'cloudOE/panes/AppDetailsHeader\' data-dojo-props\x3d\'_itemCreated: ${_itemCreated}\'\x3e\x3c/div\x3e\n\t\t\x3c/section\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"appDetailsOverview_Health right-content"\x3e\n\t\t\x3cdiv class\x3d"tile-segmented"\x3e\n\t\t\t\x3cdiv class\x3d"healthStatusContainer tile-segment"\x3e\n\t\t\t\t\x3cdiv class\x3d"healthLabel" data-dojo-attach-point\x3d"healthLabel"\x3e${resources.appHealth}\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"healthCircleStatus" data-dojo-attach-point\x3d"healthCircleStatus" data-dojo-attach-event\x3d"mouseover:_hoverOnHealth"\x3e\n\t\t\t\t\t\x3cdiv class\x3d"healthStatus" id\x3d"healthStatus" data-dojo-attach-point\x3d"healthStatus"\x3e\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"healthStatusActionContainer ace-is-not-developer app-no-runtime tile-segment" data-dojo-attach-point\x3d"healthStatusAction"\x3e\n\t\t\t\t\x3cdiv class\x3d"restartBtn actionButton" data-dojo-attach-point\x3d"restartAppButton" data-dojo-attach-event\x3d"onClick:_onRestartAppClick"\x3e${resources.restartApp}\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"startBtn actionButton" data-dojo-attach-point\x3d"startAppButton" data-dojo-attach-event\x3d"onClick:_onStartStopAppClick"\x3e${resources.startBtn}\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"stopBtn actionButton" data-dojo-attach-point\x3d"stopAppButton" data-dojo-attach-event\x3d"onClick:_onStartStopAppClick"\x3e${resources.stopApp}\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\t\n\t\x3cdiv class\x3d"appDetailsOverview_ActivityLog right-content" data-dojo-attach-point\x3d\'activityLog\' data-dojo-type\x3d\'cloudOE/panes/AppActivity\'\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"appDetailsOverview_ServiceUsage right-content"\x3e\n\t\t\x3cdiv class\x3d"appDetailsOverview_EstimateCost dijitHidden" data-dojo-attach-point\x3d"estimateCost" data-dojo-attach-event\x3d"onClick:_onEstimateCostClick"\x3e\n\t\t\t\x3cdiv\x3e${resources.appEstimateCost}\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"i-forward-arrow-blue"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv data-dojo-type\x3d"cloudOE/widgets/RuntimeCardBar" class\x3d"appDetailsOverview_Runtime left-content" data-dojo-attach-point\x3d"runtimeCardBar"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"appDetailsOverview_Service left-content"\x3e\n\t\t\x3c!-- Section for "regular" services --\x3e\n\t\t\x3csection class\x3d"detailsServiceSection" data-dojo-attach-point\x3d\'servicesSection\'\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d\'servicesContent\' data-dojo-type\x3d\'cloudOE/panes/AppDetailsServices\' data-dojo-props\x3d"serviceType:\'service\'"\x3e\x3c/div\x3e\n\t\t\x3c/section\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:cloudOE/widgets/templates/RuntimeCardBar.html":'\x3cdiv class\x3d"appDetailsOverview_Runtime cloudOEAppDetailsOverview"\x3e\n    \t\x3csection class\x3d"detailsRuntimeSection dijitHidden" data-dojo-attach-point\x3d\'runtimeSection\'\x3e\n\t\t\t\x3cdiv class\x3d"tile tile-background" data-dojo-attach-point\x3d\'runtimeSummaryControl\'\x3e\n\t\t\t\t\x3c!-- TODO: remove inline styles --\x3e\n\t\t\t\t\x3cdiv class\x3d"tile-segmented" \x3e\n\t\t\t\t\t\x3cdiv class\x3d"tile-segment bordered runtimeInfo" data-dojo-attach-point\x3d"runtimeCard" style\x3d"cursor: pointer;"\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"runtimeIcon" data-dojo-type\x3d"cloudOE/widgets/TileListArea" data-dojo-attach-point\x3d"runtimeTileArea"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"runtimeName" data-dojo-attach-point\x3d"runtimeName"\x3e\x3c/div\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"tile-segment runtimeInstance"\x3e\n\t\t     \t\t\t\t\x3cdiv class\x3d"top" data-dojo-attach-point\x3d"instancesLabel"\x3e${resources.instancesLabel}\x3c/div\x3e\n\t\t     \t\t\t\t\x3cdiv class\x3d"spinner bottom"\x3e\n\t\t     \t\t\t\t\t\x3cinput \tdata-dojo-type\x3d"cloudOE/widgets/StyledNumberSpinner" class\x3d"${baseClass}Spinner"\n\t\t\t\t\t\t\t\t\tdata-dojo-attach-point\x3d"instancesSpinner" name\x3d"instancesSpinner" required\x3d"true" intermediateChanges\x3d"true"\x3e\n\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"tile-segment memoryQuota"\x3e  \n\t\t     \t\t\t\t\x3cdiv class\x3d"top" data-dojo-attach-point\x3d"memoryPerInstanceLabel"\x3e${resources.memoryPerInstanceLabel}\x3c/div\x3e\n\t\t     \t\t\t\t\x3cdiv class\x3d"spinner bottom"\x3e\n\t\t\t     \t\t\t\t\x3cinput \tdata-dojo-type\x3d"cloudOE/widgets/MemorySpinner" class\x3d"${baseClass}Spinner memory"\n\t\t\t\t\t\t\t\t\tdata-dojo-attach-point\x3d"memorySpinner" name\x3d"memorySpinner" required\x3d"true" intermediateChanges\x3d"true"\x3e\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"memoryUnit" data-dojo-attach-point\x3d"memoryUnit"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"tile-segment memoryCtl"\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"memoryButtons"\x3e\n\t\t\t\t\t\t\t\x3cdiv class\x3d"memoryInfo"\x3e\n\t\t\t     \t\t\t\t\x3cdiv class\x3d"top" data-dojo-attach-point\x3d"availableMemoryLabel"\x3e${resources.availableMemoryLabel}\x3c/div\x3e\n\t\t\t     \t\t\t\t\x3cdiv data-dojo-attach-point\x3d"availableCell" class\x3d\'availableMemoryCell\' \x3e\n\t\t\t     \t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"proposedTotalMemoryAvailableCell" class\x3d\'memoryTotal\' \x3e${resources.pendingDashes}\x3c/div\x3e\n\t\t\t     \t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"memoryLimitQuestion" class\x3d\'i-question-grey-small dijitHidden\'\n\t\t\t     \t\t\t\t\t \t data-dojo-attach-event\x3d"click:_memoryQuestionClick"\x3e\x3c/div\x3e\n\t\t\t     \t\t\t\t\x3c/div\x3e\n\t\t\t     \t\t\t\x3c/div\x3e\n\t\t     \t\t\t\t\x3cdiv data-dojo-attach-point\x3d"saveResetDiv" class\x3d"${baseClass}ButtonDiv UsageButtons"\x3e\n\t\t     \t\t\t\t\t\x3cinput type\x3d"button" class\x3d"btn btn-primary cloudOETextWithEllipsis" disabled\n\t\t\t\t\t\t\t            data-dojo-attach-point\x3d"saveButton" data-dojo-attach-event\x3d"onClick:_onSaveClick" disabled value\x3d"${resources.save}"\n\t\t\t\t\t\t\t            \x3e\t\n\t\t\t\t\t\t\t\t\x3cinput type\x3d"button" class\x3d"btn btn-secondary cloudOETextWithEllipsis" disabled\n\t\t\t\t\t\t\t            data-dojo-attach-point\x3d"resetButton" data-dojo-attach-event\x3d"onClick:_onResetClick"\n\t\t\t\t\t\t\t            value\x3d"${resources.reset}"\x3e\n\t\t\t\t\t\t    \x3c/div\x3e\n\t\t\t\t\t    \x3c/div\x3e\n\t\t\t\t\t    \x3cdiv data-dojo-attach-point\x3d"unsavedChangesMessageArea" \n\t\t\t\t\t    \t\tstyle\x3d"visibility:hidden;" class\x3d"cloudOEUnsavedChangeInlineMsg"\x3e${resources.unsavedChangesInline}\x3c/div\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/section\x3e\n\x3c/div\x3e',
"url:cloudOE/widgets/templates/AddRepositoryDialogContent.html":'\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"focusNode"\x3e\r\n\t\x3chr\x3e\r\n\t\x3ciframe class\x3d"cloudOEAppDetailsJazzHubIframe" data-dojo-attach-point\x3d"jazzHubIframe" name\x3d"jazzHubIframe"\x3e\x3c/iframe\x3e\r\n\x3c/div\x3e',"url:cloudOE/widgets/templates/AddToolchainDialogContent.html":'\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"focusNode"\x3e\r\n\t\x3chr\x3e\r\n\t\x3ciframe class\x3d"cloudOEAppDetailsToolchainSetupIframe" data-dojo-attach-point\x3d"toolchainSetupIframe" name\x3d"toolchainSetupIframe"\x3e\x3c/iframe\x3e\r\n\x3c/div\x3e',
"url:cloudOE/panes/templates/AppDetailsHeader.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" class\x3d"${baseClass}"\x3e\r\n\t\x3cdiv class\x3d"appHeaderContainer" data-dojo-attach-point\x3d\'appHeaderContainer\'\x3e\r\n\t\t\x3cdiv class\x3d"appIcon" data-dojo-attach-point\x3d"appIconContainer"\x3e\r\n\t\t\t\x3cimg src\x3d"${_blankImage}" data-dojo-attach-point\x3d"mainAppIcon"\x3e\r\n\t\t\x3c/div\x3e\r\n\t\t\x3cdiv class\x3d"appDetailsContainer" data-dojo-attach-point\x3d\'appDetailsContainer\'\x3e\r\n\t\t\t\x3cdiv class\x3d"appInfoContainer" data-dojo-attach-point\x3d\'appInfoContainer\'\x3e\r\n\t\t\t\t\x3cdiv class\x3d"appNameAndRoute"\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"appName cloudOETextWithEllipsis cloudOELightFont" data-dojo-attach-point\x3d"mainAppName"\x3e\x3c/div\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"appRoute cloudOEBoldFont" data-dojo-attach-point\x3d"routesDiv"\x3e\r\n\t\t\t\t\t\t\x3cdiv\x3e${resources.routeLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"routesInfo"\x3e\x3c/div\x3e\r\n\t\t\t\t\t\t\x3cdiv class\x3d"extraRoutesDropdown" data-dojo-attach-point\x3d"extraRoutesDropdown"\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"extraRoutes" data-dojo-attach-point\x3d"extraRoutes"\x3e\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"i-arrow-single-grey-down"\x3e\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"routes-menu" tabindex\x3d"0" data-dojo-attach-point\x3d"extraRoutesInfo"\x3e\x3c/div\x3e\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\x3cdiv class\x3d"routeEditIcon i-pencil-12px" data-dojo-attach-point\x3d"routeEditIcon"\x3e\x3c/div\x3e\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\x3c/div\x3e\r\n\t\t\t\x3cdiv class\x3d"appOptionContainer" data-dojo-attach-point\x3d\'appOptionContainer\'\x3e\r\n\t\t\t\t\x3cdiv class\x3d"mobileOption option" data-dojo-attach-point\x3d\'mobileOption\'\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"optionLabel"\x3e${resources.mobileOption}\x3c/div\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3cdiv class\x3d"gitOption option" data-dojo-attach-point\x3d\'gitOption\'\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"optionLabel addRepoButton" data-dojo-attach-point\x3d"addRepoButton"\r\n\t\t\t\t\t\tdata-dojo-attach-event\x3d"onClick:_onAddRepoButtonClick"\x3e${resources.addRepoButton}\x3c/div\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"gitRepoInfo" data-dojo-attach-point\x3d"appDetailsRepoUrlDiv"\x3e\r\n\t\t\t\t\t\t\x3cdiv class\x3d"optionLabel"\x3e${resources.gitURL}\x3c/div\x3e\r\n\t\t\t\t\t\t\x3ca class\x3d"optionLink linkUrl" data-dojo-attach-point\x3d"repositoryUrlText" href\x3d"#" target\x3d"_blank"\x3e\x3c/a\x3e\r\n\t\t\t\t\t\t\x3ca class\x3d"optionLabel editCodeOption" data-dojo-attach-point\x3d"repositoryLinkButton" href\x3d"#" target\x3d"_blank"\x3e${resources.editCode}\x3c/a\x3e\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3cdiv class\x3d"toolchainOption option" data-dojo-attach-point\x3d\'toolchainOption\'\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"optionLabel addToolchainButton" data-dojo-attach-point\x3d"addToolchainButton"\r\n\t\t\t\t\t\tdata-dojo-attach-event\x3d"onClick:_onAddToolchainButtonClick"\x3e${resources.addToolchainButton}\x3c/div\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"toolchainInfo" data-dojo-attach-point\x3d"appDetailsToolchainUrlDiv"\x3e\r\n\t\t\t\t\t\t\x3ca class\x3d"optionLabel viewToolchainOption" data-dojo-attach-point\x3d"toolchainLinkButton" href\x3d"#" target\x3d"_blank"\x3e${resources.viewToolchain}\x3c/a\x3e\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3cspan class\x3d"toolchainBetaText"\x3e${resources.developmentStageExperimental}\x3c/span\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv class\x3d"appControlGear" data-dojo-attach-point\x3d\'appControlGear\' id\x3d"${id}_appControlGear"\x3e\r\n\t\t\x3cimg class\x3d"i-settings-gear" src\x3d"${_blankImage}" alt\x3d"${resources.gearMenu}" style\x3d"cursor: pointer" data-dojo-attach-point\x3d"appGearIcon"/\x3e\r\n\t\t\x3cdiv class\x3d"cloudOEHide appGearMenu" data-dojo-type\x3d"cloudOE/widgets/Menu" data-dojo-attach-point\x3d"appGearMenu" data-dojo-props\x3d"connectId:\'${id}_appControlGear\'"\x3e\r\n\t\t\t\x3cul\x3e\r\n\t\t\t\t\x3cli data-dojo-attach-point\x3d\'startStopAppLinkCell\' data-dojo-attach-event\x3d"onClick:_onStartStopAppClick"\x3e${resources.stopAppLink}\x3c/li\x3e\r\n\t\t\t\t\x3cli data-dojo-attach-point\x3d\'restartAppLinkCell\' data-dojo-attach-event\x3d"onClick:_onRestartAppClick"\x3e${resources.restart}\x3c/li\x3e\r\n\t\t\t\x3c/ul\x3e\r\n\t\t\t\x3cul\x3e\r\n\t\t\t\t\x3cli data-dojo-attach-point\x3d\'appDescriptionEdit\' data-dojo-attach-event\x3d"onclick:_onEditAppDescriptionClick"\x3e${resources.editDescription}\x3c/li\x3e\r\n\t\t\t\t\x3cli data-dojo-attach-point\x3d\'appRenameEdit\' data-dojo-attach-event\x3d"onclick:_onEditAppNameClick"\x3e${resources.renameApp}\x3c/li\x3e\r\n\t\t\t\t\x3cli data-dojo-attach-point\x3d\'appRouteEdit\' data-dojo-attach-event\x3d"onclick:_onEditRouteClick"\x3e${resources.editRoutes}\x3c/li\x3e\r\n\t\t\t\x3c/ul\x3e\r\n\t\t\t\x3cul class\x3d"favOption"\x3e\r\n\t\t\t\t\x3cli data-dojo-attach-event\x3d"onClick:_onFavoriteClick"\x3e${resources.favoriteApp}\x3c/li\x3e\r\n\t\t\t\t\x3cli data-dojo-attach-event\x3d"onClick:_onFavoriteClick"\x3e${resources.unfavoriteApp}\x3c/li\x3e\r\n\t\t\t\x3c/ul\x3e\r\n\t\t\t\x3cul\x3e\r\n\t\t\t\t\x3cli data-dojo-attach-point\x3d\'deleteAppLinkCell\' data-dojo-attach-event\x3d"click:_onDeleteAppClick"\x3e${resources.deleteAppLink}\x3c/li\x3e\r\n\t\t\t\x3c/ul\x3e\r\n\t\t\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv class\x3d"detailsMobileSection" data-dojo-attach-point\x3d\'mobileSection\'\x3e\r\n\t\t\x3cdiv data-dojo-attach-point\x3d\'mobileContent\' data-dojo-type\x3d\'cloudOE/panes/AppDetailsMobileSdk\'\x3e\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:cloudOE/panes/templates/AppDetailsMobileSdk.html":'\x3cdiv data-dojo-attach-point\x3d"sdkArea" class\x3d"tile tile-background sdkTile"\x3e\n\t\x3cdiv class\x3d"tile-segmented"\x3e\n\t\t\x3cdiv class\x3d"tile-segment appAPIInfo"\x3e\n\t\t\t\x3cdiv class\x3d"keys"\x3e\n\t\t\t\t\x3cdiv class\x3d"key" data-dojo-attach-point\x3d"routeDiv"\x3e\n\t\t\t\t\t\x3cdiv class\x3d"keyLabel"\x3e${resources.route}\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"keyValueArea"\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"keyValue" data-dojo-attach-point\x3d"appRoute"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"i-copy copy"\x3e\x3c/div\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"key"\x3e\n\t\t\t\t\t\x3cdiv class\x3d"keyLabel"\x3e${resources.appGuid}\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"keyValueArea"\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"keyValue" data-dojo-attach-point\x3d"apiAppGuid"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"i-copy copy"\x3e\x3c/div\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"tile-segment getStarted"\x3e\n\t\t\t\x3ca class\x3d"mobileGettingStartedLink" data-dojo-attach-point\x3d"gettingStarted" target\x3d"_blank"\x3e${resources.getStartedLink}\x3c/a\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"closeIcon i-close-white-bg-small" data-dojo-attach-event\x3d"onclick:_onCloseMobileOptions"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\t\n\x3c/div\x3e',
"url:cloudOE/panes/templates/AppActivityEvent.html":'\x3cli class\x3d"${baseClass}" data-dojo-attach-point\x3d"activityEvent"\x3e\n\t\x3cdiv class\x3d"${baseClass}DateTime"\x3e\n\t\t\x3cdiv class\x3d"${baseClass}Date" data-dojo-attach-point\x3d"date"\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"${baseClass}Time" data-dojo-attach-point\x3d"time"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"${baseClass}ActorDetails"\x3e\n\t\t\x3cdiv class\x3d"${baseClass}Actor" data-dojo-attach-point\x3d"actor"\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"${baseClass}Details" data-dojo-attach-point\x3d"details"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/li\x3e',
"url:cloudOE/panes/templates/AppActivity.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" class\x3d"${baseClass}"\x3e\n\t\x3cdiv class\x3d"${baseClass}Header"\x3e${resources.activityHeader}\x3c/div\x3e\n\t\x3cdiv class\x3d"${baseClass}Events" data-dojo-attach-point\x3d"activityEvents"\x3e\n\t\t\x3cul class\x3d"${baseClass}List" data-dojo-attach-point\x3d"activityList"\x3e\n\t\t\x3c/ul\x3e\n\t\t\x3cdiv class\x3d"${baseClass}Loading"\x3e\n\t\t\t\x3cspan class\x3d${baseClass}LoadingSpinner\x3e\x3c/span\x3e${resources.loadingActivity}\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"${baseClass}None"\x3e${resources.noActivityAvailable}\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:cloudOE/panes/templates/AppDetailsBindService.html":'\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"focusNode"\x3e\n\t\x3cdiv class\x3d"dijitDialogPaneContentArea"\x3e\n\t\t\x3cspan\x3e${resources.bindServiceDialogInstructions}\x3c/span\x3e\x3cp\x3e\x3cbr/\x3e\x3c/p\x3e\n\t\t\x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane" data-dojo-attach-point\x3d"unboundServicesGridContainer" class\x3d"${baseClass}UnboundServicesGridContainer"\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n   \t\x3cdiv  class\x3d"dijitDialogPaneActionBar"\x3e\n        \x3cinput type\x3d"button" data-dojo-type\x3d"dijit/form/Button" \n            data-dojo-attach-point\x3d"okButton" data-dojo-attach-event\x3d"onClick:_onOKClick"\n            label\x3d"${resources.addButton}"\x3e\n\t \t\x3cinput type\x3d"button" data-dojo-type\x3d"dijit/form/Button" class\x3d"dialog-btn-secondary"\n\t \t\tdata-dojo-attach-point\x3d"cancelButton" data-dojo-attach-event\x3d"onClick:_onCancelClick"\n\t \t\tlabel\x3d"${resources.cancel}"\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:cloudOE/panes/templates/AppDetailsServices.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode"\x3e\n\n\t\x3cdiv data-dojo-attach-point\x3d\'serviceContainer\' class\x3d\'tile-container\'\x3e\n\t\t\x3cdiv class\x3d"action tile" data-dojo-attach-point\x3d"addNewServiceButton" data-dojo-attach-event\x3d"onClick:_onAddNewServiceClick"\x3e\n\t\t\t\x3cspan class\x3d"placeholder"\x3e\x3c/span\x3e\n\t\t\t\x3cspan class\x3d"cardIcon i-plus-blue-large"\x3e\x3c/span\x3e\n\t\t\t\x3cspan class\x3d"buttonText cloudOEBoldFont"\x3e${resources.addNewService}\x3c/span\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"action tile" data-dojo-attach-point\x3d"addExistingServiceButton" data-dojo-attach-event\x3d"onClick:_onAddExistingServiceClick"\x3e\n\t\t\t\x3cspan class\x3d"placeholder"\x3e\x3c/span\x3e\n\t\t\t\x3cspan class\x3d"cardIcon i-plus-blue-large"\x3e\x3c/span\x3e\n\t\t\t\x3cspan class\x3d"buttonText cloudOEBoldFont"\x3e${resources.bindAService}\x3c/span\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d\'actionsContainer\' class\x3d"tile-container"\x3e\n\t\t\x3cdiv class\x3d"action tile dijitHidden" data-dojo-attach-point\x3d"registerMobileClientButton" data-dojo-attach-event\x3d"onClick:_onRegisterMobileClientClick"\x3e\n\t\t\t\x3cspan class\x3d"placeholder"\x3e\x3c/span\x3e\n\t\t\t\x3cspan class\x3d"cardIcon i-mobile-blue-32"\x3e\x3c/span\x3e\n\t\t\t\x3cspan class\x3d"buttonText cloudOEBoldFont"\x3e${resources.registerMobileClient}\x3c/span\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\n\x3c/div\x3e\n',
"url:cloudOE/widgets/templates/CardContent.html":'\x3cdiv class\x3d"${baseClass} dijitHidden"\x3e\n\t\x3cdiv class\x3d"main" data-dojo-attach-point\x3d"contentNode"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"buttonContainer" data-dojo-attach-point\x3d"buttonContainer"\x3e\x3c/div\x3e\n\x3c/div\x3e',"url:cloudOE/widgets/templates/CardContentItem.html":'\x3cdiv class\x3d"stepSection ${stepClass}"\x3e\n\t\x3cdiv class\x3d"stepIcon cloudOEBoldFont"\x3e${step}\x3c/div\x3e\n\t\x3cdiv class\x3d"info cloudOELightFont"\x3e${info}\x3c/div\x3e\n\x3c/div\x3e',
"url:cloudOE/widgets/templates/CardTabContainer.html":'\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"containerNode"\x3e\n\t\x3cdiv  data-dojo-attach-point\x3d"headerNode" class\x3d"header cloudOELightFont"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"cardBarNode" class\x3d"cardBar"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"needleNode" class\x3d"triangle dijitHidden"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"contentAreaNode" class\x3d"contentArea"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:cloudOE/widgets/templates/CardItem.html":'\x3cdiv class\x3d"cardItem"\x3e\n\t\x3cdiv class\x3d"icon ${imgClass}"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"info"\x3e\n\t\t\x3cdiv class\x3d"title cloudOELightFont"\x3e${title}\x3c/div\x3e\n\t\t\x3cdiv class\x3d"desc cloudOERomanFont"\x3e${description}\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',"url:cloudOE/panes/templates/AppDetailsGettingStarted.html":'\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"containerNode"\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"routeTitleNode" class\x3d"routeTitle cloudOEBoldFont cloudOETextWithEllipsis"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"stateNode" class\x3d"healthStatus"\x3e\x3c/span\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"routeNode"\x3e\x3c/span\x3e\n\t\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"headerNode" class\x3d"header cloudOELightFont"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"cardBarNode" class\x3d"cardBar"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"needleNode" class\x3d"triangle dijitHidden"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"contentAreaNode" class\x3d"contentArea"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:cloudOE/panes/templates/AppDetailsUsage.html":'\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"focusNode"\x3e\n\t\x3cdiv class\x3d"${baseClass}Filler"\x3e\x3c/div\x3e\n\t\x3c!-- App Runtime Details --\x3e\n    \x3cdiv data-dojo-type\x3d"cloudOE/widgets/RuntimeCardBar" data-dojo-attach-point\x3d"runtimeCardBar"\x3e\x3c/div\x3e\n\t\x3c!-- Instance Details --\x3e    \n\t\x3cdiv data-dojo-attach-point\x3d"instanceDetailsContentPane" data-dojo-type\x3d"dijit/layout/ContentPane" class\x3d"cloudOEAppInstanceDetails"\x3e            \n\t\t\t\x3cdiv class\x3d"cloudOEAppDetailsInstancesTop"\x3e${resources.instanceDetails}\x3c/div\x3e\n\t\t\t\x3chr\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"messageArea" data-dojo-type\x3d"cloudOE/widgets/MessageArea" class\x3d"${baseClass}MessageArea lightUI" data-dojo-props\x3d"isDestroyOnCancel: false" style\x3d\'display:block\'\x3e\x3c/div\x3e\n\t\t  \t\x3cdiv class\x3d"grid-actions" data-dojo-attach-point\x3d"gridActions"\x3e\n\t\t  \t\t\x3cdiv\x3e\n\t\t  \t\t\t\x3clabel class\x3d"actionsLabel"\x3e${resources.actionsLabel}\x3c/label\x3e\n\t\t  \t\t\x3c/div\x3e\n\t\t  \t\t\t\x3cdiv class\x3d"grid-action-buttons" data-dojo-attach-point\x3d"gridActionButtons"\x3e\n\t\t  \t\t\x3c/div\x3e\n\t\t  \t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"${baseClass}AppInstancesGridOuterContainer"\x3e\n\t\t\t    \x3cdiv data-dojo-attach-point\x3d"appInstancesGridContainer" class\x3d"${baseClass}AppInstancesGridContainer" data-dojo-type\x3d"dijit/layout/ContentPane"\x3e\n\t\t\t \t\x3c/div\x3e\n\t\t \t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"actionsLoginIframe" style\x3d"position: absolute; top: -200px; left: -200px; visibility: hidden;"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:cloudOE/panes/templates/AppDetailsEnvVars.html":'\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"focusNode"\x3e\n\t\x3cdiv class\x3d"cloudOEAppDetailsEnvVarsTop"\x3e${resources.environmentVariables}\x3c/div\x3e\n\t\x3chr\x3e\n\t\t\t\x3cdiv class\x3d"btn-group"\x3e\n\t\t\t\t\x3clabel for\x3d"vcapOption"\x3e\n\t\t\t\t\t\x3cinput type\x3d"radio" name\x3d"envVarType" data-dojo-attach-point\x3d"vcapSelectInput" value\x3d"vcapServicesEnvVarsOption" checked\x3e\n\t\t\t\t\t\x3cspan class\x3d"btn" data-dojo-attach-point\x3d"vcapSelectSpan"\x3e${resources.vcapServicesEnvVarsOption}\x3c/span\x3e\n\t\t\t\t\x3c/label\x3e\n\t\t\t\t\x3clabel for\x3d"userDefOption"\x3e\n\t\t\t\t\t\x3cinput type\x3d"radio" name\x3d"envVarType" data-dojo-attach-point\x3d"userDefSelectInput" value\x3d"userDefinedEnvVarsOption"\x3e\n\t\t\t\t\t\x3cspan class\x3d"btn" data-dojo-attach-point\x3d"userDefSelectSpan"\x3e${resources.userDefinedEnvVarsOption}\x3c/span\x3e\n\t\t\t\t\x3c/label\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\n\t \t\x3cdiv class\x3d"cloudOEEnvGridMargin showVcap" data-dojo-attach-point\x3d"envVarsContainer"\x3e\n\t \t\t\x3cdiv class\x3d"${baseClass}VCAPArea"\x3e\n\t \t\t\t\x3cpre data-dojo-attach-point\x3d"vcapContent"\x3e\x3c/pre\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"gridContainer" class\x3d"${baseClass}GridContainer"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"cloudOEAppDetailsServicesButtonDiv EnvVar"\x3e\n\t\t    \x3ctable\x3e\n\t\t         \x3ctbody\x3e\n\t\t             \x3ctr\x3e\n\t\t                 \x3ctd class\x3d"EnvVarButtons"\x3e\n\t\t                 \t\x3cspan data-dojo-attach-point\x3d"unsavedChangesMessageArea" class\x3d"cloudOEUnsavedChangeInlineMsg EnvVarMessage" style\x3d"display:none"\x3e${resources.unsavedChangesInline}\x3c/span\x3e\n\t\t\t\t\t\t\t\x3cinput type\x3d"button" class\x3d"btn btn-tertiary" data-dojo-attach-point\x3d"addNewEnvVarButton" data-dojo-attach-event\x3d"onClick:_onAddNewEnvVarClick" value\x3d"${resources.addNewEnvVar}" style\x3d"display:none;" disabled\x3e\n\t\t\t\t\t\t\t\x3cinput type\x3d"button" class\x3d"btn btn-tertiary" data-dojo-attach-point\x3d"updateEnvVarsButton" data-dojo-attach-event\x3d"onClick:_onUpdateEnvVarsClick" value\x3d"${resources.saveEnvVars}" style\x3d"display:none;" disabled\x3e\n\t\t\t\t\t\t\t\x3cinput type\x3d"button" class\x3d"btn btn-tertiary" data-dojo-attach-point\x3d"resetEnvVarsButton" data-dojo-attach-event\x3d"onClick:_onResetEnvVarsClick" value\x3d"${resources.resetEnvVars}" style\x3d"display:none;" disabled\x3e\n\t\t\t\t\t\t\t\x3cinput type\x3d"button" class\x3d"btn btn-tertiary" data-dojo-attach-point\x3d"exportVarsButton" data-dojo-attach-event\x3d"onClick:_onExportEnvVarsClick" value\x3d"${resources.exportEnvVars}" disabled\x3e\n\t\t                 \x3c/td\x3e\n\t\t              \x3c/tr\x3e \n\t \t        \x3c/tbody\x3e\n\t \t    \x3c/table\x3e\n\t\t\x3c/div\x3e\t\n\x3c/div\x3e',
"url:dijit/templates/TreeNode.html":'\x3cdiv class\x3d"dijitTreeNode" role\x3d"presentation"\n\t\x3e\x3cdiv data-dojo-attach-point\x3d"rowNode" class\x3d"dijitTreeRow" role\x3d"presentation"\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"expandoNode" class\x3d"dijitInline dijitTreeExpando" role\x3d"presentation"\x3e\x3c/span\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"expandoNodeText" class\x3d"dijitExpandoText" role\x3d"presentation"\x3e\x3c/span\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"contentNode"\n\t\t\tclass\x3d"dijitTreeContent" role\x3d"presentation"\x3e\n\t\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitTreeIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\n\t\t\t\x3e\x3cspan data-dojo-attach-point\x3d"labelNode,focusNode" class\x3d"dijitTreeLabel" role\x3d"treeitem" tabindex\x3d"-1" aria-selected\x3d"false"\x3e\x3c/span\x3e\n\t\t\x3c/span\n\t\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeNodeContainer" role\x3d"presentation" style\x3d"display: none;"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:dijit/templates/Tree.html":'\x3cdiv role\x3d"tree"\x3e\n\t\x3cdiv class\x3d"dijitInline dijitTreeIndent" style\x3d"position: absolute; top: -9999px" data-dojo-attach-point\x3d"indentDetector"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"dijitTreeExpando dijitTreeExpandoLoading" data-dojo-attach-point\x3d"rootLoadingIndicator"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeContainer" role\x3d"presentation"\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',"url:cloudOE/panes/templates/AppDetailsFiles.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv class\x3d"cloudOEFilesTop"\x3e${resources.files}\x3c/div\x3e\n\t\x3chr /\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"messageArea" data-dojo-type\x3d"cloudOE/widgets/MessageArea" class\x3d"${baseClass}MessageArea lightUI" data-dojo-props\x3d"isDestroyOnCancel: false"\x3e\x3c/div\x3e\n\x3c!--  Needed because parent tab container sizes our height too large for the view port --\x3e\t\n\t\x3cdiv data-dojo-type\x3d\'dijit/layout/ContentPane\' class\x3d"cloudOEFilesInstanceSelectPane" data-dojo-attach-point\x3d"contentArea"\x3e\t\t\n\t\t\x3ctable style\x3d"width:100%;border-spacing:0;border-collapse:collapse;padding:0px;"\x3e\n\t\t\t\x3ctbody\x3e\n\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\x3ctd\x3e\n\t\t\t\t\t\t\x3cdiv data-dojo-type\x3d\'dijit/layout/ContentPane\' data-dojo-attach-point\x3d"selectionArea" data-dojo-props\x3d"region:\'top\'" \n\t\t\t\t\t\t\t\tstyle\x3d"display:inline;padding-bottom:0px;"\x3e\n\t\t\t\t\t\t\t\x3clabel data-dojo-attach-point\x3d"appInstancesSelectLabel" for\x3d"appInstancesSelect" style\x3d"padding-left: 5px;"\x3e${resources.instanceLabel}\x3c/label\x3e\n\t\t\t\t\t\t\t\x3cselect style\x3d"width: 75px;" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"appInstancesSelect" name\x3d"appInstancesSelect"\x3e\n\t\t\t\t\t\t    \x3c/select\x3e\n\t\t\t\t\t    \x3c/div\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"${baseClass}Details" data-dojo-attach-point\x3d"fileDetails" style\x3d"display:inline"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3cdiv data-dojo-type\x3d"dijit/Toolbar" style\x3d"display:inline;float:right;padding:0px" class\x3d"cloudOETableCellToolbar cloudOEArrayColumnEditorToolbar"\x3e\n\t\t\t\t\t\t\t\x3cbutton data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"downloadButton"\n\t\t\t\t\t\t\t\tstyle\x3d"margin:0px;margin-bottom:4px;"\n\t\t\t\t\t\t\t\tdata-dojo-attach-event\x3d"onClick:_onDownloadClick"\n\t\t\t\t\t\t\t\tdata-dojo-props\x3d"iconClass:\'cloudOEIcon cloudOEIconDownload\', showLabel: false"\x3e\x3c/button\x3e\n\t\t\t\t\t\t\x3c/div\x3e\t\n\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\x3ctd\x3e\n\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\x3c/tr\x3e\n\t\t\t\x3c/tbody\x3e\n\t\t\x3c/table\x3e\n\t\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"fileBorderContainer" style\x3d"height: 500px; border-top: 1px solid #dfe6eb; padding-bottom: 20px;"\x3e\n\t\t\x3cdiv class\x3d"${baseClass}LeftSide FilesTree"\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"fileTreeNode" class\x3d"${baseClass}Tree" \x3e\x3c/div\x3e \n\t\t\x3c/div\x3e\n\t\t\n\t\t\x3c!--  Right hand side: file area --\x3e\n\t\t\x3cdiv class\x3d"${baseClass}RightSide"\x3e\n\t\t\n\t\t\t\x3c!-- File details and toolbar --\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"fileDetailsBorderContainer" style\x3d"padding:0px;"\x3e\n\t\t\t\t\x3c!-- File content --\x3e\n\t\t\t\t\x3cdiv class\x3d"${baseClass}FileArea"\x3e\n\t\t\t\t\t\x3cpre data-dojo-attach-point\x3d"fileContent"\x3e\n\t\t\t\t\t\x3c/pre\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\t\t\t\n\x3c/div\x3e\t\n',
"url:cloudOE/panes/templates/AppDetailsLogs.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode"\x3e\n\t\x3cdiv class \x3d "log"\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',"url:cloudOE/panes/templates/AppDetailsRuntimeBar.html":'\x3cdiv class\x3d"${baseClass} tile tile-background summary"\x3e\n\n\t\x3cdiv class\x3d"appBarInfo"\x3e\n\t\t\x3c!-- icon --\x3e\n\t\t\x3cdiv class\x3d"appBarIcon"\x3e\n\t\t\t\x3cimg src\x3d"${_blankImage}" data-dojo-attach-point\x3d"imgNode"\x3e\n\t\t\x3c/div\x3e\n\n\t\t\x3c!-- Service instance name --\x3e\n\t\t\x3cdiv class\x3d"appBarTitle"\x3e\n\t\t\t\x3cp data-dojo-attach-point\x3d"nameNode" class\x3d"cloudOETextWithEllipsis"\x3e\x3c/p\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"url:cloudOE/panes/templates/AppDetailsDeploy.html":'\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"focusNode"\x3e\n\t\x3ciframe data-dojo-attach-point\x3d"deploymentFrame" class\x3d"embeddedFrame"\x3e\x3c/iframe\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"deploymentPaneNotAvailable" class\x3d"deploymentPaneNotAvailable"\x3e${resources.deploymentPaneNotAvailable}\x3c/div\x3e\n\x3c/div\x3e\n',"url:cloudOE/panes/templates/AppDetailsRuntime.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3c!-- Center Content --\x3e\n\t\x3cdiv\x3e\n\t\t\x3c!-- resources --\x3e\n\t\t\x3csection class\x3d"tile tile-background usage" data-dojo-attach-point\x3d"resourcesTile"\x3e\x3c/section\x3e\n\n\t\t\x3c!-- instance details --\x3e\n\t\t\x3c!-- XXX Currently, this is displayed as part of `resources` section\n\t\t\x3csection class\x3d"tile tile-background instance" data-dojo-attach-point\x3d"instanceTile"\x3e\x3c/section\x3e\n\t\t--\x3e\n\n\t\t\x3c!-- environment variables --\x3e\n\t\t\x3csection class\x3d"tile tile-background envvars" data-dojo-attach-point\x3d"envVarTile"\x3e\x3c/section\x3e\n\n\t\t\x3c!-- files \x26 logs --\x3e\n\t\t\x3csection class\x3d"tile tile-background filesandlogs" data-dojo-attach-point\x3d"filesLogsTile"\x3e\x3c/section\x3e\n\t\t\n\t\t\x3c!-- logs --\x3e\n\t\t\x3csection class\x3d"tile tile-background logs" data-dojo-attach-point\x3d"logsTile"\x3e\x3c/section\x3e\n\t\t\n\t\t\x3c!-- deployment --\x3e\n\t\t\x3csection class\x3d"tile tile-background deployment" data-dojo-attach-point\x3d"deploymentTile"\x3e\x3c/section\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"url:cloudOE/widgets/templates/ServiceCredentialSection.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" class\x3d"${baseClass}"\x3e\n  \x3cdiv\x3e\n\t\x3cdiv class\x3d"serviceCredentialHeading"\x3e\n\t\t\x3cdiv class\x3d"nameTextField" data-dojo-attach-point\x3d"nameTextField"\x3e\n\t\t\t\x3cdiv class\x3d"label cloudOEBoldFont" data-dojo-attach-point\x3d"appNameTitleTip" \x3e${resources.name}\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"credentialName cloudOEBoldFont" data-dojo-attach-point\x3d"credentialName" value\x3d""\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"actionButton"\x3e\n\t\t\t\x3cinput type\x3d"button" class\x3d"btn btn-secondary cloudOETextWithEllipsis" data-dojo-attach-event\x3d"onclick:_onClickServiceActionButton"  value\x3d"${resources.deleteButton}"/\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"serviceCredentialContent"\x3e\n\t\t\x3cdiv class\x3d"label cloudOEBoldFont"\x3e${resources.credentials}\x3c/div\x3e\n\t\t\x3cdiv class\x3d"serviceCredentialDoc" data-dojo-attach-point\x3d"serviceCredentialDoc"\x3e\n\t\t\t\x3cpre\x3e\x3ccode data-dojo-attach-point\x3d"serviceCredentialDocInfo"\x3e\x3c/code\x3e\x3c/pre\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"actionButton"\x3e\n\t\t\t\x3cinput type\x3d"button" class\x3d"btn btn-secondary cloudOETextWithEllipsis" data-dojo-attach-event\x3d"onclick:_onClickServiceActionButton"  value\x3d"${resources.deleteButton}"/\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n  \x3c/div\x3e\n\x3c/div\x3e\n',
"url:cloudOE/widgets/templates/CreateCredentialsDialogContent.html":'\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"focusNode"\x3e\n\t\x3cdiv data-dojo-type\x3d"dijit/form/Form" data-dojo-attach-point\x3d"createCredentialsForm"   encType\x3d"multipart/form-data" action\x3d"" method\x3d""\x3e\n\t\t\x3cdiv class\x3d"${baseClass}ContentDiv cloudOESimpleDialogContentAreaContentDiv"\x3e\n\t\t\x3clabel for\x3d"name"\x3e${resources.newName}\x3c/label\x3e\n\t\t\x3cinput name\x3d"name" type\x3d"text" required\x3d"true" data-dojo-type\x3d"dijit/form/ValidationTextBox"\n\t\t\tdata-dojo-props\x3d"intermediateChanges:true" placeholder\x3d"${resources.enterCredentialsName}"\n\t\t\tdata-dojo-attach-point\x3d"createCredentialsTextbox" \n\t\t\tclass\x3d"${baseClass}TextBox cloudOESimpleDialogContentAreaTextBox"/\x3e \n\t\t\x3c/div\x3e\n\n\t\t\x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n\t\t\t\x3cdiv class\x3d"buttonContainer"\x3e\n\t\t\t\t\x3cbutton data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"okButton" data-dojo-attach-event\x3d"onClick:_onOKClick"\n\t\t\t\t\ttype\x3d"submit" label\x3d"${resources.addButton}"\x3e\x3c/button\x3e\n\t\t\t\t\x3cbutton data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"cancelButton" data-dojo-attach-event\x3d"onClick:_onCancelClick"\n\t\t\t\t\tlabel\x3d"${resources.cancel}" class\x3d"dialog-btn-secondary ${baseClass}CancelBtn"\x3e\x3c/button\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:cloudOE/panes/templates/ServiceCredentialsPane.html":'\x3cdiv class\x3d"${baseClass} dijitHidden"\x3e\n\t\x3csection\x3e\n\t\t\x3cdiv class\x3d"header"\x3e\n\t\t\t\x3cdiv class\x3d"information"\x3e\n\t\t\t\t\x3ch2\x3e${resources.credentials}\x3c/h2\x3e\n\t\t\t\t\x3cp\x3e${resources.credentialsPaneDescription}\x3c/p\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cbutton class\x3d"btn btn-primary cloudOEBoldFont" data-dojo-attach-point\x3d"addCredentialButton" data-dojo-attach-event\x3d"onClick:_onAddCredentialClick"\x3e${resources.addCredential}\x3c/button\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv data-dojo-type\x3d"cloudOE/widgets/MessageArea" data-dojo-attach-point\x3d"noItemsSection" data-dojo-props\x3d"isDestroyOnCancel: false, closable: false" class\x3d"lightUI"\x3e\x3c/div\x3e\n\n\t\t\x3cdiv class\x3d"serviceKeysList" data-dojo-attach-point\x3d"serviceKeysList"\x3e\x3c/div\x3e\n\t\x3c/section\x3e\n\x3c/div\x3e\n',
"url:cloudOE/panes/templates/ServiceAccessAuthPane.html":'\x3cdiv class\x3d"${baseClass} dijitHidden"\x3e\n\t\x3csection\x3e\n\t\t\x3cdiv class\x3d"header"\x3e\n\t\t\t\x3cdiv class\x3d"information"\x3e\n\t\t\t\t\x3ch2\x3e${resources.serviceAccessAuth}\x3c/h2\x3e\n\t\t\t\t\x3cp\x3e${resources.serviceAccessAuthDesc}\x3c/p\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv data-dojo-type\x3d"cloudOE/widgets/MessageArea" data-dojo-attach-point\x3d"noItemsSection" data-dojo-props\x3d"isDestroyOnCancel: false, closable: false" class\x3d"lightUI"\x3e\x3c/div\x3e\n\n\t\t\x3cdiv class\x3d"serviceAccessAuthInstanceList" data-dojo-attach-point\x3d"instanceListSection"\x3e\n\t\t\t\x3cdiv class\x3d"nameTextField label cloudOEBoldFont" data-dojo-attach-point\x3d"nameTextField"\x3e${resources.authServiceInstances}\x3c/div\x3e\n\t\t\t\x3chr\x3e\n\t\t\t\x3ctable class\x3d"instanceListTable" data-dojo-attach-point\x3d"instanceListTable"\x3e\n\t\t\t\t\x3ctr class\x3d"instanceListHeading"\x3e\n\t\t\t\t\t\x3ctd class\x3d"firstCol"\x3e${resources.serviceInstance}\x3c/td\x3e\n\t\t\t\t\t\x3ctd class\x3d"thirdCol"\x3e${resources.actions}\x3c/td\x3e\t\t\t\t\t\t\n\t\t\t\t\x3c/tr\x3e\n\t\t\t\x3c/table\x3e\n\t\t\t\x3cdiv class\x3d"noInstancesMessageBox" data-dojo-attach-point\x3d"noInstancesMessageBox"\x3e\n\t\t\t\t\x3cdiv class\x3d"noInstancesMessage" data-dojo-attach-point\x3d"noInstancesMessage"\x3e${resources.noAuthServices}\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/section\x3e\n\x3c/div\x3e\n',
"url:cloudOE/panes/templates/ServicePlanPane.html":'\x3cdiv class\x3d"${baseClass} dijitHidden"\x3e\n\t\x3csection\x3e\n\t\t\x3cdiv class\x3d"servicePlanPaneHeader" data-dojo-attach-point\x3d"changePlanHeader"\x3e${resources.changePlan}\x3c/div\x3e\n\t\t\x3cdiv data-dojo-type\x3d"dijit/form/Form"\n\t\t\tdata-dojo-attach-point\x3d"editForm" encType\x3d"multipart/form-data"\n\t\t\taction\x3d"" method\x3d""\x3e\n\t\t\t\x3cdiv class\x3d"${baseClass}ContentDiv"\x3e\n\t\t\t\t\x3cdiv class\x3d\'changePlanTitle\'\x3e${resources.currentPlan}\x3c/div\x3e\n\t\t\t\t\x3ctable class\x3d"cloudOELayoutTable change-plan-table current-plan"\n\t\t\t\t\tdata-dojo-attach-point\x3d"currentPlanTable"\x3e\n\t\t\t\t\x3c/table\x3e\n\n\t\t\t\t\x3cdiv class\x3d"dijitHidden" data-dojo-attach-point\x3d"choosePlanSection"\x3e\n\t\t\t\t\t\x3cdiv class\x3d\'changePlanTitle\'\x3e${resources.chooseNewPlan}\x3c/div\x3e\n\t\t\t\t\t\x3ctable class\x3d"cloudOELayoutTable change-plan-table available-plans"\n\t\t\t\t\t\tdata-dojo-attach-point\x3d"planOptions"\x3e\n\t\t\t\t\t\x3c/table\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\t\t\t\n\t\t\t\x3cdiv class\x3d"${baseClass}NextStepsDiv cloudOEMessageArea lightUI dijitHidden" data-dojo-attach-point\x3d"nextStepsSection"\x3e\n\t\t\t\t\x3ctable\x3e\n\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\x3ctd id\x3d"iconCell"\x3e\x3cdiv class\x3d"i-info-blue-white-small"\x3e\x3c/div\x3e\x3c/td\x3e\n\t\t\t\t\t\t\x3ctd class\x3d"cloudOEMessageAreaTextCell"\x3e\n\t\t\t\t\t\t\t\x3cdiv class\x3d"nextStepTitle"\x3e${resources.planChangeNextStep}\x3c/div\x3e\n\t\t\t\t\t\t\t\x3cdiv\x3e\n\t\t\t\t\t\t\t\t\x3cspan class\x3d"cloudOEMessageAreaText"\x3e${resources.planChangeNextStepDetails}\x3c/span\x3e\n\t\t\t\t\t\t\t\t\x3ca data-dojo-attach-event\x3d"click:_onNextStepLinkClick"\x3e${resources.planChangeNextStepLinkText}\x3c/a\x3e\n\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\x3cdiv class\x3d"cloudOEMessageAreaText nextStepClickSave" data-dojo-attach-point\x3d"nextStepClickSave"\x3e${resources.planChangeNextStepClickSave}\x3c/div\x3e\n\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\x3c/table\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"dijitHidden changeButtons" data-dojo-attach-point\x3d"changeButtons"\x3e\n\t\t\t\t\x3cbutton class\x3d"btn btn-primary" data-dojo-attach-point\x3d"okButton"\n\t\t\t\t\tdata-dojo-attach-event\x3d"onClick:_onOKClick"\x3e${resources.save}\x3c/button\x3e\n\t\t\t\t\x3cbutton class\x3d"btn btn-secondary" data-dojo-attach-point\x3d"resetButton"\n\t\t\t\t\tdata-dojo-attach-event\x3d"onClick:_onResetClick"\x3e${resources.reset}\x3c/button\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/section\x3e\n\x3c/div\x3e\n',
"url:cloudOE/widgets/templates/ServicePlanTieredPricingTable.html":'\x3ctr\x3e\n\t\x3ctd colspan\x3d"4"\x3e\n\t\t\x3ctable class\x3d"tier-table"\x3e\n\t\t\t\x3ctbody\x3e\n\t\t\t\t\x3ctd class\x3d"tier-first-column" data-dojo-attach-point\x3d"tier-first-column" data-dojo-attach-event\x3d"onClick:_onTierClick"\x3e\n\t\t\t\t\t\x3cdiv class\x3d"i-minus-blue collapseIcon" data-dojo-attach-point\x3d"tierCollapseIcon"\x3e\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"i-plus-blue expandIcon"\x3e\x3c/div\x3e\n\t\t\t\t\x3c/td\x3e\n\t\t\t\t\x3ctd class\x3d"tier-main-column"\x3e\n\t\t\t\t\t\x3ctable class\x3d"tier-pricing-table"\x3e\n\t\t\t\t\t\t\x3ctr class\x3d"tier-table-header"\x3e\n\t\t\t\t\t\t\t\x3ctd class\x3d"tier-second-column"\x3e\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"tier-heading"\x3e${resources.tieredPricingUnit}\x3c/div\x3e\n\t\t\t\t\t\t\t\t\x3cdiv\x3e\x3c/div\x3e\n\t\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\t\t\x3ctd class\x3d"tier-third-column"\x3e\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"tier-heading"\x3e${resources.price}\x3c/div\x3e\n\t\t\t\t\t\t\t\t\x3cdiv\x3e\x3c/div\x3e\n\t\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\x3c/table\x3e\n\t\t\t\x3c/tbody\x3e\n\t\t\x3c/table\x3e\n\t\x3c/td\x3e\n\x3c/tr\x3e\n',
"url:cloudOE/panes/templates/ServiceInstanceDetails.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3c!-- Action Bar --\x3e \n\t\x3cheader class\x3d"cloudOEActionBar" data-dojo-attach-point\x3d"actionBar"\x3e\n\n\t\t\x3c!-- DockedActionBarSelector --\x3e\n\t\t\x3cdiv data-dojo-type\x3d"cloudOE/widgets/DockedActionBarSelector" data-dojo-attach-point\x3d"dockedNavArea" data-dojo-props\x3d"backButtonVisible: true"\x3e \n\t\t\n\t\t\t\x3cnav class\x3d"contextual-nav"\x3e\n\t\t\t\t\x3cdiv class\x3d"inner"\x3e\n\t\t\t\t\t\x3c!-- NavigationTree --\x3e\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"navigationTreeNode" class\x3d"cloudOEActionBarNavigationTreeNode"\x3e\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/nav\x3e\n\n\t\t\x3c/div\x3e\n\n\t\t\x3cdiv class\x3d"cloudOEActionBarContentArea" data-dojo-attach-point\x3d"actionBarContentArea"\x3e\n\t\t\t\x3c!-- This will get filled in by action bar content from child pane. --\x3e\n\t\t\x3c/div\x3e\n\n\t\x3c/header\x3e\n\n\t\x3c!-- Center Content --\x3e\n\t\x3cdiv class\x3d"l-remaining-width cloudOEDockedOpenNav" data-dojo-attach-point\x3d"servicePane"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:dojox/widget/Wizard/Wizard.html":'\x3cdiv class\x3d"dojoxWizard" dojoAttachPoint\x3d"wizardNode"\x3e\n    \x3cdiv class\x3d"dojoxWizardContainer" dojoAttachPoint\x3d"containerNode"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"dojoxWizardButtons" dojoAttachPoint\x3d"wizardNav"\x3e\n        \x3cbutton dojoType\x3d"dijit.form.Button" type\x3d"button" dojoAttachPoint\x3d"previousButton"\x3e${previousButtonLabel}\x3c/button\x3e\n        \x3cbutton dojoType\x3d"dijit.form.Button" type\x3d"button" dojoAttachPoint\x3d"nextButton"\x3e${nextButtonLabel}\x3c/button\x3e\n        \x3cbutton dojoType\x3d"dijit.form.Button" type\x3d"button" dojoAttachPoint\x3d"doneButton" style\x3d"display:none"\x3e${doneButtonLabel}\x3c/button\x3e\n        \x3cbutton dojoType\x3d"dijit.form.Button" type\x3d"button" dojoAttachPoint\x3d"cancelButton"\x3e${cancelButtonLabel}\x3c/button\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:cloudOE/panes/templates/_Wizard.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" class\x3d"${baseClass}"\x3e\n\t\x3c!-- Action Bar --\x3e\n\t\x3cheader class\x3d"cloudOEActionBar" data-dojo-attach-point\x3d"actionBar"\x3e\n\t\t\x3c!-- DockedActionBarSelector --\x3e\n\t\t\x3cdiv data-dojo-type\x3d"cloudOE/widgets/DockedActionBarSelector" data-dojo-attach-point\x3d"dockedNavArea" data-dojo-props\x3d"backButtonVisible: true"\x3e \t\t\n\t\t\t\x3c!-- NavigationTree --\x3e\n\t\t\t\x3cnav class\x3d"contextual-nav" data-dojo-type\x3d"cloudOE/widgets/NavigationTree2" data-dojo-attach-point\x3d"navigationTree"\x3e\x3c/nav\x3e\n\t\t\x3c/div\x3e\n\t\x3c/header\x3e\n\t\x3c!-- Center Content --\x3e\n\t\x3cdiv class\x3d"l-remaining-width cloudOEDockedOpenNav" data-dojo-attach-point\x3d\'mainContent\'\x3e\n\t\t\x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane" data-dojo-attach-point\x3d\'wizardContainer\'\x3e\x3c/div\x3e\n   \x3c/div\x3e\n\x3c/div\x3e',
"url:cloudOE/panes/templates/CreateAppNamePane.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" class\x3d"wizardPane"\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"titleNode" class\x3d"createAppNamePaneTitle cloudOELightFont"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"createAppNamePaneText cloudOEBoldFont" data-dojo-attach-point\x3d"createForm"\x3e\n\n\t\t\x3cdiv class\x3d"appNameTextField" data-dojo-attach-point\x3d"appNameTextField"\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"appNameTitleTip" class\x3d"appNameTitleTip appNameTitleTipunFocused cloudOEBoldFont"\x3e${resources.createAppNameTipText}\x3c/div\x3e\n\t\t\t\x3cinput required\x3d"true" tabindex\x3d"0" type\x3d"text" name\x3d"inputName" data-dojo-type\x3d"dijit/form/ValidationTextBox" class\x3d"inputAppName cloudOEBoldFont" data-dojo-attach-point\x3d"inputName" value\x3d"" /\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"createAppErrorMessage" class\x3d"appNameErrorMessage cloudOELightFont"\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"createAppNameErrorIcon createAppNameErrorIconPosition"\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d\'appNameButtonAndSelection\'\x3e\n\t\t\t\x3cselect class\x3d"cloudOERomanFont hiddenDomainSelector" data-dojo-type\x3d"cloudOE/widgets/SelectFixedWidth" id\x3d"newDomainSelect" data-dojo-attach-point\x3d"newDomainSelect" required\x3d"false"\x3e\x3c/select\x3e\n\t\t\t\x3cbutton class\x3d"btn createAppFinishButton cloudOEBoldFont"  data-dojo-attach-point\x3d"finishButton" data-dojo-attach-event\x3d"onClick:_onFinishClick"\x3e${resources.createAppNameButtonText}\x3c/button\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"url:cloudOE/panes/templates/_BaseStoreItemContainer.html":'\x3cdiv class\x3d"${baseClass}" \x3e\n\t\x3cdiv data-dojo-type\x3d"cloudOE/widgets/TileListArea" data-dojo-attach-point\x3d"tileListArea" style\x3d"display:inline-block;"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-type\x3d"cloudOE/widgets/MessageArea" data-dojo-attach-point\x3d"messageArea" data-dojo-props\x3d"isDestroyOnCancel: false"\x3es\x3c/div\x3e\n\x3c/div\x3e',"url:cloudOE/panes/templates/CreateAppTemplatePane.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" class\x3d"wizardPane createAppTemplatePane"\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"titleNode" class\x3d"createAppTemplateTitle cloudOELightFont"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"appTemplateContainer" class\x3d"appTemplateContainer"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"mobileContainer" class\x3d"mobileContainer dijitHidden"\x3e\x3c/div\x3e\n\t\n\t\x3cdiv data-dojo-attach-point\x3d"webContainer" class\x3d"webContainer dijitHidden"\x3e\n\t\t\x3cdiv class\x3d"wizardPane createAppCodePane"\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"contentNode" class\x3d"createAppCodePaneContent"\x3e\t\t\n\t\t\t\t\x3cdiv class\x3d"appCodeCard" data-dojo-attach-event\x3d"onClick:_onCodeNextClick" data-cloudoe-codetype\x3d"true"\x3e\n\t\t\t\t\t\x3cdiv class\x3d"cardIcon i-code-icon"\x3e\t\t\t\t\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"cardTitle"\x3e${resources.createAppHaveCode}\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"appCodeCard" data-dojo-attach-event\x3d"onClick:_onCodeNextClick" data-cloudoe-codetype\x3d"false"\x3e\n\t\t\t\t\t\x3cdiv class\x3d"cardIcon i-catalog-icon"\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"cardTitle"\x3e${resources.createAppBrowseSamples}\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\n\t\x3cdiv class\x3d"cloudOEHide" data-dojo-attach-point\x3d"infoContainer"\x3e\n\t\t\x3cdiv class\x3d"infoContainer"\x3e\n\t\t\t\x3cdiv class\x3d"left"\x3e\n\t\t\t\t\x3cdiv class\x3d"title cloudOELightFont" data-dojo-attach-point\x3d"infoTitle"\x3e\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"desc cloudOERomanFont" data-dojo-attach-point\x3d"infoDescription"\x3e\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"summary cloudOEBoldFont" data-dojo-attach-point\x3d"infoPricingSummary"\x3e\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"sample" data-dojo-attach-point\x3d"sampleSummary"\x3e\n\t\t\t\t\t${resources.SampleDesc}\x3cbr\x3e\n\t\t\t\t\t\x3cpre\x3e${resources.SampleDetail}\x3c/pre\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"links cloudOEBoldFont" data-dojo-attach-point\x3d"links"\x3e\n\t\t\t\t\t\x3ca href\x3d"#" target\x3d"_blank" data-dojo-attach-point\x3d"docURL"\x3e${resources.viewFullDocumentation}\x3c/a\x3e | \x3ca href\x3d"#" data-dojo-attach-point\x3d"viewMore"\x3e${resources.wizardViewMore}\x3c/a\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"middle"\x3e\n\t\t\t\t\x3cbutton class\x3d"btn btn-primary cloudOEBoldFont" data-dojo-attach-point\x3d"nextButton" data-dojo-attach-event\x3d"onClick:_onNextClick"\x3e${resources.wizardContinue}\x3c/button\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"right"\x3e\n\t\t\t\t\x3ca class\x3d"btn btn-primary cloudOEBoldFont" href\x3d"#" target\x3d"_blank" data-dojo-attach-point\x3d"docButton"\x3e\x3c/a\x3e\n\t\t\t\t\x3cdiv class\x3d"otherInfo" data-dojo-attach-point\x3d"otherInfo"\x3e\n\t\t\t\t\t\x3ca href\x3d"https://github.com/cloudfoundry-community/cf-docs-contrib/wiki/Buildpacks" target\x3d"_blank"\x3e${resources.viewCompatibleBuildpacks}\x3c/a\x3e\x3cbr\x3e\n\t\t\t\t\t\x3ca href\x3d"#" target\x3d"_blank" data-dojo-attach-point\x3d"cfDownloadLink"\x3e${resources.downloadCFCMDTool}\x3c/a\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\n\t\x3cdiv class\x3d"cloudOEHide" data-dojo-attach-point\x3d"mobileInfoContainer"\x3e\n\t\t\x3cdiv class\x3d"mobileInfoContainer"\x3e\n\t\t\t\x3cdiv class\x3d"mobilePlatformInfo"\x3e\n\t\t\t\t\x3cdiv class\x3d"mobilePlatformIcon"\x3e\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"mobilePlatformTile"\x3e\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"mobilePlatformDetail"\x3e\n\t\t\t\t\t\x3cdiv class\x3d"mobilePlatformTitle" data-dojo-attach-point\x3d"mobilePlatformTitle"\x3e\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"mobilePlatformDescription" data-dojo-attach-point\x3d"mobilePlatformDescription"\x3e\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"mobilePlatformServices" data-dojo-attach-point\x3d"mobilePlatformDetails"\x3e\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"mobilePlatformAction"\x3e\n\t\t\t\t\x3cbutton class\x3d"btn btn-primary cloudOEBoldFont" data-dojo-attach-event\x3d"onClick:_onNextClick"\x3e${resources.wizardContinue}\x3c/button\x3e\n\t\t\t\t\x3cdiv class\x3d"mobilePlanInfo" data-dojo-attach-point\x3d"mobilePlanInfo"\x3e\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"links cloudOEBoldFont"\x3e\n\t\t\t\t\t\x3ca href\x3d"#" target\x3d"_blank" data-dojo-attach-point\x3d"mobileDocURL"\x3e${resources.viewFullDocumentation}\x3c/a\x3e\n\t\t\t\t\t\x3cdiv class\x3d"separator"\x3e\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"link viewMore" data-dojo-attach-point\x3d"mobileViewMore" data-dojo-attach-event\x3d"onClick:_learnMoreClick"\x3e${resources.wizardViewMore}\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"url:cloudOE/widgets/templates/SearchAndFilter.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv class\x3d"cloudOESearchBar"\x3e\n\t\t\x3c!-- Back button --\x3e\n\t\t\x3cdiv class\x3d"cloudOESearchBarBackButton dijitHidden" data-dojo-attach-point\x3d"backButton" data-dojo-attach-event\x3d"click:_onBackButtonCallback"\x3e\n\t\t\t\n\t\t\t\x3cspan\x3e\n\t\t\t\t\x3cimg class\x3d"i-back-arrow" src\x3d"${_blankImage}" data-dojo-attach-point\x3d"backButtonImg"/\x3e\n\t\t\t\x3c/span\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"backButtonLabel"\x3e${resources.searchCategoryAll}\x3c/span\x3e\n\t\t\x3c/div\x3e\n\t\t \x3cdiv class\x3d"cloudOESearchBarSearchIconNode" data-dojo-attach-point\x3d"searchIcon"\x3e\n   \t\t\t\x3cspan class\x3d"cloudOESearchBarSearchIcon i-search-catalog"\x3e\x3c/span\x3e\n   \t\t\x3c/div\x3e\n\t\t\x3cinput type\x3d"text" data-dojo-type\x3d"dijit.form.TextBox" class\x3d"cloudOESearchBox"\n\t\t\tdata-dojo-attach-point\x3d"searchBox" data-dojo-props\x3d"selectOnClick:true"\n\t\t\tplaceholder\x3d"${resources.searchPlaceHolderText}"\n\t\t\tdata-dojo-attach-event\x3d"input:_onSearchStoreInput"/\x3e\n   \t\x3c/div\x3e\n   \t\x3chr/\x3e\n\n\x3c/div\x3e',
"url:cloudOE/panes/templates/MobilePlatformTile.html":'\x3cdiv class\x3d"mobilePlarformTile" data-dojo-attach-event\x3d"onClick:_mobileClick" \n\t\tdata-cloudoe-buildpack\x3d"{buildpack}" data-cloudoe-redirect\x3d"{redirect}"\x3e\n\t\x3cdiv class\x3d"icon {iconClass}"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"mobileInfo"\x3e\n\t\t\x3cdiv class\x3d"name cloudOEBoldFont"\x3e{name}\x3c/div\x3e\n\t\t\x3cdiv class\x3d"description"\x3e{description}\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"cornerBadge {badgeClass}"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:cloudOE/panes/templates/CreateAppPlatformPane.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" class\x3d"wizardPane createAppPlatformPane"\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"titleNode" class\x3d"createAppPlatformPaneTitle"\x3e${resources.createAppPlatformPaneTitle}\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"contentNode" class\x3d"createAppPlatformPaneContent"\x3e\t\t\n\t\t\x3cdiv class\x3d"appPlatformCard" data-dojo-attach-event\x3d"onClick:_onNextClick" data-cloudoe-apptype\x3d"${platformTypes.WEB}"\x3e\n\t\t\t\x3cdiv class\x3d"cardIcon i-web"\x3e\t\t\t\t\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"cardTitle"\x3e${resources.createAppPlatformTypeWeb}\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"appPlatformOr"\x3e${resources.createAppPlatformTypeOr}\x3c/div\x3e\n\t\t\x3cdiv class\x3d"appPlatformCard" data-dojo-attach-event\x3d"onClick:_onNextClick" data-cloudoe-apptype\x3d"${platformTypes.MOBILE}"\x3e\n\t\t\t\x3cdiv class\x3d"cardIcon i-mobile-blue-gs"\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"cardTitle"\x3e${resources.createAppPlatformTypeMobile}\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n\n',
"url:cloudOE/panes/templates/CreateAppDeployPane.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" class\x3d"wizardPane deployWizardPane"\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"contentNode" class\x3d"createAppDeployPaneContent"\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"headerNode" class\x3d"header cloudOELightFont"\x3e\x3c/div\x3e\t\n\t\t\x3cdiv data-dojo-attach-point\x3d"cardBarNode" class\x3d"cardBar"\x3e\x3c/div\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"needleNode" class\x3d"triangle dijitHidden"\x3e\x3c/div\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"contentAreaNode" class\x3d"contentArea"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"url:cloudOE/panes/templates/CreateAppDeploymentPane.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" class\x3d"wizardPane"\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"contentNode" class\x3d"createAppDeploymentPaneContent"\x3e\n\t\t\x3ciframe data-dojo-attach-point\x3d"embeddedFrame" class\x3d"embeddedFrame"\x3e\x3c/iframe\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',"url:cloudOE/panes/templates/SampleAppPane.html":'\x3cdiv class\x3d"${baseClass} sampleAppPaneDiv" data-dojo-attach-point\x3d"focusNode" \x3e\n\n\x3c/div\x3e',
"*now":function(k){k(['dojo/i18n!*preload*cloudOE/panes/nls/MyResourcesNavigator*["ar","ca","cs","da","de","el","en-gb","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn"]'])}}});
define("cloudOE/panes/MyResourcesNavigator","dojo/_base/declare dojo/_base/lang dojo/on dojo/aspect dojo/topic dojo/cookie dojo/Deferred ./_Navigator ../ServerConnection ../RuntimeManager ./MyResources ./AppDetails ./ServiceInstanceDetails ./CreateAppWizard ./SampleAppPane ./PublishAppServicePane ../utils/apps dojo/i18n!../nls/resources".split(" "),function(k,n,h,p,c,g,v,y,u,z,w,x,s,r,f,B,m,t){return k([y],{resources:t,ignoreTitleSpan:!0,requiresActiveAccount:!0,constructor:function(c){this.title=
t.dashboard;this.context=c},startup:function(){this.inherited(arguments);u.getPublicInfo().then(function(c){this.useNewServiceDetails=c.useNewServiceDetails}.bind(this));this._subscribeCloudOETopic("cloudOE/changeOrg");this._subscribeCloudOETopic("cloudOE/changeSpace")},getStartingPane:function(){var c=this.myResources;if(!c||!c.domNode)c=this.myResources=new w,this.push(this.myResources,this.get("context"));return c},_cloudOETopicHandler:function(c,b){var f=this.get("context");switch(c){case "cloudOE/changeOrg":var d=
b.orgGuid||b.orgData.metadata.guid;(!f||f.orgGuid!==d)&&this.isVisible()&&!this.isHome()&&this._setContextAttr({orgGuid:d});break;case "cloudOE/changeSpace":if(b&&(b.orgGuid||b.orgData)&&(!b.spaceGuid||f.spaceGuid!==b.spaceGuid))this.selectedOrg=b.orgGuid||b.orgData.metadata.guid,this.selectedSpace=b.spaceGuid,this.isVisible()&&this.selectedOrg&&this.addRoute({orgGuid:this.selectedOrg,spaceGuid:this.selectedSpace},!0);break;default:console.error("MyResourcesNavigator::_cloudOETopicHandler -- There is no handler for topic \x3d "+
c)}},_setContextAttr:function(c){if(this._started){var b=n.mixin({},this.get("context"));this.inherited(arguments);if(c){this.isHome();var g=this.getLastPane();c._itemCreated&&c.appGuid&&c.serviceGuid?(c.serviceGuid=null,c.serviceName=null,(!g||!g.isInstanceOf(x)||c.appGuid!==g.appGuid)&&this._addDetailsPane(x,c,b)):c.serviceGuid&&!c.appGuid?g&&g.isInstanceOf(s)&&c.serviceGuid===g.serviceGuid?g.set("context",c):this.useNewServiceDetails?window.location="/serviceDetails/"+c.serviceGuid:this._addDetailsPane(s,
c,b):c.appGuid?g&&g.isInstanceOf(x)&&c.appGuid===g.appGuid?g.set("context",c):(g&&g.isInstanceOf(r)&&g.destroyRecursive(),this._addDetailsPane(x,c,b)):c.createSample?g&&g.isInstanceOf(f)?g.set("context",c):this._addSampleAppPane(c,b):c.createApp?g&&g.isInstanceOf(r)?g.set("context",c):this._addCreateAppWizard(c,b):c.publishCreatedAppService?g&&g.isInstanceOf(B)?g.set("context",c):(!g||!g.isInstanceOf(x))&&this._addPublishCreatedAppService(c,b):this.goHome({orgGuid:c.orgGuid,spaceGuid:c.spaceGuid,
extGuid:c.extGuid})}}},goHome:function(c){var b=!0,f={orgGuid:c&&c.orgGuid,spaceGuid:c&&c.spaceGuid},d=this.getLastPane(),g=!1;d&&d.isInstanceOf(r)&&(this.createAppWizard=d,g=!0);this.isHome()||(this.inherited(arguments,[f,g]),b=!1);c&&c.extGuid&&(f.extGuid=c.extGuid);this.getStartingPane().set("context",f);b&&this.addRoute(f);(b=this.domNode.querySelector(".isSelected"))&&b.scrollIntoView()},_addDetailsPane:function(c,b,f){c=new c(b);this.push(c,f);this.addRoute(b)},_addCreateAppWizard:function(c,
b){c.clear||!this.createAppWizard?(this.createAppWizard&&this.createAppWizard.destroyRecursive(),this.openingAppWizard||(this.openingAppWizard=!0,this._isMobileAvailable(c).then(function(f){c.mobileAvailable=f;c.useGitFlow=this.useGitFlow;this.push(new r(c),b);c.clear=void 0;this.addRoute(c)}.bind(this)))):(this.push(this.createAppWizard,b),this.addRoute(c))},_isMobileAvailable:function(c){var b=new v,f=!1;u.getPublicInfo().then(function(d){this.useGitFlow=d.useGitAppCreateFlows;if(d.mobileTypes){var g=
[],h;for(h in d.mobileTypes)g.push(d.mobileTypes[h].boilerplate);u.getTemplates(!1).then(function(c){c&&0<c.length&&c.some(function(a){return g.some(function(b){if(b===a.id)return f=!0}.bind(this))}.bind(this));b.resolve(f);this.openingAppWizard=!1}.bind(this),function(d){(d=z.handleError(d,t.cannotRetrieveTemplates))&&d.then(function(a){z.showMainPane(z.mainPanes.DASHBOARD,{orgGuid:c.orgGuid,spaceGuid:c.spaceGuid});this.openingAppWizard=!1}.bind(this));b.reject()}.bind(this))}else b.resolve(!1),
this.openingAppWizard=!1}.bind(this));return b},_addSampleAppPane:function(c,b){var g=new f(c);this.push(g,b);this.addRoute(c)},_addPublishCreatedAppService:function(c,b){var f=new B(c);this.push(f,b);this.addRoute(c)}})});
//# sourceMappingURL=MyResourcesNavigator.js.map